var hN=Object.defineProperty;var g2=t=>{throw TypeError(t)};var pN=(t,e,n)=>e in t?hN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k=(t,e,n)=>pN(t,typeof e!="symbol"?e+"":e,n),nm=(t,e,n)=>e.has(t)||g2("Cannot "+n);var h=(t,e,n)=>(nm(t,e,"read from private field"),n?n.call(t):e.get(t)),P=(t,e,n)=>e.has(t)?g2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),E=(t,e,n,r)=>(nm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),W=(t,e,n)=>(nm(t,e,"access private method"),n);var fc=(t,e,n,r)=>({set _(s){E(t,e,s,n)},get _(){return h(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var p6={exports:{}},$p={},g6={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd=Symbol.for("react.element"),gN=Symbol.for("react.portal"),mN=Symbol.for("react.fragment"),yN=Symbol.for("react.strict_mode"),bN=Symbol.for("react.profiler"),xN=Symbol.for("react.provider"),wN=Symbol.for("react.context"),EN=Symbol.for("react.forward_ref"),vN=Symbol.for("react.suspense"),AN=Symbol.for("react.memo"),SN=Symbol.for("react.lazy"),m2=Symbol.iterator;function kN(t){return t===null||typeof t!="object"?null:(t=m2&&t[m2]||t["@@iterator"],typeof t=="function"?t:null)}var m6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y6=Object.assign,b6={};function kl(t,e,n){this.props=t,this.context=e,this.refs=b6,this.updater=n||m6}kl.prototype.isReactComponent={};kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x6(){}x6.prototype=kl.prototype;function Ix(t,e,n){this.props=t,this.context=e,this.refs=b6,this.updater=n||m6}var Ox=Ix.prototype=new x6;Ox.constructor=Ix;y6(Ox,kl.prototype);Ox.isPureReactComponent=!0;var y2=Array.isArray,w6=Object.prototype.hasOwnProperty,Cx={current:null},E6={key:!0,ref:!0,__self:!0,__source:!0};function v6(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)w6.call(e,r)&&!E6.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Vd,type:t,key:i,ref:o,props:s,_owner:Cx.current}}function TN(t,e){return{$$typeof:Vd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vd}function IN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var b2=/\/+/g;function rm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IN(""+t.key):e.toString(36)}function e0(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vd:case gN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+rm(o,0):r,y2(s)?(n="",t!=null&&(n=t.replace(b2,"$&/")+"/"),e0(s,e,n,"",function(u){return u})):s!=null&&(Nx(s)&&(s=TN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(b2,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",y2(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+rm(i,a);o+=e0(i,e,n,c,s)}else if(c=kN(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+rm(i,a++),o+=e0(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(t,e,n){if(t==null)return t;var r=[],s=0;return e0(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ON(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kn={current:null},t0={transition:null},CN={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:t0,ReactCurrentOwner:Cx};function A6(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:gh,forEach:function(t,e,n){gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gh(t,function(){e++}),e},toArray:function(t){return gh(t,function(e){return e})||[]},only:function(t){if(!Nx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=kl;Se.Fragment=mN;Se.Profiler=bN;Se.PureComponent=Ix;Se.StrictMode=yN;Se.Suspense=vN;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CN;Se.act=A6;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=y6({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Cx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)w6.call(e,c)&&!E6.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Vd,type:t.type,key:s,ref:i,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:wN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xN,_context:t},t.Consumer=t};Se.createElement=v6;Se.createFactory=function(t){var e=v6.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:EN,render:t}};Se.isValidElement=Nx;Se.lazy=function(t){return{$$typeof:SN,_payload:{_status:-1,_result:t},_init:ON}};Se.memo=function(t,e){return{$$typeof:AN,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=t0.transition;t0.transition={};try{t()}finally{t0.transition=e}};Se.unstable_act=A6;Se.useCallback=function(t,e){return kn.current.useCallback(t,e)};Se.useContext=function(t){return kn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return kn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return kn.current.useEffect(t,e)};Se.useId=function(){return kn.current.useId()};Se.useImperativeHandle=function(t,e,n){return kn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return kn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return kn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return kn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return kn.current.useReducer(t,e,n)};Se.useRef=function(t){return kn.current.useRef(t)};Se.useState=function(t){return kn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return kn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return kn.current.useTransition()};Se.version="18.3.1";g6.exports=Se;var _r=g6.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN=_r,PN=Symbol.for("react.element"),RN=Symbol.for("react.fragment"),_N=Object.prototype.hasOwnProperty,BN=NN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MN={key:!0,ref:!0,__self:!0,__source:!0};function S6(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_N.call(e,r)&&!MN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:PN,type:t,key:i,ref:o,props:s,_owner:BN.current}}$p.Fragment=RN;$p.jsx=S6;$p.jsxs=S6;p6.exports=$p;var Le=p6.exports,k6={exports:{}},er={},T6={exports:{}},I6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,v){var T=b.length;b.push(v);e:for(;0<T;){var N=T-1>>>1,_=b[N];if(0<s(_,v))b[N]=v,b[T]=_,T=N;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var v=b[0],T=b.pop();if(T!==v){b[0]=T;e:for(var N=0,_=b.length,F=_>>>1;N<F;){var H=2*(N+1)-1,z=b[H],G=H+1,V=b[G];if(0>s(z,T))G<_&&0>s(V,z)?(b[N]=V,b[G]=T,N=G):(b[N]=z,b[H]=T,N=H);else if(G<_&&0>s(V,T))b[N]=V,b[G]=T,N=G;else break e}}return v}function s(b,v){var T=b.sortIndex-v.sortIndex;return T!==0?T:b.id-v.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],l=1,f=null,d=3,p=!1,y=!1,g=!1,A=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(b){for(var v=n(u);v!==null;){if(v.callback===null)r(u);else if(v.startTime<=b)r(u),v.sortIndex=v.expirationTime,e(c,v);else break;v=n(u)}}function C(b){if(g=!1,w(b),!y)if(n(c)!==null)y=!0,Q(O);else{var v=n(u);v!==null&&oe(C,v.startTime-b)}}function O(b,v){y=!1,g&&(g=!1,m(R),R=-1),p=!0;var T=d;try{for(w(v),f=n(c);f!==null&&(!(f.expirationTime>v)||b&&!te());){var N=f.callback;if(typeof N=="function"){f.callback=null,d=f.priorityLevel;var _=N(f.expirationTime<=v);v=t.unstable_now(),typeof _=="function"?f.callback=_:f===n(c)&&r(c),w(v)}else r(c);f=n(c)}if(f!==null)var F=!0;else{var H=n(u);H!==null&&oe(C,H.startTime-v),F=!1}return F}finally{f=null,d=T,p=!1}}var B=!1,M=null,R=-1,K=5,j=-1;function te(){return!(t.unstable_now()-j<K)}function ye(){if(M!==null){var b=t.unstable_now();j=b;var v=!0;try{v=M(!0,b)}finally{v?be():(B=!1,M=null)}}else B=!1}var be;if(typeof x=="function")be=function(){x(ye)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,U=Qe.port2;Qe.port1.onmessage=ye,be=function(){U.postMessage(null)}}else be=function(){A(ye,0)};function Q(b){M=b,B||(B=!0,be())}function oe(b,v){R=A(function(){b(t.unstable_now())},v)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Q(O))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(b){switch(d){case 1:case 2:case 3:var v=3;break;default:v=d}var T=d;d=v;try{return b()}finally{d=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,v){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var T=d;d=b;try{return v()}finally{d=T}},t.unstable_scheduleCallback=function(b,v,T){var N=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?N+T:N):T=N,b){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=T+_,b={id:l++,callback:v,priorityLevel:b,startTime:T,expirationTime:_,sortIndex:-1},T>N?(b.sortIndex=T,e(u,b),n(c)===null&&b===n(u)&&(g?(m(R),R=-1):g=!0,oe(C,T-N))):(b.sortIndex=_,e(c,b),y||p||(y=!0,Q(O))),b},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(b){var v=d;return function(){var T=d;d=v;try{return b.apply(this,arguments)}finally{d=T}}}})(I6);T6.exports=I6;var LN=T6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN=_r,Zn=LN;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O6=new Set,Ff={};function cc(t,e){Zu(t,e),Zu(t+"Capture",e)}function Zu(t,e){for(Ff[t]=e,t=0;t<e.length;t++)O6.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ly=Object.prototype.hasOwnProperty,UN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x2={},w2={};function FN(t){return ly.call(w2,t)?!0:ly.call(x2,t)?!1:UN.test(t)?w2[t]=!0:(x2[t]=!0,!1)}function $N(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WN(t,e,n,r){if(e===null||typeof e>"u"||$N(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new Tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new Tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new Tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new Tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new Tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new Tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new Tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new Tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new Tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Px=/[\-:]([a-z])/g;function Rx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Px,Rx);Zt[e]=new Tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Px,Rx);Zt[e]=new Tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Px,Rx);Zt[e]=new Tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new Tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new Tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function _x(t,e,n,r){var s=Zt.hasOwnProperty(e)?Zt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WN(e,n,s,r)&&(n=null),r||s===null?FN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xi=DN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mh=Symbol.for("react.element"),Oc=Symbol.for("react.portal"),Cc=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),fy=Symbol.for("react.profiler"),C6=Symbol.for("react.provider"),N6=Symbol.for("react.context"),Mx=Symbol.for("react.forward_ref"),dy=Symbol.for("react.suspense"),hy=Symbol.for("react.suspense_list"),Lx=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),P6=Symbol.for("react.offscreen"),E2=Symbol.iterator;function Dl(t){return t===null||typeof t!="object"?null:(t=E2&&t[E2]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,sm;function ef(t){if(sm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sm=e&&e[1]||""}return`
`+sm+t}var im=!1;function om(t,e){if(!t||im)return"";im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{im=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ef(t):""}function HN(t){switch(t.tag){case 5:return ef(t.type);case 16:return ef("Lazy");case 13:return ef("Suspense");case 19:return ef("SuspenseList");case 0:case 2:case 15:return t=om(t.type,!1),t;case 11:return t=om(t.type.render,!1),t;case 1:return t=om(t.type,!0),t;default:return""}}function py(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cc:return"Fragment";case Oc:return"Portal";case fy:return"Profiler";case Bx:return"StrictMode";case dy:return"Suspense";case hy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N6:return(t.displayName||"Context")+".Consumer";case C6:return(t._context.displayName||"Context")+".Provider";case Mx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lx:return e=t.displayName||null,e!==null?e:py(t.type)||"Memo";case Di:e=t._payload,t=t._init;try{return py(t(e))}catch{}}return null}function jN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return py(e);case 8:return e===Bx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GN(t){var e=R6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yh(t){t._valueTracker||(t._valueTracker=GN(t))}function _6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=R6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function D0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gy(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=No(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function B6(t,e){e=e.checked,e!=null&&_x(t,"checked",e,!1)}function my(t,e){B6(t,e);var n=No(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yy(t,e.type,n):e.hasOwnProperty("defaultValue")&&yy(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function A2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yy(t,e,n){(e!=="number"||D0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tf=Array.isArray;function zc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+No(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function by(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(tf(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:No(n)}}function M6(t,e){var n=No(e.value),r=No(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function k2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bh,D6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $f(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VN=["Webkit","ms","Moz","O"];Object.keys(mf).forEach(function(t){VN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mf[e]=mf[t]})});function U6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mf.hasOwnProperty(t)&&mf[t]?(""+e).trim():e+"px"}function F6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=U6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var zN=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wy(t,e){if(e){if(zN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vy=null;function Dx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ay=null,Kc=null,qc=null;function T2(t){if(t=qd(t)){if(typeof Ay!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Vp(e),Ay(t.stateNode,t.type,e))}}function $6(t){Kc?qc?qc.push(t):qc=[t]:Kc=t}function W6(){if(Kc){var t=Kc,e=qc;if(qc=Kc=null,T2(t),e)for(t=0;t<e.length;t++)T2(e[t])}}function H6(t,e){return t(e)}function j6(){}var am=!1;function G6(t,e,n){if(am)return t(e,n);am=!0;try{return H6(t,e,n)}finally{am=!1,(Kc!==null||qc!==null)&&(j6(),W6())}}function Wf(t,e){var n=t.stateNode;if(n===null)return null;var r=Vp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Sy=!1;if(di)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Sy=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Sy=!1}function KN(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(l){this.onError(l)}}var yf=!1,U0=null,F0=!1,ky=null,qN={onError:function(t){yf=!0,U0=t}};function QN(t,e,n,r,s,i,o,a,c){yf=!1,U0=null,KN.apply(qN,arguments)}function JN(t,e,n,r,s,i,o,a,c){if(QN.apply(this,arguments),yf){if(yf){var u=U0;yf=!1,U0=null}else throw Error(q(198));F0||(F0=!0,ky=u)}}function uc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function V6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function I2(t){if(uc(t)!==t)throw Error(q(188))}function YN(t){var e=t.alternate;if(!e){if(e=uc(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return I2(s),t;if(i===r)return I2(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function z6(t){return t=YN(t),t!==null?K6(t):null}function K6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K6(t);if(e!==null)return e;t=t.sibling}return null}var q6=Zn.unstable_scheduleCallback,O2=Zn.unstable_cancelCallback,XN=Zn.unstable_shouldYield,ZN=Zn.unstable_requestPaint,yt=Zn.unstable_now,e7=Zn.unstable_getCurrentPriorityLevel,Ux=Zn.unstable_ImmediatePriority,Q6=Zn.unstable_UserBlockingPriority,$0=Zn.unstable_NormalPriority,t7=Zn.unstable_LowPriority,J6=Zn.unstable_IdlePriority,Wp=null,Ts=null;function n7(t){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(Wp,t,void 0,(t.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:i7,r7=Math.log,s7=Math.LN2;function i7(t){return t>>>=0,t===0?32:31-(r7(t)/s7|0)|0}var xh=64,wh=4194304;function nf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function W0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=nf(a):(i&=o,i!==0&&(r=nf(i)))}else o=n&~s,o!==0?r=nf(o):i!==0&&(r=nf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qr(e),s=1<<n,r|=t[n],e&=~s;return r}function o7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=o7(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Ty(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Y6(){var t=xh;return xh<<=1,!(xh&4194240)&&(xh=64),t}function cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qr(e),t[e]=n}function c7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Fx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var He=0;function X6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Z6,$x,e5,t5,n5,Iy=!1,Eh=[],mo=null,yo=null,bo=null,Hf=new Map,jf=new Map,Wi=[],u7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C2(t,e){switch(t){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":Hf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(e.pointerId)}}function Fl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qd(e),e!==null&&$x(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function l7(t,e,n,r,s){switch(e){case"focusin":return mo=Fl(mo,t,e,n,r,s),!0;case"dragenter":return yo=Fl(yo,t,e,n,r,s),!0;case"mouseover":return bo=Fl(bo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hf.set(i,Fl(Hf.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,jf.set(i,Fl(jf.get(i)||null,t,e,n,r,s)),!0}return!1}function r5(t){var e=oa(t.target);if(e!==null){var n=uc(e);if(n!==null){if(e=n.tag,e===13){if(e=V6(n),e!==null){t.blockedOn=e,n5(t.priority,function(){e5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function n0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vy=r,n.target.dispatchEvent(r),vy=null}else return e=qd(n),e!==null&&$x(e),t.blockedOn=n,!1;e.shift()}return!0}function N2(t,e,n){n0(t)&&n.delete(e)}function f7(){Iy=!1,mo!==null&&n0(mo)&&(mo=null),yo!==null&&n0(yo)&&(yo=null),bo!==null&&n0(bo)&&(bo=null),Hf.forEach(N2),jf.forEach(N2)}function $l(t,e){t.blockedOn===e&&(t.blockedOn=null,Iy||(Iy=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,f7)))}function Gf(t){function e(s){return $l(s,t)}if(0<Eh.length){$l(Eh[0],t);for(var n=1;n<Eh.length;n++){var r=Eh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mo!==null&&$l(mo,t),yo!==null&&$l(yo,t),bo!==null&&$l(bo,t),Hf.forEach(e),jf.forEach(e),n=0;n<Wi.length;n++)r=Wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)r5(n),n.blockedOn===null&&Wi.shift()}var Qc=xi.ReactCurrentBatchConfig,H0=!0;function d7(t,e,n,r){var s=He,i=Qc.transition;Qc.transition=null;try{He=1,Wx(t,e,n,r)}finally{He=s,Qc.transition=i}}function h7(t,e,n,r){var s=He,i=Qc.transition;Qc.transition=null;try{He=4,Wx(t,e,n,r)}finally{He=s,Qc.transition=i}}function Wx(t,e,n,r){if(H0){var s=Oy(t,e,n,r);if(s===null)bm(t,e,r,j0,n),C2(t,r);else if(l7(s,t,e,n,r))r.stopPropagation();else if(C2(t,r),e&4&&-1<u7.indexOf(t)){for(;s!==null;){var i=qd(s);if(i!==null&&Z6(i),i=Oy(t,e,n,r),i===null&&bm(t,e,r,j0,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bm(t,e,r,null,n)}}var j0=null;function Oy(t,e,n,r){if(j0=null,t=Dx(r),t=oa(t),t!==null)if(e=uc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=V6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return j0=t,null}function s5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e7()){case Ux:return 1;case Q6:return 4;case $0:case t7:return 16;case J6:return 536870912;default:return 16}default:return 16}}var lo=null,Hx=null,r0=null;function i5(){if(r0)return r0;var t,e=Hx,n=e.length,r,s="value"in lo?lo.value:lo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return r0=s.slice(t,1<r?1-r:void 0)}function s0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vh(){return!0}function P2(){return!1}function tr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vh:P2,this.isPropagationStopped=P2,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),e}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jx=tr(Tl),Kd=ut({},Tl,{view:0,detail:0}),p7=tr(Kd),um,lm,Wl,Hp=ut({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wl&&(Wl&&t.type==="mousemove"?(um=t.screenX-Wl.screenX,lm=t.screenY-Wl.screenY):lm=um=0,Wl=t),um)},movementY:function(t){return"movementY"in t?t.movementY:lm}}),R2=tr(Hp),g7=ut({},Hp,{dataTransfer:0}),m7=tr(g7),y7=ut({},Kd,{relatedTarget:0}),fm=tr(y7),b7=ut({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),x7=tr(b7),w7=ut({},Tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),E7=tr(w7),v7=ut({},Tl,{data:0}),_2=tr(v7),A7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k7[t])?!!e[t]:!1}function Gx(){return T7}var I7=ut({},Kd,{key:function(t){if(t.key){var e=A7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=s0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gx,charCode:function(t){return t.type==="keypress"?s0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?s0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O7=tr(I7),C7=ut({},Hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B2=tr(C7),N7=ut({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gx}),P7=tr(N7),R7=ut({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),_7=tr(R7),B7=ut({},Hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M7=tr(B7),L7=[9,13,27,32],Vx=di&&"CompositionEvent"in window,bf=null;di&&"documentMode"in document&&(bf=document.documentMode);var D7=di&&"TextEvent"in window&&!bf,o5=di&&(!Vx||bf&&8<bf&&11>=bf),M2=" ",L2=!1;function a5(t,e){switch(t){case"keyup":return L7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nc=!1;function U7(t,e){switch(t){case"compositionend":return c5(e);case"keypress":return e.which!==32?null:(L2=!0,M2);case"textInput":return t=e.data,t===M2&&L2?null:t;default:return null}}function F7(t,e){if(Nc)return t==="compositionend"||!Vx&&a5(t,e)?(t=i5(),r0=Hx=lo=null,Nc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o5&&e.locale!=="ko"?null:e.data;default:return null}}var $7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$7[t.type]:e==="textarea"}function u5(t,e,n,r){$6(r),e=G0(e,"onChange"),0<e.length&&(n=new jx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xf=null,Vf=null;function W7(t){w5(t,0)}function jp(t){var e=_c(t);if(_6(e))return t}function H7(t,e){if(t==="change")return e}var l5=!1;if(di){var dm;if(di){var hm="oninput"in document;if(!hm){var U2=document.createElement("div");U2.setAttribute("oninput","return;"),hm=typeof U2.oninput=="function"}dm=hm}else dm=!1;l5=dm&&(!document.documentMode||9<document.documentMode)}function F2(){xf&&(xf.detachEvent("onpropertychange",f5),Vf=xf=null)}function f5(t){if(t.propertyName==="value"&&jp(Vf)){var e=[];u5(e,Vf,t,Dx(t)),G6(W7,e)}}function j7(t,e,n){t==="focusin"?(F2(),xf=e,Vf=n,xf.attachEvent("onpropertychange",f5)):t==="focusout"&&F2()}function G7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jp(Vf)}function V7(t,e){if(t==="click")return jp(e)}function z7(t,e){if(t==="input"||t==="change")return jp(e)}function K7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yr=typeof Object.is=="function"?Object.is:K7;function zf(t,e){if(Yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ly.call(e,s)||!Yr(t[s],e[s]))return!1}return!0}function $2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W2(t,e){var n=$2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$2(n)}}function d5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?d5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function h5(){for(var t=window,e=D0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=D0(t.document)}return e}function zx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function q7(t){var e=h5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&d5(n.ownerDocument.documentElement,n)){if(r!==null&&zx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=W2(n,i);var o=W2(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Q7=di&&"documentMode"in document&&11>=document.documentMode,Pc=null,Cy=null,wf=null,Ny=!1;function H2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ny||Pc==null||Pc!==D0(r)||(r=Pc,"selectionStart"in r&&zx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wf&&zf(wf,r)||(wf=r,r=G0(Cy,"onSelect"),0<r.length&&(e=new jx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pc)))}function Ah(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rc={animationend:Ah("Animation","AnimationEnd"),animationiteration:Ah("Animation","AnimationIteration"),animationstart:Ah("Animation","AnimationStart"),transitionend:Ah("Transition","TransitionEnd")},pm={},p5={};di&&(p5=document.createElement("div").style,"AnimationEvent"in window||(delete Rc.animationend.animation,delete Rc.animationiteration.animation,delete Rc.animationstart.animation),"TransitionEvent"in window||delete Rc.transitionend.transition);function Gp(t){if(pm[t])return pm[t];if(!Rc[t])return t;var e=Rc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in p5)return pm[t]=e[n];return t}var g5=Gp("animationend"),m5=Gp("animationiteration"),y5=Gp("animationstart"),b5=Gp("transitionend"),x5=new Map,j2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(t,e){x5.set(t,e),cc(e,[t])}for(var gm=0;gm<j2.length;gm++){var mm=j2[gm],J7=mm.toLowerCase(),Y7=mm[0].toUpperCase()+mm.slice(1);Mo(J7,"on"+Y7)}Mo(g5,"onAnimationEnd");Mo(m5,"onAnimationIteration");Mo(y5,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo(b5,"onTransitionEnd");Zu("onMouseEnter",["mouseout","mouseover"]);Zu("onMouseLeave",["mouseout","mouseover"]);Zu("onPointerEnter",["pointerout","pointerover"]);Zu("onPointerLeave",["pointerout","pointerover"]);cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X7=new Set("cancel close invalid load scroll toggle".split(" ").concat(rf));function G2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JN(r,e,void 0,t),t.currentTarget=null}function w5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;G2(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;G2(s,a,u),i=c}}}if(F0)throw t=ky,F0=!1,ky=null,t}function Xe(t,e){var n=e[My];n===void 0&&(n=e[My]=new Set);var r=t+"__bubble";n.has(r)||(E5(e,t,2,!1),n.add(r))}function ym(t,e,n){var r=0;e&&(r|=4),E5(n,t,r,e)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function Kf(t){if(!t[Sh]){t[Sh]=!0,O6.forEach(function(n){n!=="selectionchange"&&(X7.has(n)||ym(n,!1,t),ym(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sh]||(e[Sh]=!0,ym("selectionchange",!1,e))}}function E5(t,e,n,r){switch(s5(e)){case 1:var s=d7;break;case 4:s=h7;break;default:s=Wx}n=s.bind(null,e,n,t),s=void 0,!Sy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=oa(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}G6(function(){var u=i,l=Dx(n),f=[];e:{var d=x5.get(t);if(d!==void 0){var p=jx,y=t;switch(t){case"keypress":if(s0(n)===0)break e;case"keydown":case"keyup":p=O7;break;case"focusin":y="focus",p=fm;break;case"focusout":y="blur",p=fm;break;case"beforeblur":case"afterblur":p=fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=R2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=m7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=P7;break;case g5:case m5:case y5:p=x7;break;case b5:p=_7;break;case"scroll":p=p7;break;case"wheel":p=M7;break;case"copy":case"cut":case"paste":p=E7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=B2}var g=(e&4)!==0,A=!g&&t==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var x=u,w;x!==null;){w=x;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,m!==null&&(C=Wf(x,m),C!=null&&g.push(qf(x,C,w)))),A)break;x=x.return}0<g.length&&(d=new p(d,y,null,n,l),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==vy&&(y=n.relatedTarget||n.fromElement)&&(oa(y)||y[hi]))break e;if((p||d)&&(d=l.window===l?l:(d=l.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?oa(y):null,y!==null&&(A=uc(y),y!==A||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=R2,C="onMouseLeave",m="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=B2,C="onPointerLeave",m="onPointerEnter",x="pointer"),A=p==null?d:_c(p),w=y==null?d:_c(y),d=new g(C,x+"leave",p,n,l),d.target=A,d.relatedTarget=w,C=null,oa(l)===u&&(g=new g(m,x+"enter",y,n,l),g.target=w,g.relatedTarget=A,C=g),A=C,p&&y)t:{for(g=p,m=y,x=0,w=g;w;w=dc(w))x++;for(w=0,C=m;C;C=dc(C))w++;for(;0<x-w;)g=dc(g),x--;for(;0<w-x;)m=dc(m),w--;for(;x--;){if(g===m||m!==null&&g===m.alternate)break t;g=dc(g),m=dc(m)}g=null}else g=null;p!==null&&V2(f,d,p,g,!1),y!==null&&A!==null&&V2(f,A,y,g,!0)}}e:{if(d=u?_c(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var O=H7;else if(D2(d))if(l5)O=z7;else{O=G7;var B=j7}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=V7);if(O&&(O=O(t,u))){u5(f,O,n,l);break e}B&&B(t,d,u),t==="focusout"&&(B=d._wrapperState)&&B.controlled&&d.type==="number"&&yy(d,"number",d.value)}switch(B=u?_c(u):window,t){case"focusin":(D2(B)||B.contentEditable==="true")&&(Pc=B,Cy=u,wf=null);break;case"focusout":wf=Cy=Pc=null;break;case"mousedown":Ny=!0;break;case"contextmenu":case"mouseup":case"dragend":Ny=!1,H2(f,n,l);break;case"selectionchange":if(Q7)break;case"keydown":case"keyup":H2(f,n,l)}var M;if(Vx)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Nc?a5(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(o5&&n.locale!=="ko"&&(Nc||R!=="onCompositionStart"?R==="onCompositionEnd"&&Nc&&(M=i5()):(lo=l,Hx="value"in lo?lo.value:lo.textContent,Nc=!0)),B=G0(u,R),0<B.length&&(R=new _2(R,t,null,n,l),f.push({event:R,listeners:B}),M?R.data=M:(M=c5(n),M!==null&&(R.data=M)))),(M=D7?U7(t,n):F7(t,n))&&(u=G0(u,"onBeforeInput"),0<u.length&&(l=new _2("onBeforeInput","beforeinput",null,n,l),f.push({event:l,listeners:u}),l.data=M))}w5(f,e)})}function qf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function G0(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Wf(t,n),i!=null&&r.unshift(qf(t,i,s)),i=Wf(t,e),i!=null&&r.push(qf(t,i,s))),t=t.return}return r}function dc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function V2(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Wf(n,i),c!=null&&o.unshift(qf(n,c,a))):s||(c=Wf(n,i),c!=null&&o.push(qf(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Z7=/\r\n?/g,eP=/\u0000|\uFFFD/g;function z2(t){return(typeof t=="string"?t:""+t).replace(Z7,`
`).replace(eP,"")}function kh(t,e,n){if(e=z2(e),z2(t)!==e&&n)throw Error(q(425))}function V0(){}var Py=null,Ry=null;function _y(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var By=typeof setTimeout=="function"?setTimeout:void 0,tP=typeof clearTimeout=="function"?clearTimeout:void 0,K2=typeof Promise=="function"?Promise:void 0,nP=typeof queueMicrotask=="function"?queueMicrotask:typeof K2<"u"?function(t){return K2.resolve(null).then(t).catch(rP)}:By;function rP(t){setTimeout(function(){throw t})}function xm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gf(e)}function xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function q2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Il=Math.random().toString(36).slice(2),vs="__reactFiber$"+Il,Qf="__reactProps$"+Il,hi="__reactContainer$"+Il,My="__reactEvents$"+Il,sP="__reactListeners$"+Il,iP="__reactHandles$"+Il;function oa(t){var e=t[vs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[vs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=q2(t);t!==null;){if(n=t[vs])return n;t=q2(t)}return e}t=n,n=t.parentNode}return null}function qd(t){return t=t[vs]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _c(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Vp(t){return t[Qf]||null}var Ly=[],Bc=-1;function Lo(t){return{current:t}}function nt(t){0>Bc||(t.current=Ly[Bc],Ly[Bc]=null,Bc--)}function Je(t,e){Bc++,Ly[Bc]=t.current,t.current=e}var Po={},fn=Lo(Po),Mn=Lo(!1),Qa=Po;function el(t,e){var n=t.type.contextTypes;if(!n)return Po;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ln(t){return t=t.childContextTypes,t!=null}function z0(){nt(Mn),nt(fn)}function Q2(t,e,n){if(fn.current!==Po)throw Error(q(168));Je(fn,e),Je(Mn,n)}function v5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,jN(t)||"Unknown",s));return ut({},n,r)}function K0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Po,Qa=fn.current,Je(fn,t),Je(Mn,Mn.current),!0}function J2(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=v5(t,e,Qa),r.__reactInternalMemoizedMergedChildContext=t,nt(Mn),nt(fn),Je(fn,t)):nt(Mn),Je(Mn,n)}var Ws=null,zp=!1,wm=!1;function A5(t){Ws===null?Ws=[t]:Ws.push(t)}function oP(t){zp=!0,A5(t)}function Do(){if(!wm&&Ws!==null){wm=!0;var t=0,e=He;try{var n=Ws;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ws=null,zp=!1}catch(s){throw Ws!==null&&(Ws=Ws.slice(t+1)),q6(Ux,Do),s}finally{He=e,wm=!1}}return null}var Mc=[],Lc=0,q0=null,Q0=0,yr=[],br=0,Ja=null,ri=1,si="";function qo(t,e){Mc[Lc++]=Q0,Mc[Lc++]=q0,q0=t,Q0=e}function S5(t,e,n){yr[br++]=ri,yr[br++]=si,yr[br++]=Ja,Ja=t;var r=ri;t=si;var s=32-qr(r)-1;r&=~(1<<s),n+=1;var i=32-qr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ri=1<<32-qr(e)+s|n<<s|r,si=i+t}else ri=1<<i|n<<s|r,si=t}function Kx(t){t.return!==null&&(qo(t,1),S5(t,1,0))}function qx(t){for(;t===q0;)q0=Mc[--Lc],Mc[Lc]=null,Q0=Mc[--Lc],Mc[Lc]=null;for(;t===Ja;)Ja=yr[--br],yr[br]=null,si=yr[--br],yr[br]=null,ri=yr[--br],yr[br]=null}var Yn=null,Jn=null,st=!1,jr=null;function k5(t,e){var n=wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Y2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yn=t,Jn=xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yn=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ja!==null?{id:ri,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yn=t,Jn=null,!0):!1;default:return!1}}function Dy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uy(t){if(st){var e=Jn;if(e){var n=e;if(!Y2(t,e)){if(Dy(t))throw Error(q(418));e=xo(n.nextSibling);var r=Yn;e&&Y2(t,e)?k5(r,n):(t.flags=t.flags&-4097|2,st=!1,Yn=t)}}else{if(Dy(t))throw Error(q(418));t.flags=t.flags&-4097|2,st=!1,Yn=t}}}function X2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yn=t}function Th(t){if(t!==Yn)return!1;if(!st)return X2(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_y(t.type,t.memoizedProps)),e&&(e=Jn)){if(Dy(t))throw T5(),Error(q(418));for(;e;)k5(t,e),e=xo(e.nextSibling)}if(X2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=Yn?xo(t.stateNode.nextSibling):null;return!0}function T5(){for(var t=Jn;t;)t=xo(t.nextSibling)}function tl(){Jn=Yn=null,st=!1}function Qx(t){jr===null?jr=[t]:jr.push(t)}var aP=xi.ReactCurrentBatchConfig;function Hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Ih(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Z2(t){var e=t._init;return e(t._payload)}function I5(t){function e(m,x){if(t){var w=m.deletions;w===null?(m.deletions=[x],m.flags|=16):w.push(x)}}function n(m,x){if(!t)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function s(m,x){return m=Ao(m,x),m.index=0,m.sibling=null,m}function i(m,x,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<x?(m.flags|=2,x):w):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,x,w,C){return x===null||x.tag!==6?(x=Im(w,m.mode,C),x.return=m,x):(x=s(x,w),x.return=m,x)}function c(m,x,w,C){var O=w.type;return O===Cc?l(m,x,w.props.children,C,w.key):x!==null&&(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Di&&Z2(O)===x.type)?(C=s(x,w.props),C.ref=Hl(m,x,w),C.return=m,C):(C=f0(w.type,w.key,w.props,null,m.mode,C),C.ref=Hl(m,x,w),C.return=m,C)}function u(m,x,w,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Om(w,m.mode,C),x.return=m,x):(x=s(x,w.children||[]),x.return=m,x)}function l(m,x,w,C,O){return x===null||x.tag!==7?(x=Wa(w,m.mode,C,O),x.return=m,x):(x=s(x,w),x.return=m,x)}function f(m,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Im(""+x,m.mode,w),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mh:return w=f0(x.type,x.key,x.props,null,m.mode,w),w.ref=Hl(m,null,x),w.return=m,w;case Oc:return x=Om(x,m.mode,w),x.return=m,x;case Di:var C=x._init;return f(m,C(x._payload),w)}if(tf(x)||Dl(x))return x=Wa(x,m.mode,w,null),x.return=m,x;Ih(m,x)}return null}function d(m,x,w,C){var O=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:a(m,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mh:return w.key===O?c(m,x,w,C):null;case Oc:return w.key===O?u(m,x,w,C):null;case Di:return O=w._init,d(m,x,O(w._payload),C)}if(tf(w)||Dl(w))return O!==null?null:l(m,x,w,C,null);Ih(m,w)}return null}function p(m,x,w,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(w)||null,a(x,m,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case mh:return m=m.get(C.key===null?w:C.key)||null,c(x,m,C,O);case Oc:return m=m.get(C.key===null?w:C.key)||null,u(x,m,C,O);case Di:var B=C._init;return p(m,x,w,B(C._payload),O)}if(tf(C)||Dl(C))return m=m.get(w)||null,l(x,m,C,O,null);Ih(x,C)}return null}function y(m,x,w,C){for(var O=null,B=null,M=x,R=x=0,K=null;M!==null&&R<w.length;R++){M.index>R?(K=M,M=null):K=M.sibling;var j=d(m,M,w[R],C);if(j===null){M===null&&(M=K);break}t&&M&&j.alternate===null&&e(m,M),x=i(j,x,R),B===null?O=j:B.sibling=j,B=j,M=K}if(R===w.length)return n(m,M),st&&qo(m,R),O;if(M===null){for(;R<w.length;R++)M=f(m,w[R],C),M!==null&&(x=i(M,x,R),B===null?O=M:B.sibling=M,B=M);return st&&qo(m,R),O}for(M=r(m,M);R<w.length;R++)K=p(M,m,R,w[R],C),K!==null&&(t&&K.alternate!==null&&M.delete(K.key===null?R:K.key),x=i(K,x,R),B===null?O=K:B.sibling=K,B=K);return t&&M.forEach(function(te){return e(m,te)}),st&&qo(m,R),O}function g(m,x,w,C){var O=Dl(w);if(typeof O!="function")throw Error(q(150));if(w=O.call(w),w==null)throw Error(q(151));for(var B=O=null,M=x,R=x=0,K=null,j=w.next();M!==null&&!j.done;R++,j=w.next()){M.index>R?(K=M,M=null):K=M.sibling;var te=d(m,M,j.value,C);if(te===null){M===null&&(M=K);break}t&&M&&te.alternate===null&&e(m,M),x=i(te,x,R),B===null?O=te:B.sibling=te,B=te,M=K}if(j.done)return n(m,M),st&&qo(m,R),O;if(M===null){for(;!j.done;R++,j=w.next())j=f(m,j.value,C),j!==null&&(x=i(j,x,R),B===null?O=j:B.sibling=j,B=j);return st&&qo(m,R),O}for(M=r(m,M);!j.done;R++,j=w.next())j=p(M,m,R,j.value,C),j!==null&&(t&&j.alternate!==null&&M.delete(j.key===null?R:j.key),x=i(j,x,R),B===null?O=j:B.sibling=j,B=j);return t&&M.forEach(function(ye){return e(m,ye)}),st&&qo(m,R),O}function A(m,x,w,C){if(typeof w=="object"&&w!==null&&w.type===Cc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case mh:e:{for(var O=w.key,B=x;B!==null;){if(B.key===O){if(O=w.type,O===Cc){if(B.tag===7){n(m,B.sibling),x=s(B,w.props.children),x.return=m,m=x;break e}}else if(B.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Di&&Z2(O)===B.type){n(m,B.sibling),x=s(B,w.props),x.ref=Hl(m,B,w),x.return=m,m=x;break e}n(m,B);break}else e(m,B);B=B.sibling}w.type===Cc?(x=Wa(w.props.children,m.mode,C,w.key),x.return=m,m=x):(C=f0(w.type,w.key,w.props,null,m.mode,C),C.ref=Hl(m,x,w),C.return=m,m=C)}return o(m);case Oc:e:{for(B=w.key;x!==null;){if(x.key===B)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(m,x.sibling),x=s(x,w.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else e(m,x);x=x.sibling}x=Om(w,m.mode,C),x.return=m,m=x}return o(m);case Di:return B=w._init,A(m,x,B(w._payload),C)}if(tf(w))return y(m,x,w,C);if(Dl(w))return g(m,x,w,C);Ih(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(m,x.sibling),x=s(x,w),x.return=m,m=x):(n(m,x),x=Im(w,m.mode,C),x.return=m,m=x),o(m)):n(m,x)}return A}var nl=I5(!0),O5=I5(!1),J0=Lo(null),Y0=null,Dc=null,Jx=null;function Yx(){Jx=Dc=Y0=null}function Xx(t){var e=J0.current;nt(J0),t._currentValue=e}function Fy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jc(t,e){Y0=t,Jx=Dc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bn=!0),t.firstContext=null)}function Sr(t){var e=t._currentValue;if(Jx!==t)if(t={context:t,memoizedValue:e,next:null},Dc===null){if(Y0===null)throw Error(q(308));Dc=t,Y0.dependencies={lanes:0,firstContext:t}}else Dc=Dc.next=t;return e}var aa=null;function Zx(t){aa===null?aa=[t]:aa.push(t)}function C5(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zx(e)):(n.next=s.next,s.next=n),e.interleaved=n,pi(t,r)}function pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ui=!1;function ew(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,pi(t,n)}return s=r.interleaved,s===null?(e.next=e,Zx(r)):(e.next=s.next,s.next=e),r.interleaved=e,pi(t,n)}function i0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fx(t,n)}}function eE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function X0(t,e,n,r){var s=t.updateQueue;Ui=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var l=t.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==o&&(a===null?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,l=u=c=null,a=i;do{var d=a.lane,p=a.eventTime;if((r&d)===d){l!==null&&(l=l.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(d=e,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(p,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,d=typeof y=="function"?y.call(p,f,d):y,d==null)break e;f=ut({},f,d);break e;case 2:Ui=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(u=l=p,c=f):l=l.next=p,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(l===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=l,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xa|=o,t.lanes=o,t.memoizedState=f}}function tE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var Qd={},Is=Lo(Qd),Jf=Lo(Qd),Yf=Lo(Qd);function ca(t){if(t===Qd)throw Error(q(174));return t}function tw(t,e){switch(Je(Yf,e),Je(Jf,t),Je(Is,Qd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xy(e,t)}nt(Is),Je(Is,e)}function rl(){nt(Is),nt(Jf),nt(Yf)}function P5(t){ca(Yf.current);var e=ca(Is.current),n=xy(e,t.type);e!==n&&(Je(Jf,t),Je(Is,n))}function nw(t){Jf.current===t&&(nt(Is),nt(Jf))}var ot=Lo(0);function Z0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Em=[];function rw(){for(var t=0;t<Em.length;t++)Em[t]._workInProgressVersionPrimary=null;Em.length=0}var o0=xi.ReactCurrentDispatcher,vm=xi.ReactCurrentBatchConfig,Ya=0,ct=null,At=null,Rt=null,ep=!1,Ef=!1,Xf=0,cP=0;function en(){throw Error(q(321))}function sw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yr(t[n],e[n]))return!1;return!0}function iw(t,e,n,r,s,i){if(Ya=i,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,o0.current=t===null||t.memoizedState===null?dP:hP,t=n(r,s),Ef){i=0;do{if(Ef=!1,Xf=0,25<=i)throw Error(q(301));i+=1,Rt=At=null,e.updateQueue=null,o0.current=pP,t=n(r,s)}while(Ef)}if(o0.current=tp,e=At!==null&&At.next!==null,Ya=0,Rt=At=ct=null,ep=!1,e)throw Error(q(300));return t}function ow(){var t=Xf!==0;return Xf=0,t}function us(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ct.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function kr(){if(At===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=Rt===null?ct.memoizedState:Rt.next;if(e!==null)Rt=e,At=t;else{if(t===null)throw Error(q(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Rt===null?ct.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Zf(t,e){return typeof e=="function"?e(t):e}function Am(t){var e=kr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=At,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var l=u.lane;if((Ya&l)===l)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:l,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,ct.lanes|=l,Xa|=l}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Yr(r,e.memoizedState)||(Bn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ct.lanes|=i,Xa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sm(t){var e=kr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yr(i,e.memoizedState)||(Bn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function R5(){}function _5(t,e){var n=ct,r=kr(),s=e(),i=!Yr(r.memoizedState,s);if(i&&(r.memoizedState=s,Bn=!0),r=r.queue,aw(L5.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,ed(9,M5.bind(null,n,r,s,e),void 0,null),Wt===null)throw Error(q(349));Ya&30||B5(n,e,s)}return s}function B5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M5(t,e,n,r){e.value=n,e.getSnapshot=r,D5(e)&&U5(t)}function L5(t,e,n){return n(function(){D5(e)&&U5(t)})}function D5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yr(t,n)}catch{return!0}}function U5(t){var e=pi(t,1);e!==null&&Qr(e,t,1,-1)}function nE(t){var e=us();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:t},e.queue=t,t=t.dispatch=fP.bind(null,ct,t),[e.memoizedState,t]}function ed(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function F5(){return kr().memoizedState}function a0(t,e,n,r){var s=us();ct.flags|=t,s.memoizedState=ed(1|e,n,void 0,r===void 0?null:r)}function Kp(t,e,n,r){var s=kr();r=r===void 0?null:r;var i=void 0;if(At!==null){var o=At.memoizedState;if(i=o.destroy,r!==null&&sw(r,o.deps)){s.memoizedState=ed(e,n,i,r);return}}ct.flags|=t,s.memoizedState=ed(1|e,n,i,r)}function rE(t,e){return a0(8390656,8,t,e)}function aw(t,e){return Kp(2048,8,t,e)}function $5(t,e){return Kp(4,2,t,e)}function W5(t,e){return Kp(4,4,t,e)}function H5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function j5(t,e,n){return n=n!=null?n.concat([t]):null,Kp(4,4,H5.bind(null,e,t),n)}function cw(){}function G5(t,e){var n=kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function V5(t,e){var n=kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function z5(t,e,n){return Ya&21?(Yr(n,e)||(n=Y6(),ct.lanes|=n,Xa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bn=!0),t.memoizedState=n)}function uP(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=vm.transition;vm.transition={};try{t(!1),e()}finally{He=n,vm.transition=r}}function K5(){return kr().memoizedState}function lP(t,e,n){var r=vo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},q5(t))Q5(e,n);else if(n=C5(t,e,n,r),n!==null){var s=En();Qr(n,t,r,s),J5(n,e,r)}}function fP(t,e,n){var r=vo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(q5(t))Q5(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Yr(a,o)){var c=e.interleaved;c===null?(s.next=s,Zx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=C5(t,e,s,r),n!==null&&(s=En(),Qr(n,t,r,s),J5(n,e,r))}}function q5(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function Q5(t,e){Ef=ep=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function J5(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fx(t,n)}}var tp={readContext:Sr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},dP={readContext:Sr,useCallback:function(t,e){return us().memoizedState=[t,e===void 0?null:e],t},useContext:Sr,useEffect:rE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,a0(4194308,4,H5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return a0(4194308,4,t,e)},useInsertionEffect:function(t,e){return a0(4,2,t,e)},useMemo:function(t,e){var n=us();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=us();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lP.bind(null,ct,t),[r.memoizedState,t]},useRef:function(t){var e=us();return t={current:t},e.memoizedState=t},useState:nE,useDebugValue:cw,useDeferredValue:function(t){return us().memoizedState=t},useTransition:function(){var t=nE(!1),e=t[0];return t=uP.bind(null,t[1]),us().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ct,s=us();if(st){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Wt===null)throw Error(q(349));Ya&30||B5(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,rE(L5.bind(null,r,i,t),[t]),r.flags|=2048,ed(9,M5.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=us(),e=Wt.identifierPrefix;if(st){var n=si,r=ri;n=(r&~(1<<32-qr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hP={readContext:Sr,useCallback:G5,useContext:Sr,useEffect:aw,useImperativeHandle:j5,useInsertionEffect:$5,useLayoutEffect:W5,useMemo:V5,useReducer:Am,useRef:F5,useState:function(){return Am(Zf)},useDebugValue:cw,useDeferredValue:function(t){var e=kr();return z5(e,At.memoizedState,t)},useTransition:function(){var t=Am(Zf)[0],e=kr().memoizedState;return[t,e]},useMutableSource:R5,useSyncExternalStore:_5,useId:K5,unstable_isNewReconciler:!1},pP={readContext:Sr,useCallback:G5,useContext:Sr,useEffect:aw,useImperativeHandle:j5,useInsertionEffect:$5,useLayoutEffect:W5,useMemo:V5,useReducer:Sm,useRef:F5,useState:function(){return Sm(Zf)},useDebugValue:cw,useDeferredValue:function(t){var e=kr();return At===null?e.memoizedState=t:z5(e,At.memoizedState,t)},useTransition:function(){var t=Sm(Zf)[0],e=kr().memoizedState;return[t,e]},useMutableSource:R5,useSyncExternalStore:_5,useId:K5,unstable_isNewReconciler:!1};function Br(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $y(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qp={isMounted:function(t){return(t=t._reactInternals)?uc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=En(),s=vo(t),i=ai(r,s);i.payload=e,n!=null&&(i.callback=n),e=wo(t,i,s),e!==null&&(Qr(e,t,s,r),i0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=En(),s=vo(t),i=ai(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=wo(t,i,s),e!==null&&(Qr(e,t,s,r),i0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),r=vo(t),s=ai(n,r);s.tag=2,e!=null&&(s.callback=e),e=wo(t,s,r),e!==null&&(Qr(e,t,r,n),i0(e,t,r))}};function sE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!zf(n,r)||!zf(s,i):!0}function Y5(t,e,n){var r=!1,s=Po,i=e.contextType;return typeof i=="object"&&i!==null?i=Sr(i):(s=Ln(e)?Qa:fn.current,r=e.contextTypes,i=(r=r!=null)?el(t,s):Po),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function iE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qp.enqueueReplaceState(e,e.state,null)}function Wy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ew(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Sr(i):(i=Ln(e)?Qa:fn.current,s.context=el(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&($y(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qp.enqueueReplaceState(s,s.state,null),X0(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sl(t,e){try{var n="",r=e;do n+=HN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gP=typeof WeakMap=="function"?WeakMap:Map;function X5(t,e,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rp||(rp=!0,Xy=r),Hy(t,e)},n}function Z5(t,e,n){n=ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hy(t,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function oE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=CP.bind(null,t,e,n),e.then(t,t))}function aE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ai(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var mP=xi.ReactCurrentOwner,Bn=!1;function mn(t,e,n,r){e.child=t===null?O5(e,null,n,r):nl(e,t.child,n,r)}function uE(t,e,n,r,s){n=n.render;var i=e.ref;return Jc(e,s),r=iw(t,e,n,r,i,s),n=ow(),t!==null&&!Bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gi(t,e,s)):(st&&n&&Kx(e),e.flags|=1,mn(t,e,r,s),e.child)}function lE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!mw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,e3(t,e,i,r,s)):(t=f0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:zf,n(o,r)&&t.ref===e.ref)return gi(t,e,s)}return e.flags|=1,t=Ao(i,r),t.ref=e.ref,t.return=e,e.child=t}function e3(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(zf(i,r)&&t.ref===e.ref)if(Bn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Bn=!0);else return e.lanes=t.lanes,gi(t,e,s)}return jy(t,e,n,r,s)}function t3(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Fc,qn),qn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(Fc,qn),qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Je(Fc,qn),qn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Je(Fc,qn),qn|=r;return mn(t,e,s,n),e.child}function n3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jy(t,e,n,r,s){var i=Ln(n)?Qa:fn.current;return i=el(e,i),Jc(e,s),n=iw(t,e,n,r,i,s),r=ow(),t!==null&&!Bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gi(t,e,s)):(st&&r&&Kx(e),e.flags|=1,mn(t,e,n,s),e.child)}function fE(t,e,n,r,s){if(Ln(n)){var i=!0;K0(e)}else i=!1;if(Jc(e,s),e.stateNode===null)c0(t,e),Y5(e,n,r),Wy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Sr(u):(u=Ln(n)?Qa:fn.current,u=el(e,u));var l=n.getDerivedStateFromProps,f=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&iE(e,o,r,u),Ui=!1;var d=e.memoizedState;o.state=d,X0(e,r,o,s),c=e.memoizedState,a!==r||d!==c||Mn.current||Ui?(typeof l=="function"&&($y(e,n,l,r),c=e.memoizedState),(a=Ui||sE(e,n,a,r,d,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,N5(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Br(e.type,a),o.props=u,f=e.pendingProps,d=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Sr(c):(c=Ln(n)?Qa:fn.current,c=el(e,c));var p=n.getDerivedStateFromProps;(l=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==c)&&iE(e,o,r,c),Ui=!1,d=e.memoizedState,o.state=d,X0(e,r,o,s);var y=e.memoizedState;a!==f||d!==y||Mn.current||Ui?(typeof p=="function"&&($y(e,n,p,r),y=e.memoizedState),(u=Ui||sE(e,n,u,r,d,y,c)||!1)?(l||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Gy(t,e,n,r,i,s)}function Gy(t,e,n,r,s,i){n3(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&J2(e,n,!1),gi(t,e,i);r=e.stateNode,mP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nl(e,t.child,null,i),e.child=nl(e,null,a,i)):mn(t,e,a,i),e.memoizedState=r.state,s&&J2(e,n,!0),e.child}function r3(t){var e=t.stateNode;e.pendingContext?Q2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Q2(t,e.context,!1),tw(t,e.containerInfo)}function dE(t,e,n,r,s){return tl(),Qx(s),e.flags|=256,mn(t,e,n,r),e.child}var Vy={dehydrated:null,treeContext:null,retryLane:0};function zy(t){return{baseLanes:t,cachePool:null,transitions:null}}function s3(t,e,n){var r=e.pendingProps,s=ot.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Je(ot,s&1),t===null)return Uy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yp(o,r,0,null),t=Wa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zy(n),e.memoizedState=Vy,t):uw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return yP(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ao(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ao(a,i):(i=Wa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?zy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Vy,r}return i=t.child,t=i.sibling,r=Ao(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uw(t,e){return e=Yp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oh(t,e,n,r){return r!==null&&Qx(r),nl(e,t.child,null,n),t=uw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yP(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=km(Error(q(422))),Oh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Yp({mode:"visible",children:r.children},s,0,null),i=Wa(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&nl(e,t.child,null,o),e.child.memoizedState=zy(o),e.memoizedState=Vy,i);if(!(e.mode&1))return Oh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=km(i,r,void 0),Oh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bn||a){if(r=Wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pi(t,s),Qr(r,t,s,-1))}return gw(),r=km(Error(q(421))),Oh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=NP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jn=xo(s.nextSibling),Yn=e,st=!0,jr=null,t!==null&&(yr[br++]=ri,yr[br++]=si,yr[br++]=Ja,ri=t.id,si=t.overflow,Ja=e),e=uw(e,r.children),e.flags|=4096,e)}function hE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fy(t.return,e,n)}function Tm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function i3(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(mn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hE(t,n,e);else if(t.tag===19)hE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(ot,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Z0(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Tm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Z0(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Tm(e,!0,n,null,i);break;case"together":Tm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function c0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ao(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ao(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bP(t,e,n){switch(e.tag){case 3:r3(e),tl();break;case 5:P5(e);break;case 1:Ln(e.type)&&K0(e);break;case 4:tw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Je(J0,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?s3(t,e,n):(Je(ot,ot.current&1),t=gi(t,e,n),t!==null?t.sibling:null);Je(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i3(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Je(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,t3(t,e,n)}return gi(t,e,n)}var o3,Ky,a3,c3;o3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ky=function(){};a3=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ca(Is.current);var i=null;switch(n){case"input":s=gy(t,s),r=gy(t,r),i=[];break;case"select":s=ut({},s,{value:void 0}),r=ut({},r,{value:void 0}),i=[];break;case"textarea":s=by(t,s),r=by(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=V0)}wy(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ff.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ff.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xe("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};c3=function(t,e,n,r){n!==r&&(e.flags|=4)};function jl(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xP(t,e,n){var r=e.pendingProps;switch(qx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return Ln(e.type)&&z0(),tn(e),null;case 3:return r=e.stateNode,rl(),nt(Mn),nt(fn),rw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jr!==null&&(tb(jr),jr=null))),Ky(t,e),tn(e),null;case 5:nw(e);var s=ca(Yf.current);if(n=e.type,t!==null&&e.stateNode!=null)a3(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return tn(e),null}if(t=ca(Is.current),Th(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[vs]=e,r[Qf]=i,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<rf.length;s++)Xe(rf[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":v2(r,i),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",r);break;case"textarea":S2(r,i),Xe("invalid",r)}wy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&kh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&kh(r.textContent,a,t),s=["children",""+a]):Ff.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":yh(r),A2(r,i,!0);break;case"textarea":yh(r),k2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=V0)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vs]=e,t[Qf]=r,o3(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ey(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),s=r;break;case"iframe":case"object":case"embed":Xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<rf.length;s++)Xe(rf[s],t);s=r;break;case"source":Xe("error",t),s=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=r;break;case"details":Xe("toggle",t),s=r;break;case"input":v2(t,r),s=gy(t,r),Xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ut({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":S2(t,r),s=by(t,r),Xe("invalid",t);break;default:s=r}wy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?F6(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&D6(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$f(t,c):typeof c=="number"&&$f(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ff.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Xe("scroll",t):c!=null&&_x(t,i,c,o))}switch(n){case"input":yh(t),A2(t,r,!1);break;case"textarea":yh(t),k2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+No(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?zc(t,!!r.multiple,i,!1):r.defaultValue!=null&&zc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=V0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)c3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=ca(Yf.current),ca(Is.current),Th(e)){if(r=e.stateNode,n=e.memoizedProps,r[vs]=e,(i=r.nodeValue!==n)&&(t=Yn,t!==null))switch(t.tag){case 3:kh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vs]=e,e.stateNode=r}return tn(e),null;case 13:if(nt(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Jn!==null&&e.mode&1&&!(e.flags&128))T5(),tl(),e.flags|=98560,i=!1;else if(i=Th(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[vs]=e}else tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),i=!1}else jr!==null&&(tb(jr),jr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?St===0&&(St=3):gw())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return rl(),Ky(t,e),t===null&&Kf(e.stateNode.containerInfo),tn(e),null;case 10:return Xx(e.type._context),tn(e),null;case 17:return Ln(e.type)&&z0(),tn(e),null;case 19:if(nt(ot),i=e.memoizedState,i===null)return tn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)jl(i,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Z0(t),o!==null){for(e.flags|=128,jl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(ot,ot.current&1|2),e.child}t=t.sibling}i.tail!==null&&yt()>il&&(e.flags|=128,r=!0,jl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Z0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!st)return tn(e),null}else 2*yt()-i.renderingStartTime>il&&n!==1073741824&&(e.flags|=128,r=!0,jl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,n=ot.current,Je(ot,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return pw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qn&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function wP(t,e){switch(qx(e),e.tag){case 1:return Ln(e.type)&&z0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rl(),nt(Mn),nt(fn),rw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nw(e),null;case 13:if(nt(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(ot),null;case 4:return rl(),null;case 10:return Xx(e.type._context),null;case 22:case 23:return pw(),null;case 24:return null;default:return null}}var Ch=!1,un=!1,EP=typeof WeakSet=="function"?WeakSet:Set,re=null;function Uc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function qy(t,e,n){try{n()}catch(r){lt(t,e,r)}}var pE=!1;function vP(t,e){if(Py=H0,t=h5(),zx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,l=0,f=t,d=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++l===r&&(c=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ry={focusedElem:t,selectionRange:n},H0=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,A=y.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Br(e.type,g),A);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(C){lt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return y=pE,pE=!1,y}function vf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qy(e,n,i)}s=s.next}while(s!==r)}}function Qp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function u3(t){var e=t.alternate;e!==null&&(t.alternate=null,u3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vs],delete e[Qf],delete e[My],delete e[sP],delete e[iP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function l3(t){return t.tag===5||t.tag===3||t.tag===4}function gE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=V0));else if(r!==4&&(t=t.child,t!==null))for(Jy(t,e,n),t=t.sibling;t!==null;)Jy(t,e,n),t=t.sibling}function Yy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yy(t,e,n),t=t.sibling;t!==null;)Yy(t,e,n),t=t.sibling}var zt=null,Hr=!1;function Ii(t,e,n){for(n=n.child;n!==null;)f3(t,e,n),n=n.sibling}function f3(t,e,n){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(Wp,n)}catch{}switch(n.tag){case 5:un||Uc(n,e);case 6:var r=zt,s=Hr;zt=null,Ii(t,e,n),zt=r,Hr=s,zt!==null&&(Hr?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(Hr?(t=zt,n=n.stateNode,t.nodeType===8?xm(t.parentNode,n):t.nodeType===1&&xm(t,n),Gf(t)):xm(zt,n.stateNode));break;case 4:r=zt,s=Hr,zt=n.stateNode.containerInfo,Hr=!0,Ii(t,e,n),zt=r,Hr=s;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qy(n,e,o),s=s.next}while(s!==r)}Ii(t,e,n);break;case 1:if(!un&&(Uc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}Ii(t,e,n);break;case 21:Ii(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,Ii(t,e,n),un=r):Ii(t,e,n);break;default:Ii(t,e,n)}}function mE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new EP),e.forEach(function(r){var s=PP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:zt=a.stateNode,Hr=!1;break e;case 3:zt=a.stateNode.containerInfo,Hr=!0;break e;case 4:zt=a.stateNode.containerInfo,Hr=!0;break e}a=a.return}if(zt===null)throw Error(q(160));f3(i,o,s),zt=null,Hr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){lt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d3(e,t),e=e.sibling}function d3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),ss(t),r&4){try{vf(3,t,t.return),Qp(3,t)}catch(g){lt(t,t.return,g)}try{vf(5,t,t.return)}catch(g){lt(t,t.return,g)}}break;case 1:Ir(e,t),ss(t),r&512&&n!==null&&Uc(n,n.return);break;case 5:if(Ir(e,t),ss(t),r&512&&n!==null&&Uc(n,n.return),t.flags&32){var s=t.stateNode;try{$f(s,"")}catch(g){lt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&B6(s,i),Ey(a,o);var u=Ey(a,i);for(o=0;o<c.length;o+=2){var l=c[o],f=c[o+1];l==="style"?F6(s,f):l==="dangerouslySetInnerHTML"?D6(s,f):l==="children"?$f(s,f):_x(s,l,f,u)}switch(a){case"input":my(s,i);break;case"textarea":M6(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?zc(s,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?zc(s,!!i.multiple,i.defaultValue,!0):zc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qf]=i}catch(g){lt(t,t.return,g)}}break;case 6:if(Ir(e,t),ss(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){lt(t,t.return,g)}}break;case 3:if(Ir(e,t),ss(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gf(e.containerInfo)}catch(g){lt(t,t.return,g)}break;case 4:Ir(e,t),ss(t);break;case 13:Ir(e,t),ss(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dw=yt())),r&4&&mE(t);break;case 22:if(l=n!==null&&n.memoizedState!==null,t.mode&1?(un=(u=un)||l,Ir(e,t),un=u):Ir(e,t),ss(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!l&&t.mode&1)for(re=t,l=t.child;l!==null;){for(f=re=l;re!==null;){switch(d=re,p=d.child,d.tag){case 0:case 11:case 14:case 15:vf(4,d,d.return);break;case 1:Uc(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){lt(r,n,g)}}break;case 5:Uc(d,d.return);break;case 22:if(d.memoizedState!==null){bE(f);continue}}p!==null?(p.return=d,re=p):bE(f)}l=l.sibling}e:for(l=null,f=t;;){if(f.tag===5){if(l===null){l=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=U6("display",o))}catch(g){lt(t,t.return,g)}}}else if(f.tag===6){if(l===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){lt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;l===f&&(l=null),f=f.return}l===f&&(l=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(e,t),ss(t),r&4&&mE(t);break;case 21:break;default:Ir(e,t),ss(t)}}function ss(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(l3(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($f(s,""),r.flags&=-33);var i=gE(t);Yy(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gE(t);Jy(t,a,o);break;default:throw Error(q(161))}}catch(c){lt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AP(t,e,n){re=t,h3(t)}function h3(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ch;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||un;a=Ch;var u=un;if(Ch=o,(un=c)&&!u)for(re=s;re!==null;)o=re,c=o.child,o.tag===22&&o.memoizedState!==null?xE(s):c!==null?(c.return=o,re=c):xE(s);for(;i!==null;)re=i,h3(i),i=i.sibling;re=s,Ch=a,un=u}yE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):yE(t)}}function yE(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||Qp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Br(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var l=u.memoizedState;if(l!==null){var f=l.dehydrated;f!==null&&Gf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}un||e.flags&512&&Qy(e)}catch(d){lt(e,e.return,d)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function bE(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function xE(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qp(4,e)}catch(c){lt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){lt(e,s,c)}}var i=e.return;try{Qy(e)}catch(c){lt(e,i,c)}break;case 5:var o=e.return;try{Qy(e)}catch(c){lt(e,o,c)}}}catch(c){lt(e,e.return,c)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var SP=Math.ceil,np=xi.ReactCurrentDispatcher,lw=xi.ReactCurrentOwner,Er=xi.ReactCurrentBatchConfig,Pe=0,Wt=null,wt=null,Yt=0,qn=0,Fc=Lo(0),St=0,td=null,Xa=0,Jp=0,fw=0,Af=null,_n=null,dw=0,il=1/0,Ds=null,rp=!1,Xy=null,Eo=null,Nh=!1,fo=null,sp=0,Sf=0,Zy=null,u0=-1,l0=0;function En(){return Pe&6?yt():u0!==-1?u0:u0=yt()}function vo(t){return t.mode&1?Pe&2&&Yt!==0?Yt&-Yt:aP.transition!==null?(l0===0&&(l0=Y6()),l0):(t=He,t!==0||(t=window.event,t=t===void 0?16:s5(t.type)),t):1}function Qr(t,e,n,r){if(50<Sf)throw Sf=0,Zy=null,Error(q(185));zd(t,n,r),(!(Pe&2)||t!==Wt)&&(t===Wt&&(!(Pe&2)&&(Jp|=n),St===4&&Hi(t,Yt)),Dn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(il=yt()+500,zp&&Do()))}function Dn(t,e){var n=t.callbackNode;a7(t,e);var r=W0(t,t===Wt?Yt:0);if(r===0)n!==null&&O2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&O2(n),e===1)t.tag===0?oP(wE.bind(null,t)):A5(wE.bind(null,t)),nP(function(){!(Pe&6)&&Do()}),n=null;else{switch(X6(r)){case 1:n=Ux;break;case 4:n=Q6;break;case 16:n=$0;break;case 536870912:n=J6;break;default:n=$0}n=E3(n,p3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function p3(t,e){if(u0=-1,l0=0,Pe&6)throw Error(q(327));var n=t.callbackNode;if(Yc()&&t.callbackNode!==n)return null;var r=W0(t,t===Wt?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ip(t,r);else{e=r;var s=Pe;Pe|=2;var i=m3();(Wt!==t||Yt!==e)&&(Ds=null,il=yt()+500,$a(t,e));do try{IP();break}catch(a){g3(t,a)}while(!0);Yx(),np.current=i,Pe=s,wt!==null?e=0:(Wt=null,Yt=0,e=St)}if(e!==0){if(e===2&&(s=Ty(t),s!==0&&(r=s,e=eb(t,s))),e===1)throw n=td,$a(t,0),Hi(t,r),Dn(t,yt()),n;if(e===6)Hi(t,r);else{if(s=t.current.alternate,!(r&30)&&!kP(s)&&(e=ip(t,r),e===2&&(i=Ty(t),i!==0&&(r=i,e=eb(t,i))),e===1))throw n=td,$a(t,0),Hi(t,r),Dn(t,yt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Qo(t,_n,Ds);break;case 3:if(Hi(t,r),(r&130023424)===r&&(e=dw+500-yt(),10<e)){if(W0(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=By(Qo.bind(null,t,_n,Ds),e);break}Qo(t,_n,Ds);break;case 4:if(Hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SP(r/1960))-r,10<r){t.timeoutHandle=By(Qo.bind(null,t,_n,Ds),r);break}Qo(t,_n,Ds);break;case 5:Qo(t,_n,Ds);break;default:throw Error(q(329))}}}return Dn(t,yt()),t.callbackNode===n?p3.bind(null,t):null}function eb(t,e){var n=Af;return t.current.memoizedState.isDehydrated&&($a(t,e).flags|=256),t=ip(t,e),t!==2&&(e=_n,_n=n,e!==null&&tb(e)),t}function tb(t){_n===null?_n=t:_n.push.apply(_n,t)}function kP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hi(t,e){for(e&=~fw,e&=~Jp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qr(e),r=1<<n;t[n]=-1,e&=~r}}function wE(t){if(Pe&6)throw Error(q(327));Yc();var e=W0(t,0);if(!(e&1))return Dn(t,yt()),null;var n=ip(t,e);if(t.tag!==0&&n===2){var r=Ty(t);r!==0&&(e=r,n=eb(t,r))}if(n===1)throw n=td,$a(t,0),Hi(t,e),Dn(t,yt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qo(t,_n,Ds),Dn(t,yt()),null}function hw(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(il=yt()+500,zp&&Do())}}function Za(t){fo!==null&&fo.tag===0&&!(Pe&6)&&Yc();var e=Pe;Pe|=1;var n=Er.transition,r=He;try{if(Er.transition=null,He=1,t)return t()}finally{He=r,Er.transition=n,Pe=e,!(Pe&6)&&Do()}}function pw(){qn=Fc.current,nt(Fc)}function $a(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tP(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(qx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&z0();break;case 3:rl(),nt(Mn),nt(fn),rw();break;case 5:nw(r);break;case 4:rl();break;case 13:nt(ot);break;case 19:nt(ot);break;case 10:Xx(r.type._context);break;case 22:case 23:pw()}n=n.return}if(Wt=t,wt=t=Ao(t.current,null),Yt=qn=e,St=0,td=null,fw=Jp=Xa=0,_n=Af=null,aa!==null){for(e=0;e<aa.length;e++)if(n=aa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}aa=null}return t}function g3(t,e){do{var n=wt;try{if(Yx(),o0.current=tp,ep){for(var r=ct.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ep=!1}if(Ya=0,Rt=At=ct=null,Ef=!1,Xf=0,lw.current=null,n===null||n.return===null){St=1,td=e,wt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Yt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,l=a,f=l.tag;if(!(l.mode&1)&&(f===0||f===11||f===15)){var d=l.alternate;d?(l.updateQueue=d.updateQueue,l.memoizedState=d.memoizedState,l.lanes=d.lanes):(l.updateQueue=null,l.memoizedState=null)}var p=aE(o);if(p!==null){p.flags&=-257,cE(p,o,a,i,e),p.mode&1&&oE(i,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(c),e.updateQueue=g}else y.add(c);break e}else{if(!(e&1)){oE(i,u,e),gw();break e}c=Error(q(426))}}else if(st&&a.mode&1){var A=aE(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),cE(A,o,a,i,e),Qx(sl(c,a));break e}}i=c=sl(c,a),St!==4&&(St=2),Af===null?Af=[i]:Af.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=X5(i,c,e);eE(i,m);break e;case 1:a=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Eo===null||!Eo.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=Z5(i,a,e);eE(i,C);break e}}i=i.return}while(i!==null)}b3(n)}catch(O){e=O,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function m3(){var t=np.current;return np.current=tp,t===null?tp:t}function gw(){(St===0||St===3||St===2)&&(St=4),Wt===null||!(Xa&268435455)&&!(Jp&268435455)||Hi(Wt,Yt)}function ip(t,e){var n=Pe;Pe|=2;var r=m3();(Wt!==t||Yt!==e)&&(Ds=null,$a(t,e));do try{TP();break}catch(s){g3(t,s)}while(!0);if(Yx(),Pe=n,np.current=r,wt!==null)throw Error(q(261));return Wt=null,Yt=0,St}function TP(){for(;wt!==null;)y3(wt)}function IP(){for(;wt!==null&&!XN();)y3(wt)}function y3(t){var e=w3(t.alternate,t,qn);t.memoizedProps=t.pendingProps,e===null?b3(t):wt=e,lw.current=null}function b3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wP(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,wt=null;return}}else if(n=xP(n,e,qn),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);St===0&&(St=5)}function Qo(t,e,n){var r=He,s=Er.transition;try{Er.transition=null,He=1,OP(t,e,n,r)}finally{Er.transition=s,He=r}return null}function OP(t,e,n,r){do Yc();while(fo!==null);if(Pe&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(c7(t,i),t===Wt&&(wt=Wt=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nh||(Nh=!0,E3($0,function(){return Yc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Er.transition,Er.transition=null;var o=He;He=1;var a=Pe;Pe|=4,lw.current=null,vP(t,n),d3(n,t),q7(Ry),H0=!!Py,Ry=Py=null,t.current=n,AP(n),ZN(),Pe=a,He=o,Er.transition=i}else t.current=n;if(Nh&&(Nh=!1,fo=t,sp=s),i=t.pendingLanes,i===0&&(Eo=null),n7(n.stateNode),Dn(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(rp)throw rp=!1,t=Xy,Xy=null,t;return sp&1&&t.tag!==0&&Yc(),i=t.pendingLanes,i&1?t===Zy?Sf++:(Sf=0,Zy=t):Sf=0,Do(),null}function Yc(){if(fo!==null){var t=X6(sp),e=Er.transition,n=He;try{if(Er.transition=null,He=16>t?16:t,fo===null)var r=!1;else{if(t=fo,fo=null,sp=0,Pe&6)throw Error(q(331));var s=Pe;for(Pe|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(re=u;re!==null;){var l=re;switch(l.tag){case 0:case 11:case 15:vf(8,l,i)}var f=l.child;if(f!==null)f.return=l,re=f;else for(;re!==null;){l=re;var d=l.sibling,p=l.return;if(u3(l),l===u){re=null;break}if(d!==null){d.return=p,re=d;break}re=p}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var A=g.sibling;g.sibling=null,g=A}while(g!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vf(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,re=m;break e}re=i.return}}var x=t.current;for(re=x;re!==null;){o=re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,re=w;else e:for(o=x;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qp(9,a)}}catch(O){lt(a,a.return,O)}if(a===o){re=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,re=C;break e}re=a.return}}if(Pe=s,Do(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(Wp,t)}catch{}r=!0}return r}finally{He=n,Er.transition=e}}return!1}function EE(t,e,n){e=sl(n,e),e=X5(t,e,1),t=wo(t,e,1),e=En(),t!==null&&(zd(t,1,e),Dn(t,e))}function lt(t,e,n){if(t.tag===3)EE(t,t,n);else for(;e!==null;){if(e.tag===3){EE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){t=sl(n,t),t=Z5(e,t,1),e=wo(e,t,1),t=En(),e!==null&&(zd(e,1,t),Dn(e,t));break}}e=e.return}}function CP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Yt&n)===n&&(St===4||St===3&&(Yt&130023424)===Yt&&500>yt()-dw?$a(t,0):fw|=n),Dn(t,e)}function x3(t,e){e===0&&(t.mode&1?(e=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):e=1);var n=En();t=pi(t,e),t!==null&&(zd(t,e,n),Dn(t,n))}function NP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),x3(t,n)}function PP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),x3(t,n)}var w3;w3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)Bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bn=!1,bP(t,e,n);Bn=!!(t.flags&131072)}else Bn=!1,st&&e.flags&1048576&&S5(e,Q0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;c0(t,e),t=e.pendingProps;var s=el(e,fn.current);Jc(e,n),s=iw(null,e,r,t,s,n);var i=ow();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(i=!0,K0(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ew(e),s.updater=qp,e.stateNode=s,s._reactInternals=e,Wy(e,r,t,n),e=Gy(null,e,r,!0,i,n)):(e.tag=0,st&&i&&Kx(e),mn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(c0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=_P(r),t=Br(r,t),s){case 0:e=jy(null,e,r,t,n);break e;case 1:e=fE(null,e,r,t,n);break e;case 11:e=uE(null,e,r,t,n);break e;case 14:e=lE(null,e,r,Br(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),jy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),fE(t,e,r,s,n);case 3:e:{if(r3(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,N5(t,e),X0(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sl(Error(q(423)),e),e=dE(t,e,r,n,s);break e}else if(r!==s){s=sl(Error(q(424)),e),e=dE(t,e,r,n,s);break e}else for(Jn=xo(e.stateNode.containerInfo.firstChild),Yn=e,st=!0,jr=null,n=O5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tl(),r===s){e=gi(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return P5(e),t===null&&Uy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_y(r,s)?o=null:i!==null&&_y(r,i)&&(e.flags|=32),n3(t,e),mn(t,e,o,n),e.child;case 6:return t===null&&Uy(e),null;case 13:return s3(t,e,n);case 4:return tw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nl(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),uE(t,e,r,s,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Je(J0,r._currentValue),r._currentValue=o,i!==null)if(Yr(i.value,o)){if(i.children===s.children&&!Mn.current){e=gi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ai(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var l=u.pending;l===null?c.next=c:(c.next=l.next,l.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Fy(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}mn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Jc(e,n),s=Sr(s),r=r(s),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,s=Br(r,e.pendingProps),s=Br(r.type,s),lE(t,e,r,s,n);case 15:return e3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),c0(t,e),e.tag=1,Ln(r)?(t=!0,K0(e)):t=!1,Jc(e,n),Y5(e,r,s),Wy(e,r,s,n),Gy(null,e,r,!0,t,n);case 19:return i3(t,e,n);case 22:return t3(t,e,n)}throw Error(q(156,e.tag))};function E3(t,e){return q6(t,e)}function RP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,e,n,r){return new RP(t,e,n,r)}function mw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _P(t){if(typeof t=="function")return mw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mx)return 11;if(t===Lx)return 14}return 2}function Ao(t,e){var n=t.alternate;return n===null?(n=wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function f0(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")mw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cc:return Wa(n.children,s,i,e);case Bx:o=8,s|=8;break;case fy:return t=wr(12,n,e,s|2),t.elementType=fy,t.lanes=i,t;case dy:return t=wr(13,n,e,s),t.elementType=dy,t.lanes=i,t;case hy:return t=wr(19,n,e,s),t.elementType=hy,t.lanes=i,t;case P6:return Yp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C6:o=10;break e;case N6:o=9;break e;case Mx:o=11;break e;case Lx:o=14;break e;case Di:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=wr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Wa(t,e,n,r){return t=wr(7,t,r,e),t.lanes=n,t}function Yp(t,e,n,r){return t=wr(22,t,r,e),t.elementType=P6,t.lanes=n,t.stateNode={isHidden:!1},t}function Im(t,e,n){return t=wr(6,t,null,e),t.lanes=n,t}function Om(t,e,n){return e=wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cm(0),this.expirationTimes=cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yw(t,e,n,r,s,i,o,a,c){return t=new BP(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=wr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ew(i),t}function MP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function v3(t){if(!t)return Po;t=t._reactInternals;e:{if(uc(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Ln(n))return v5(t,n,e)}return e}function A3(t,e,n,r,s,i,o,a,c){return t=yw(n,r,!0,t,s,i,o,a,c),t.context=v3(null),n=t.current,r=En(),s=vo(n),i=ai(r,s),i.callback=e??null,wo(n,i,s),t.current.lanes=s,zd(t,s,r),Dn(t,r),t}function Xp(t,e,n,r){var s=e.current,i=En(),o=vo(s);return n=v3(n),e.context===null?e.context=n:e.pendingContext=n,e=ai(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(s,e,o),t!==null&&(Qr(t,s,o,i),i0(t,s,o)),o}function op(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bw(t,e){vE(t,e),(t=t.alternate)&&vE(t,e)}var S3=typeof reportError=="function"?reportError:function(t){console.error(t)};function xw(t){this._internalRoot=t}Zp.prototype.render=xw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Xp(t,e,null,null)};Zp.prototype.unmount=xw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Za(function(){Xp(null,t,null,null)}),e[hi]=null}};function Zp(t){this._internalRoot=t}Zp.prototype.unstable_scheduleHydration=function(t){if(t){var e=t5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wi.length&&e!==0&&e<Wi[n].priority;n++);Wi.splice(n,0,t),n===0&&r5(t)}};function ww(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function AE(){}function LP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=op(o);i.call(u)}}var o=A3(e,r,t,0,null,!1,!1,"",AE);return t._reactRootContainer=o,t[hi]=o.current,Kf(t.nodeType===8?t.parentNode:t),Za(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=op(c);a.call(u)}}var c=yw(t,0,!1,null,null,!1,!1,"",AE);return t._reactRootContainer=c,t[hi]=c.current,Kf(t.nodeType===8?t.parentNode:t),Za(function(){Xp(e,c,n,r)}),c}function tg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=op(o);a.call(c)}}Xp(e,o,t,s)}else o=LP(n,e,t,s,r);return op(o)}Z6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nf(e.pendingLanes);n!==0&&(Fx(e,n|1),Dn(e,yt()),!(Pe&6)&&(il=yt()+500,Do()))}break;case 13:Za(function(){var r=pi(t,1);if(r!==null){var s=En();Qr(r,t,1,s)}}),bw(t,1)}};$x=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var n=En();Qr(e,t,134217728,n)}bw(t,134217728)}};e5=function(t){if(t.tag===13){var e=vo(t),n=pi(t,e);if(n!==null){var r=En();Qr(n,t,e,r)}bw(t,e)}};t5=function(){return He};n5=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};Ay=function(t,e,n){switch(e){case"input":if(my(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Vp(r);if(!s)throw Error(q(90));_6(r),my(r,s)}}}break;case"textarea":M6(t,n);break;case"select":e=n.value,e!=null&&zc(t,!!n.multiple,e,!1)}};H6=hw;j6=Za;var DP={usingClientEntryPoint:!1,Events:[qd,_c,Vp,$6,W6,hw]},Gl={findFiberByHostInstance:oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UP={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=z6(t),t===null?null:t.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{Wp=Ph.inject(UP),Ts=Ph}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DP;er.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ww(e))throw Error(q(200));return MP(t,e,null,n)};er.createRoot=function(t,e){if(!ww(t))throw Error(q(299));var n=!1,r="",s=S3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yw(t,1,!1,null,null,n,!1,r,s),t[hi]=e.current,Kf(t.nodeType===8?t.parentNode:t),new xw(e)};er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=z6(e),t=t===null?null:t.stateNode,t};er.flushSync=function(t){return Za(t)};er.hydrate=function(t,e,n){if(!eg(e))throw Error(q(200));return tg(null,t,e,!0,n)};er.hydrateRoot=function(t,e,n){if(!ww(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=S3;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=A3(e,null,t,1,n??null,s,!1,i,o),t[hi]=e.current,Kf(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Zp(e)};er.render=function(t,e,n){if(!eg(e))throw Error(q(200));return tg(null,t,e,!1,n)};er.unmountComponentAtNode=function(t){if(!eg(t))throw Error(q(40));return t._reactRootContainer?(Za(function(){tg(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1};er.unstable_batchedUpdates=hw;er.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eg(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return tg(t,e,n,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function k3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k3)}catch(t){console.error(t)}}k3(),k6.exports=er;var FP=k6.exports,T3,SE=FP;T3=SE.createRoot,SE.hydrateRoot;const $P=[{inputs:[{internalType:"bytes32",type:"bytes32"}],name:"getAlternativeSignature",outputs:[{internalType:"string",type:"string"}],stateMutability:"view",type:"function"}];var WP=Object.freeze({__proto__:null,abi:$P});const HP=[{type:"function",name:"isValidSignature",constant:!0,inputs:[{type:"bytes32"},{type:"bytes"}],outputs:[{type:"bytes4"}],payable:!1,stateMutability:"view"}],jP={isValidSignatureBytes32:"0x1626ba7e"};var GP=Object.freeze({__proto__:null,abi:HP,returns:jP});const VP=[{inputs:[{internalType:"bytes",name:"error",type:"bytes"}],name:"ERC1271Revert",type:"error"},{inputs:[{internalType:"bytes",name:"error",type:"bytes"}],name:"ERC6492DeployFailed",type:"error"},{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSig",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"},{internalType:"bool",name:"allowSideEffects",type:"bool"},{internalType:"bool",name:"deployAlreadyDeployed",type:"bool"}],name:"isValidSigImpl",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSigNoThrow",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSigWithSideEffects",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSigWithSideEffectsNoThrow",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];var zP=Object.freeze({__proto__:null,abi:VP});const KP=[{type:"function",name:"deploy",constant:!1,inputs:[{type:"address"},{type:"bytes32"}],outputs:[],payable:!0,stateMutability:"payable"}];var qP=Object.freeze({__proto__:null,abi:KP});const QP=[{type:"function",name:"nonce",constant:!0,inputs:[],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"readNonce",constant:!0,inputs:[{type:"uint256"}],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"updateImplementation",constant:!1,inputs:[{type:"address"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"selfExecute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"execute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"},{type:"uint256"},{type:"bytes"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"createContract",inputs:[{type:"bytes"}],payable:!0,stateMutability:"payable"},{type:"function",name:"setExtraImageHash",constant:!1,inputs:[{type:"bytes32",name:"imageHash"},{type:"uint256",name:"expiration"}],outputs:[],payable:!1,stateMutability:"nonpayable"}];var JP=Object.freeze({__proto__:null,abi:QP});const YP=[{type:"function",name:"updateImageHash",constant:!0,inputs:[{type:"bytes32"}],outputs:[],payable:!1,stateMutability:"view"},{type:"function",name:"imageHash",constant:!0,inputs:[],outputs:[{type:"bytes32"}],payable:!1,stateMutability:"view"}];var XP=Object.freeze({__proto__:null,abi:YP});const ZP=[{inputs:[{internalType:"bytes4",name:"_signature",type:"bytes4"}],name:"HookAlreadyExists",type:"error"},{inputs:[{internalType:"bytes4",name:"_signature",type:"bytes4"}],name:"HookDoesNotExist",type:"error"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"address",name:"_self",type:"address"}],name:"OnlySelfAuth",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes4",name:"_signature",type:"bytes4"},{indexed:!1,internalType:"address",name:"_implementation",type:"address"}],name:"DefinedHook",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"bytes4",name:"_signature",type:"bytes4"},{internalType:"address",name:"_implementation",type:"address"}],name:"addHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"_signature",type:"bytes4"}],name:"readHook",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_signature",type:"bytes4"}],name:"removeHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"_interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{stateMutability:"payable",type:"receive"}];var eR=Object.freeze({__proto__:null,abi:ZP});const tR=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_mainModule",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"_imageHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"_threshold",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_signers",type:"bytes"}],name:"RequiredConfig",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"address",name:"_signer",type:"address"}],name:"RequiredSigner",type:"event"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"callBlockhash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"callChainId",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCode",outputs:[{internalType:"bytes",name:"code",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeHash",outputs:[{internalType:"bytes32",name:"codeHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeSize",outputs:[{internalType:"uint256",name:"size",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callCoinbase",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callDifficulty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLeft",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callOrigin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"knownImageHashes",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"lastImageHashUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastSignerUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastWalletUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"delegateCall",type:"bool"},{internalType:"bool",name:"revertOnError",type:"bool"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IModuleCalls.Transaction[]",name:"_txs",type:"tuple[]"}],name:"multiCall",outputs:[{internalType:"bool[]",name:"_successes",type:"bool[]"},{internalType:"bytes[]",name:"_results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"},{components:[{internalType:"uint256",name:"weight",type:"uint256"},{internalType:"address",name:"signer",type:"address"}],internalType:"struct RequireUtils.Member[]",name:"_members",type:"tuple[]"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"uint256",name:"_sizeMembers",type:"uint256"},{internalType:"bytes",name:"_signature",type:"bytes"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishInitialSigners",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"requireMinNonce",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_expiration",type:"uint256"}],name:"requireNonExpired",outputs:[],stateMutability:"view",type:"function"}];var nR=Object.freeze({__proto__:null,abi:tR});const rR=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"requireFreshSigner",outputs:[],stateMutability:"nonpayable",type:"function"}];var sR=Object.freeze({__proto__:null,abi:rR});const iR=[{type:"function",name:"PROXY_getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"}];var oR=Object.freeze({__proto__:null,abi:iR});const Tt={erc6492:zP,erc5719:WP,erc1271:GP,factory:qP,mainModule:JP,mainModuleUpgradable:XP,moduleHooks:eR,sequenceUtils:nR,requireFreshSigner:sR,walletProxyHook:oR},aR=Object.freeze(Object.defineProperty({__proto__:null,walletContracts:Tt},Symbol.toStringTag,{value:"Module"}));function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(null,arguments)}const cR="v1",uR="v0.4.0",lR="24814ebb88457c0545aa80e8388cb0f08ec59bec";let fR=function(t){return t.DESC="DESC",t.ASC="ASC",t}({}),dR=function(t){return t.ach="ach",t.debit="debit",t.credit="credit",t.us_debit="us_debit",t.international_debit="international_debit",t.international_credit="international_credit",t}({}),hR=function(t){return t.buy="buy",t.sell="sell",t}({}),pR=function(t){return t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t}({});class I3{constructor(e,n){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/API/",this.ping=(r,s)=>this.fetch(this.url("Ping"),Z({},r,s)).then(i=>ee(i).then(o=>({status:o.status})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.version=(r,s)=>this.fetch(this.url("Version"),Z({},r,s)).then(i=>ee(i).then(o=>({version:o.version})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.runtimeStatus=(r,s)=>this.fetch(this.url("RuntimeStatus"),Z({},r,s)).then(i=>ee(i).then(o=>({status:o.status})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.clock=(r,s)=>this.fetch(this.url("Clock"),Z({},r,s)).then(i=>ee(i).then(o=>({serverTime:o.serverTime})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.getSequenceContext=(r,s)=>this.fetch(this.url("GetSequenceContext"),Z({},r,s)).then(i=>ee(i).then(o=>({data:o.data})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.getAuthToken=(r,s,i)=>this.fetch(this.url("GetAuthToken"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status,jwtToken:a.jwtToken,address:a.address,user:a.user})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getAuthToken2=(r,s,i)=>this.fetch(this.url("GetAuthToken2"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status,jwtToken:a.jwtToken,address:a.address,user:a.user})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.sendPasswordlessLink=(r,s,i)=>this.fetch(this.url("SendPasswordlessLink"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.registerPublicKey=(r,s,i)=>this.fetch(this.url("RegisterPublicKey"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getPublicKey=(r,s,i)=>this.fetch(this.url("GetPublicKey"),Z(r,s,i)).then(o=>ee(o).then(a=>({publicKey:a.publicKey})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.friendList=(r,s,i)=>this.fetch(this.url("FriendList"),Z(r,s,i)).then(o=>ee(o).then(a=>({page:a.page,friends:a.friends})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getFriendByAddress=(r,s,i)=>this.fetch(this.url("GetFriendByAddress"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status,friend:a.friend})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.searchFriends=(r,s,i)=>this.fetch(this.url("SearchFriends"),Z(r,s,i)).then(o=>ee(o).then(a=>({friends:a.friends})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.addFriend=(r,s,i)=>this.fetch(this.url("AddFriend"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status,friend:a.friend})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.updateFriendNickname=(r,s,i)=>this.fetch(this.url("UpdateFriendNickname"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status,friend:a.friend})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.removeFriend=(r,s,i)=>this.fetch(this.url("RemoveFriend"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.contractCall=(r,s,i)=>this.fetch(this.url("ContractCall"),Z(r,s,i)).then(o=>ee(o).then(a=>({returns:a.returns})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.decodeContractCall=(r,s,i)=>this.fetch(this.url("DecodeContractCall"),Z(r,s,i)).then(o=>ee(o).then(a=>({call:a.call})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.lookupContractCallSelectors=(r,s,i)=>this.fetch(this.url("LookupContractCallSelectors"),Z(r,s,i)).then(o=>ee(o).then(a=>({signatures:a.signatures})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.userStorageFetch=(r,s,i)=>this.fetch(this.url("UserStorageFetch"),Z(r,s,i)).then(o=>ee(o).then(a=>({object:a.object})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.userStorageSave=(r,s,i)=>this.fetch(this.url("UserStorageSave"),Z(r,s,i)).then(o=>ee(o).then(a=>({ok:a.ok})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.userStorageDelete=(r,s,i)=>this.fetch(this.url("UserStorageDelete"),Z(r,s,i)).then(o=>ee(o).then(a=>({ok:a.ok})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.userStorageFetchAll=(r,s,i)=>this.fetch(this.url("UserStorageFetchAll"),Z(r,s,i)).then(o=>ee(o).then(a=>({objects:a.objects})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getMoonpayLink=(r,s,i)=>this.fetch(this.url("GetMoonpayLink"),Z(r,s,i)).then(o=>ee(o).then(a=>({signedUrl:a.signedUrl})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.resolveENSAddress=(r,s,i)=>this.fetch(this.url("ResolveENSAddress"),Z(r,s,i)).then(o=>ee(o).then(a=>({address:a.address,ok:a.ok})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.isValidSignature=(r,s,i)=>this.fetch(this.url("IsValidSignature"),Z(r,s,i)).then(o=>ee(o).then(a=>({isValid:a.isValid})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.isValidMessageSignature=(r,s,i)=>this.fetch(this.url("IsValidMessageSignature"),Z(r,s,i)).then(o=>ee(o).then(a=>({isValid:a.isValid})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.isValidTypedDataSignature=(r,s,i)=>this.fetch(this.url("IsValidTypedDataSignature"),Z(r,s,i)).then(o=>ee(o).then(a=>({isValid:a.isValid})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.isValidETHAuthProof=(r,s,i)=>this.fetch(this.url("IsValidETHAuthProof"),Z(r,s,i)).then(o=>ee(o).then(a=>({isValid:a.isValid})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.sardineGetClientToken=(r,s)=>this.fetch(this.url("SardineGetClientToken"),Z({},r,s)).then(i=>ee(i).then(o=>({token:o.token})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.sardineGetNFTCheckoutToken=(r,s,i)=>this.fetch(this.url("SardineGetNFTCheckoutToken"),Z(r,s,i)).then(o=>ee(o).then(a=>({resp:a.resp})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.sardineGetNFTCheckoutOrderStatus=(r,s,i)=>this.fetch(this.url("SardineGetNFTCheckoutOrderStatus"),Z(r,s,i)).then(o=>ee(o).then(a=>({resp:a.resp})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.sardineGetSupportedRegions=(r,s)=>this.fetch(this.url("SardineGetSupportedRegions"),Z({},r,s)).then(i=>ee(i).then(o=>({regions:o.regions})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.sardineGetSupportedFiatCurrencies=(r,s)=>this.fetch(this.url("SardineGetSupportedFiatCurrencies"),Z({},r,s)).then(i=>ee(i).then(o=>({tokens:o.tokens})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.sardineGetSupportedTokens=(r,s)=>this.fetch(this.url("SardineGetSupportedTokens"),Z({},r,s)).then(i=>ee(i).then(o=>({tokens:o.tokens})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.sardineGetEnabledTokens=(r,s)=>this.fetch(this.url("SardineGetEnabledTokens"),Z({},r,s)).then(i=>ee(i).then(o=>({tokens:o.tokens})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.sardineGetQuote=(r,s,i)=>this.fetch(this.url("SardineGetQuote"),Z(r,s,i)).then(o=>ee(o).then(a=>({quote:a.quote})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getSardineClientToken=(r,s)=>this.fetch(this.url("GetSardineClientToken"),Z({},r,s)).then(i=>ee(i).then(o=>({token:o.token})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.getSardineNFTCheckoutToken=(r,s,i)=>this.fetch(this.url("GetSardineNFTCheckoutToken"),Z(r,s,i)).then(o=>ee(o).then(a=>({resp:a.resp})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getSardineNFTCheckoutOrderStatus=(r,s,i)=>this.fetch(this.url("GetSardineNFTCheckoutOrderStatus"),Z(r,s,i)).then(o=>ee(o).then(a=>({resp:a.resp})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getCoinPrices=(r,s,i)=>this.fetch(this.url("GetCoinPrices"),Z(r,s,i)).then(o=>ee(o).then(a=>({tokenPrices:a.tokenPrices})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getCollectiblePrices=(r,s,i)=>this.fetch(this.url("GetCollectiblePrices"),Z(r,s,i)).then(o=>ee(o).then(a=>({tokenPrices:a.tokenPrices})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getExchangeRate=(r,s,i)=>this.fetch(this.url("GetExchangeRate"),Z(r,s,i)).then(o=>ee(o).then(a=>({exchangeRate:a.exchangeRate})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.memoryStore=(r,s,i)=>this.fetch(this.url("MemoryStore"),Z(r,s,i)).then(o=>ee(o).then(a=>({ok:a.ok})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.memoryLoad=(r,s,i)=>this.fetch(this.url("MemoryLoad"),Z(r,s,i)).then(o=>ee(o).then(a=>({value:a.value})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getInviteInfo=(r,s)=>this.fetch(this.url("GetInviteInfo"),Z({},r,s)).then(i=>ee(i).then(o=>({inviteInfo:o.inviteInfo})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.isValidAccessCode=(r,s,i)=>this.fetch(this.url("IsValidAccessCode"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.internalClaimAccessCode=(r,s,i)=>this.fetch(this.url("InternalClaimAccessCode"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.blockNumberAtTime=(r,s,i)=>this.fetch(this.url("BlockNumberAtTime"),Z(r,s,i)).then(o=>ee(o).then(a=>({blocks:a.blocks})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.paperSessionSecret=(r,s,i)=>this.fetch(this.url("PaperSessionSecret"),Z(r,s,i)).then(o=>ee(o).then(a=>({secret:a.secret})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.paperSessionSecret2=(r,s,i)=>this.fetch(this.url("PaperSessionSecret2"),Z(r,s,i)).then(o=>ee(o).then(a=>({secret:a.secret})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.linkWallet=(r,s,i)=>this.fetch(this.url("LinkWallet"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getLinkedWallets=(r,s,i)=>this.fetch(this.url("GetLinkedWallets"),Z(r,s,i)).then(o=>ee(o).then(a=>({linkedWallets:a.linkedWallets})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.removeLinkedWallet=(r,s,i)=>this.fetch(this.url("RemoveLinkedWallet"),Z(r,s,i)).then(o=>ee(o).then(a=>({status:a.status})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.generateWaaSVerificationURL=(r,s,i)=>this.fetch(this.url("GenerateWaaSVerificationURL"),Z(r,s,i)).then(o=>ee(o).then(a=>({nonce:a.nonce,verificationURL:a.verificationURL})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.validateWaaSVerificationNonce=(r,s,i)=>this.fetch(this.url("ValidateWaaSVerificationNonce"),Z(r,s,i)).then(o=>ee(o).then(a=>({walletAddress:a.walletAddress})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.listAdoptedWallets=(r,s,i)=>this.fetch(this.url("ListAdoptedWallets"),Z(r,s,i)).then(o=>ee(o).then(a=>({page:a.page,wallets:a.wallets})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getSwapPrice=(r,s,i)=>this.fetch(this.url("GetSwapPrice"),Z(r,s,i)).then(o=>ee(o).then(a=>({swapPrice:a.swapPrice})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getSwapPrices=(r,s,i)=>this.fetch(this.url("GetSwapPrices"),Z(r,s,i)).then(o=>ee(o).then(a=>({swapPrices:a.swapPrices})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getSwapQuote=(r,s,i)=>this.fetch(this.url("GetSwapQuote"),Z(r,s,i)).then(o=>ee(o).then(a=>({swapQuote:a.swapQuote})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.listCurrencyGroups=(r,s)=>this.fetch(this.url("ListCurrencyGroups"),Z({},r,s)).then(i=>ee(i).then(o=>({currencyGroups:o.currencyGroups})),i=>{throw X.new({cause:`fetch(): ${i.message||""}`})}),this.addOffchainInventory=(r,s,i)=>this.fetch(this.url("AddOffchainInventory"),Z(r,s,i)).then(o=>ee(o).then(a=>({inventoryId:a.inventoryId})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.getOffchainInventory=(r,s,i)=>this.fetch(this.url("GetOffchainInventory"),Z(r,s,i)).then(o=>ee(o).then(a=>({inventory:a.inventory})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.listOffchainInventories=(r,s,i)=>this.fetch(this.url("ListOffchainInventories"),Z(r,s,i)).then(o=>ee(o).then(a=>({inventory:a.inventory})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.updateOffchainInventory=(r,s,i)=>this.fetch(this.url("UpdateOffchainInventory"),Z(r,s,i)).then(o=>ee(o).then(a=>({})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.deleteOffchainInventory=(r,s,i)=>this.fetch(this.url("DeleteOffchainInventory"),Z(r,s,i)).then(o=>ee(o).then(a=>({ok:a.ok})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.requestOffchainPayment=(r,s,i)=>this.fetch(this.url("RequestOffchainPayment"),Z(r,s,i)).then(o=>ee(o).then(a=>({payment:a.payment})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.listOffchainPayments=(r,s,i)=>this.fetch(this.url("ListOffchainPayments"),Z(r,s,i)).then(o=>ee(o).then(a=>({page:a.page,payments:a.payments})),o=>{throw X.new({cause:`fetch(): ${o.message||""}`})}),this.hostname=e.replace(/\/*$/,""),this.fetch=(r,s)=>n(r,s)}url(e){return this.hostname+this.path+e}}const Z=(t={},e={},n=null)=>({method:"POST",headers:ap({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{}),signal:n}),ee=t=>t.text().then(e=>{let n;try{n=JSON.parse(e)}catch(r){let s="";throw r instanceof Error&&(s=r.message),Ew.new({status:t.status,cause:`JSON.parse(): ${s}: response text: ${e}`})}if(!t.ok){const r=typeof n.code=="number"?n.code:0;throw(mR[r]||pt).new(n)}return n});let pt=class O3 extends Error{constructor(e,n,r,s,i){super(r),this.name=void 0,this.code=void 0,this.message=void 0,this.status=void 0,this.cause=void 0,this.msg=void 0,this.name=e||"WebrpcError",this.code=typeof n=="number"?n:0,this.message=r||`endpoint error ${this.code}`,this.msg=this.message,this.status=typeof s=="number"?s:0,this.cause=i,Object.setPrototypeOf(this,O3.prototype)}static new(e){return new this(e.error,e.code,e.message||e.msg,e.status,e.cause)}},C3=class N3 extends pt{constructor(e="WebrpcEndpoint",n=0,r="endpoint error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,N3.prototype)}},X=class P3 extends pt{constructor(e="WebrpcRequestFailed",n=-1,r="request failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,P3.prototype)}},R3=class _3 extends pt{constructor(e="WebrpcBadRoute",n=-2,r="bad route",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,_3.prototype)}},B3=class M3 extends pt{constructor(e="WebrpcBadMethod",n=-3,r="bad method",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,M3.prototype)}},L3=class D3 extends pt{constructor(e="WebrpcBadRequest",n=-4,r="bad request",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,D3.prototype)}},Ew=class U3 extends pt{constructor(e="WebrpcBadResponse",n=-5,r="bad response",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,U3.prototype)}},F3=class $3 extends pt{constructor(e="WebrpcServerPanic",n=-6,r="server panic",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,$3.prototype)}},W3=class H3 extends pt{constructor(e="WebrpcInternalError",n=-7,r="internal error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,H3.prototype)}},j3=class G3 extends pt{constructor(e="WebrpcClientDisconnected",n=-8,r="client disconnected",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,G3.prototype)}},V3=class z3 extends pt{constructor(e="WebrpcStreamLost",n=-9,r="stream lost",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,z3.prototype)}},K3=class q3 extends pt{constructor(e="WebrpcStreamFinished",n=-10,r="stream finished",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,q3.prototype)}},Q3=class J3 extends pt{constructor(e="Unauthorized",n=1e3,r="Unauthorized access",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,J3.prototype)}},Y3=class X3 extends pt{constructor(e="PermissionDenied",n=1001,r="Permission denied",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,X3.prototype)}},Z3=class e8 extends pt{constructor(e="SessionExpired",n=1002,r="Session expired",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,e8.prototype)}},t8=class n8 extends pt{constructor(e="Aborted",n=1005,r="Request aborted",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,n8.prototype)}},r8=class s8 extends pt{constructor(e="Geoblocked",n=1006,r="Geoblocked region",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,s8.prototype)}},i8=class o8 extends pt{constructor(e="InvalidArgument",n=2e3,r="Invalid argument",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,o8.prototype)}},a8=class c8 extends pt{constructor(e="Unavailable",n=2002,r="Unavailable resource",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,c8.prototype)}},u8=class l8 extends pt{constructor(e="QueryFailed",n=2003,r="Query failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,l8.prototype)}},f8=class d8 extends pt{constructor(e="NotFound",n=3e3,r="Resource not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,d8.prototype)}},gR=function(t){return t.WebrpcEndpoint="WebrpcEndpoint",t.WebrpcRequestFailed="WebrpcRequestFailed",t.WebrpcBadRoute="WebrpcBadRoute",t.WebrpcBadMethod="WebrpcBadMethod",t.WebrpcBadRequest="WebrpcBadRequest",t.WebrpcBadResponse="WebrpcBadResponse",t.WebrpcServerPanic="WebrpcServerPanic",t.WebrpcInternalError="WebrpcInternalError",t.WebrpcClientDisconnected="WebrpcClientDisconnected",t.WebrpcStreamLost="WebrpcStreamLost",t.WebrpcStreamFinished="WebrpcStreamFinished",t.Unauthorized="Unauthorized",t.PermissionDenied="PermissionDenied",t.SessionExpired="SessionExpired",t.Aborted="Aborted",t.Geoblocked="Geoblocked",t.InvalidArgument="InvalidArgument",t.Unavailable="Unavailable",t.QueryFailed="QueryFailed",t.NotFound="NotFound",t}({});const mR={0:C3,[-1]:X,[-2]:R3,[-3]:B3,[-4]:L3,[-5]:Ew,[-6]:F3,[-7]:W3,[-8]:j3,[-9]:V3,[-10]:K3,1e3:Q3,1001:Y3,1002:Z3,1005:t8,1006:r8,2e3:i8,2002:a8,2003:u8,3e3:f8};class d0 extends I3{constructor(e,n,r){super(e.endsWith("/")?e.slice(0,-1):e,fetch),this.projectAccessKey=n,this.jwtAuth=r,this._fetch=(s,i)=>{const o={},a=this.jwtAuth,c=this.projectAccessKey;return a&&a.length>0&&(o.Authorization=`BEARER ${a}`),c&&c.length>0&&(o["X-Access-Key"]=c),i.headers=ap({},i.headers,o),fetch(s,i)},this.fetch=this._fetch}}const yR=Object.freeze(Object.defineProperty({__proto__:null,API:I3,AbortedError:t8,GeoblockedError:r8,InvalidArgumentError:i8,NotFoundError:f8,PermissionDeniedError:Y3,QueryFailedError:u8,SardinePaymentType:dR,SardineQuoteType:hR,SequenceAPIClient:d0,SessionExpiredError:Z3,SortOrder:fR,TokenType:pR,UnauthorizedError:Q3,UnavailableError:a8,WebRPCSchemaHash:lR,WebRPCSchemaVersion:uR,WebRPCVersion:cR,WebrpcBadMethodError:B3,WebrpcBadRequestError:L3,WebrpcBadResponseError:Ew,WebrpcBadRouteError:R3,WebrpcClientDisconnectedError:j3,WebrpcEndpointError:C3,WebrpcError:pt,WebrpcInternalErrorError:W3,WebrpcRequestFailedError:X,WebrpcServerPanicError:F3,WebrpcStreamFinishedError:K3,WebrpcStreamLostError:V3,errors:gR},Symbol.toStringTag,{value:"Module"})),vw="6.13.0";function bR(t,e,n){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function ft(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function J(t,e,n){for(let r in e){let s=e[r];const i=n?n[r]:null;i&&bR(s,i,r),Object.defineProperty(t,r,{enumerable:!0,value:s,writable:!1})}}function $c(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map($c).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let r=0;r<t.length;r++)n+=e[t[r]>>4],n+=e[t[r]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return $c(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(n=>`${$c(n)}: ${$c(t[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function kt(t,e){return t&&t.code===e}function ng(t){return kt(t,"CALL_EXCEPTION")}function Ze(t,e,n){let r=t;{const i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${$c(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];i.push(o+"="+$c(a))}}i.push(`code=${e}`),i.push(`version=${vw}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return J(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&J(s,{shortMessage:r}),s}function D(t,e,n,r){if(!t)throw Ze(e,n,r)}function S(t,e,n,r){D(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function Aw(t,e,n){n==null&&(n=""),n&&(n=": "+n),D(t>=e,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),D(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const xR=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function Sw(t){D(xR.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function wi(t,e,n){if(n==null&&(n=""),t!==e){let r=n,s="new";n&&(r+=".",s+=" "+n),D(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function h8(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(t.substring(s,s+2),16),s+=2;return r}S(!1,"invalid BytesLike value",e||"value",t)}function $(t,e){return h8(t,e,!1)}function Dt(t,e){return h8(t,e,!0)}function Re(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Cs(t){return Re(t,!0)||t instanceof Uint8Array}const kE="0123456789abcdef";function L(t){const e=$(t);let n="0x";for(let r=0;r<e.length;r++){const s=e[r];n+=kE[(s&240)>>4]+kE[s&15]}return n}function Ae(t){return"0x"+t.map(e=>L(e).substring(2)).join("")}function So(t){return Re(t,!0)?(t.length-2)/2:$(t).length}function Ve(t,e,n){const r=$(t);return n!=null&&n>r.length&&D(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),L(r.slice(e??0,n??r.length))}function wR(t){let e=L(t).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function p8(t,e,n){const r=$(t);D(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(r,e-r.length):s.set(r,0),L(s)}function vr(t,e){return p8(t,e,!0)}function rg(t,e){return p8(t,e,!1)}const sg=BigInt(0),Gr=BigInt(1),nb=9007199254740991;function nd(t,e){const n=Jd(t,"value"),r=BigInt(he(e,"width"));if(D(n>>r===sg,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Gr){const s=(Gr<<r)-Gr;return-((~n&s)+Gr)}return n}function ig(t,e){let n=se(t,"value");const r=BigInt(he(e,"width")),s=Gr<<r-Gr;if(n<sg){n=-n,D(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Gr<<r)-Gr;return(~n&i)+Gr}else D(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function ho(t,e){const n=Jd(t,"value"),r=BigInt(he(e,"bits"));return n&(Gr<<r)-Gr}function se(t,e){switch(typeof t){case"bigint":return t;case"number":return S(Number.isInteger(t),"underflow",e||"value",t),S(t>=-9007199254740991&&t<=nb,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){S(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}S(!1,"invalid BigNumberish value",e||"value",t)}function Jd(t,e){const n=se(t,e);return D(n>=sg,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const TE="0123456789abcdef";function Ol(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=TE[n>>4],e+=TE[n&15];return BigInt(e)}return se(t)}function he(t,e){switch(typeof t){case"bigint":return S(t>=-9007199254740991&&t<=nb,"overflow",e||"value",t),Number(t);case"number":return S(Number.isInteger(t),"underflow",e||"value",t),S(t>=-9007199254740991&&t<=nb,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return he(BigInt(t),e)}catch(n){S(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}S(!1,"invalid numeric value",e||"value",t)}function g8(t){return he(Ol(t))}function Xn(t,e){let r=Jd(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=he(e,"width");for(D(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<s*2;)r="0"+r}return"0x"+r}function Ut(t){const e=Jd(t,"value");if(e===sg)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(n.substring(i,i+2),16)}return r}function Qt(t){let e=L(Cs(t)?t:Ut(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const cp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Rh=null;function ER(t){if(Rh==null){Rh={};for(let n=0;n<cp.length;n++)Rh[cp[n]]=BigInt(n)}const e=Rh[t];return S(e!=null,"invalid base58 value","letter",t),e}const vR=BigInt(0),rb=BigInt(58);function kw(t){const e=$(t);let n=Ol(e),r="";for(;n;)r=cp[Number(n%rb)]+r,n/=rb;for(let s=0;s<e.length&&!e[s];s++)r=cp[0]+r;return r}function m8(t){let e=vR;for(let n=0;n<t.length;n++)e*=rb,e+=ER(t[n]);return e}function y8(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return $(e)}function b8(t){const e=$(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var au;class Tw{constructor(e,n,r){k(this,"filter");k(this,"emitter");P(this,au);E(this,au,n),J(this,{emitter:e,filter:r})}async removeListener(){h(this,au)!=null&&await this.emitter.off(this.filter,h(this,au))}}au=new WeakMap;function AR(t,e,n,r,s){S(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function x8(t,e,n,r,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?n.length-e-1:0}function SR(t,e,n,r,s){return t==="OVERLONG"?(S(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),x8(t,e,n))}const w8=Object.freeze({error:AR,ignore:x8,replace:SR});function E8(t,e){e==null&&(e=w8.error);const n=$(t,"bytes"),r=[];let s=0;for(;s<n.length;){const i=n[s++];if(!(i>>7)){r.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,r):s+=e("BAD_PREFIX",s-1,n,r);continue}if(s-1+o>=n.length){s+=e("OVERRUN",s-1,n,r);continue}let c=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let l=n[s];if((l&192)!=128){s+=e("MISSING_CONTINUE",s,n,r),c=null;break}c=c<<6|l&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,n,r,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,n,r,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,n,r,c);continue}r.push(c)}}return r}function ht(t,e){S(typeof t=="string","invalid string value","str",t),e!=null&&(Sw(e),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);S(r<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((s&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function kR(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Xr(t,e){return kR(E8(t,e))}function TR(t,e){return E8(ht(t,e))}function v8(t){async function e(n,r){D(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();D(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),D(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=Ze("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{i=Ze("request cancelled","CANCELLED"),o.abort()});const c={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal};let u;try{u=await fetch(n.url,c)}catch(p){throw clearTimeout(a),i||p}clearTimeout(a);const l={};u.headers.forEach((p,y)=>{l[y.toLowerCase()]=p});const f=await u.arrayBuffer(),d=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:l,body:d}}return e}const IR=12,OR=250;let IE=v8();const CR=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),NR=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Cm=!1;async function A8(t,e){try{const n=t.match(CR);if(!n)throw new Error("invalid data");return new ci(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?y8(n[3]):PR(n[3]))}catch{return new ci(599,"BAD REQUEST (invalid data: URI)",{},null,new Ot(t))}}function S8(t){async function e(n,r){try{const s=n.match(NR);if(!s)throw new Error("invalid link");return new Ot(`${t}${s[2]}`)}catch{return new ci(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ot(n))}}return e}const _h={data:A8,ipfs:S8("https://gateway.ipfs.io/ipfs/")},k8=new WeakMap;var ha,ji;class T8{constructor(e){P(this,ha);P(this,ji);E(this,ha,[]),E(this,ji,!1),k8.set(e,()=>{if(!h(this,ji)){E(this,ji,!0);for(const n of h(this,ha))setTimeout(()=>{n()},0);E(this,ha,[])}})}addListener(e){D(!h(this,ji),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),h(this,ha).push(e)}get cancelled(){return h(this,ji)}checkSignal(){D(!this.cancelled,"cancelled","CANCELLED",{})}}ha=new WeakMap,ji=new WeakMap;function Bh(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var cu,uu,Lr,Hs,lu,fu,Pt,Gn,js,pa,ga,ma,ds,Dr,Gi,ya,sf;const _p=class _p{constructor(e){P(this,ya);P(this,cu);P(this,uu);P(this,Lr);P(this,Hs);P(this,lu);P(this,fu);P(this,Pt);P(this,Gn);P(this,js);P(this,pa);P(this,ga);P(this,ma);P(this,ds);P(this,Dr);P(this,Gi);E(this,fu,String(e)),E(this,cu,!1),E(this,uu,!0),E(this,Lr,{}),E(this,Hs,""),E(this,lu,3e5),E(this,Dr,{slotInterval:OR,maxAttempts:IR}),E(this,Gi,null)}get url(){return h(this,fu)}set url(e){E(this,fu,String(e))}get body(){return h(this,Pt)==null?null:new Uint8Array(h(this,Pt))}set body(e){if(e==null)E(this,Pt,void 0),E(this,Gn,void 0);else if(typeof e=="string")E(this,Pt,ht(e)),E(this,Gn,"text/plain");else if(e instanceof Uint8Array)E(this,Pt,e),E(this,Gn,"application/octet-stream");else if(typeof e=="object")E(this,Pt,ht(JSON.stringify(e))),E(this,Gn,"application/json");else throw new Error("invalid body")}hasBody(){return h(this,Pt)!=null}get method(){return h(this,Hs)?h(this,Hs):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),E(this,Hs,String(e).toUpperCase())}get headers(){const e=Object.assign({},h(this,Lr));return h(this,js)&&(e.authorization=`Basic ${b8(ht(h(this,js)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&h(this,Gn)&&(e["content-type"]=h(this,Gn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){h(this,Lr)[String(e).toLowerCase()]=String(n)}clearHeaders(){E(this,Lr,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return h(this,js)||null}setCredentials(e,n){S(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),E(this,js,`${e}:${n}`)}get allowGzip(){return h(this,uu)}set allowGzip(e){E(this,uu,!!e)}get allowInsecureAuthentication(){return!!h(this,cu)}set allowInsecureAuthentication(e){E(this,cu,!!e)}get timeout(){return h(this,lu)}set timeout(e){S(e>=0,"timeout must be non-zero","timeout",e),E(this,lu,e)}get preflightFunc(){return h(this,pa)||null}set preflightFunc(e){E(this,pa,e)}get processFunc(){return h(this,ga)||null}set processFunc(e){E(this,ga,e)}get retryFunc(){return h(this,ma)||null}set retryFunc(e){E(this,ma,e)}get getUrlFunc(){return h(this,Gi)||IE}set getUrlFunc(e){E(this,Gi,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${h(this,Pt)?L(h(this,Pt)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(h(this,Dr).slotInterval=e.slotInterval),e.maxAttempts!=null&&(h(this,Dr).maxAttempts=e.maxAttempts)}send(){return D(h(this,ds)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),E(this,ds,new T8(this)),W(this,ya,sf).call(this,0,OE()+this.timeout,0,this,new ci(0,"",{},null,this))}cancel(){D(h(this,ds)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=k8.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();D(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new _p(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,E(s,Lr,Object.assign({},h(this,Lr))),h(this,Pt)&&E(s,Pt,new Uint8Array(h(this,Pt))),E(s,Gn,h(this,Gn)),s}clone(){const e=new _p(this.url);return E(e,Hs,h(this,Hs)),h(this,Pt)&&E(e,Pt,h(this,Pt)),E(e,Gn,h(this,Gn)),E(e,Lr,Object.assign({},h(this,Lr))),E(e,js,h(this,js)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),E(e,pa,h(this,pa)),E(e,ga,h(this,ga)),E(e,ma,h(this,ma)),E(e,Dr,Object.assign({},h(this,Dr))),E(e,Gi,h(this,Gi)),e}static lockConfig(){Cm=!0}static getGateway(e){return _h[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Cm)throw new Error("gateways locked");_h[e]=n}static registerGetUrl(e){if(Cm)throw new Error("gateways locked");IE=e}static createGetUrlFunc(e){return v8()}static createDataGateway(){return A8}static createIpfsGatewayFunc(e){return S8(e)}};cu=new WeakMap,uu=new WeakMap,Lr=new WeakMap,Hs=new WeakMap,lu=new WeakMap,fu=new WeakMap,Pt=new WeakMap,Gn=new WeakMap,js=new WeakMap,pa=new WeakMap,ga=new WeakMap,ma=new WeakMap,ds=new WeakMap,Dr=new WeakMap,Gi=new WeakMap,ya=new WeakSet,sf=async function(e,n,r,s,i){var l,f,d;if(e>=h(this,Dr).maxAttempts)return i.makeServerError("exceeded maximum retry limit");D(OE()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await RR(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in _h){const p=await _h[a](o.url,Bh(h(s,ds)));if(p instanceof ci){let y=p;if(this.processFunc){Bh(h(s,ds));try{y=await this.processFunc(o,y)}catch(g){(g.throttle==null||typeof g.stall!="number")&&y.makeServerError("error in post-processing function",g).assertOk()}}return y}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,Bh(h(s,ds)));let u=new ci(c.statusCode,c.statusMessage,c.headers,c.body,s);if(u.statusCode===301||u.statusCode===302){try{const p=u.headers.location||"";return W(l=o.redirect(p),ya,sf).call(l,e+1,n,0,s,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,u,e))){const p=u.headers["retry-after"];let y=h(this,Dr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(y=parseInt(p)),W(f=o.clone(),ya,sf).call(f,e+1,n,y,s,u)}if(this.processFunc){Bh(h(s,ds));try{u=await this.processFunc(o,u)}catch(p){(p.throttle==null||typeof p.stall!="number")&&u.makeServerError("error in post-processing function",p).assertOk();let y=h(this,Dr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(y=p.stall),W(d=o.clone(),ya,sf).call(d,e+1,n,y,s,u)}}return u};let Ot=_p;var Td,Id,Od,Vn,du,ba;const c2=class c2{constructor(e,n,r,s,i){P(this,Td);P(this,Id);P(this,Od);P(this,Vn);P(this,du);P(this,ba);E(this,Td,e),E(this,Id,n),E(this,Od,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),E(this,Vn,s==null?null:new Uint8Array(s)),E(this,du,i||null),E(this,ba,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${h(this,Vn)?L(h(this,Vn)):"null"}>`}get statusCode(){return h(this,Td)}get statusMessage(){return h(this,Id)}get headers(){return Object.assign({},h(this,Od))}get body(){return h(this,Vn)==null?null:new Uint8Array(h(this,Vn))}get bodyText(){try{return h(this,Vn)==null?"":Xr(h(this,Vn))}catch{D(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{D(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new c2(599,r,this.headers,this.body,h(this,du)||void 0);return E(s,ba,{message:e,error:n}),s}throwThrottleError(e,n){n==null?n=-1:S(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw J(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return h(this,Vn)!=null}get request(){return h(this,du)}ok(){return h(this,ba).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=h(this,ba);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{h(this,Vn)&&(s=Xr(h(this,Vn)))}catch{}D(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Td=new WeakMap,Id=new WeakMap,Od=new WeakMap,Vn=new WeakMap,du=new WeakMap,ba=new WeakMap;let ci=c2;function OE(){return new Date().getTime()}function PR(t){return ht(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function RR(t){return new Promise(e=>setTimeout(e,t))}const _R=BigInt(-1),Cr=BigInt(0),Wc=BigInt(1),BR=BigInt(5),hc={};let Xc="0000";for(;Xc.length<80;)Xc+=Xc;function Vo(t){let e=Xc;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Vl(t,e,n){const r=BigInt(e.width);if(e.signed){const s=Wc<<r-Wc;D(n==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Cr?t=nd(ho(t,r),r):t=-nd(ho(-t,r),r)}else{const s=Wc<<r;D(n==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%s+s)%s&s-Wc}return t}function Nm(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);S(i,"invalid fixed format","format",t),e=i[1]!=="u",n=parseInt(i[2]),r=parseInt(i[3])}}else if(t){const i=t,o=(a,c,u)=>i[a]==null?u:(S(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}S(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),S(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const s=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:s}}function MR(t,e){let n="";t<Cr&&(n="-",t*=_R);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=Xc+r;const s=r.length-e;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Ur,Ge,pn,Fe,Jo,Ms,sb,ib,ob,ab;const $i=class $i{constructor(e,n,r){P(this,Fe);k(this,"format");P(this,Ur);P(this,Ge);P(this,pn);k(this,"_value");wi(e,hc,"FixedNumber"),E(this,Ge,n),E(this,Ur,r);const s=MR(n,r.decimals);J(this,{format:r.name,_value:s}),E(this,pn,Vo(r.decimals))}get signed(){return h(this,Ur).signed}get width(){return h(this,Ur).width}get decimals(){return h(this,Ur).decimals}get value(){return h(this,Ge)}addUnsafe(e){return W(this,Fe,sb).call(this,e)}add(e){return W(this,Fe,sb).call(this,e,"add")}subUnsafe(e){return W(this,Fe,ib).call(this,e)}sub(e){return W(this,Fe,ib).call(this,e,"sub")}mulUnsafe(e){return W(this,Fe,ob).call(this,e)}mul(e){return W(this,Fe,ob).call(this,e,"mul")}mulSignal(e){W(this,Fe,Jo).call(this,e);const n=h(this,Ge)*h(e,Ge);return D(n%h(this,pn)===Cr,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),W(this,Fe,Ms).call(this,n/h(this,pn),"mulSignal")}divUnsafe(e){return W(this,Fe,ab).call(this,e)}div(e){return W(this,Fe,ab).call(this,e,"div")}divSignal(e){D(h(e,Ge)!==Cr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),W(this,Fe,Jo).call(this,e);const n=h(this,Ge)*h(this,pn);return D(n%h(e,Ge)===Cr,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),W(this,Fe,Ms).call(this,n/h(e,Ge),"divSignal")}cmp(e){let n=this.value,r=e.value;const s=this.decimals-e.decimals;return s>0?r*=Vo(s):s<0&&(n*=Vo(-s)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=h(this,Ge);return h(this,Ge)<Cr&&(e-=h(this,pn)-Wc),e=h(this,Ge)/h(this,pn)*h(this,pn),W(this,Fe,Ms).call(this,e,"floor")}ceiling(){let e=h(this,Ge);return h(this,Ge)>Cr&&(e+=h(this,pn)-Wc),e=h(this,Ge)/h(this,pn)*h(this,pn),W(this,Fe,Ms).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=BR*Vo(n-1);let s=this.value+r;const i=Vo(n);return s=s/i*i,Vl(s,h(this,Ur),"round"),new $i(hc,s,h(this,Ur))}isZero(){return h(this,Ge)===Cr}isNegative(){return h(this,Ge)<Cr}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return $i.fromString(this.toString(),e)}static fromValue(e,n,r){const s=n==null?0:he(n),i=Nm(r);let o=se(e,"value");const a=s-i.decimals;if(a>0){const c=Vo(a);D(o%c===Cr,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=Vo(-a));return Vl(o,i,"fromValue"),new $i(hc,o,i)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);S(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const s=Nm(n);let i=r[2]||"0",o=r[3]||"";for(;o.length<s.decimals;)o+=Xc;D(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const a=BigInt(r[1]+i+o);return Vl(a,s,"fromString"),new $i(hc,a,s)}static fromBytes(e,n){let r=Ol($(e,"value"));const s=Nm(n);return s.signed&&(r=nd(r,s.width)),Vl(r,s,"fromBytes"),new $i(hc,r,s)}};Ur=new WeakMap,Ge=new WeakMap,pn=new WeakMap,Fe=new WeakSet,Jo=function(e){S(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Ms=function(e,n){return e=Vl(e,h(this,Ur),n),new $i(hc,e,h(this,Ur))},sb=function(e,n){return W(this,Fe,Jo).call(this,e),W(this,Fe,Ms).call(this,h(this,Ge)+h(e,Ge),n)},ib=function(e,n){return W(this,Fe,Jo).call(this,e),W(this,Fe,Ms).call(this,h(this,Ge)-h(e,Ge),n)},ob=function(e,n){return W(this,Fe,Jo).call(this,e),W(this,Fe,Ms).call(this,h(this,Ge)*h(e,Ge)/h(this,pn),n)},ab=function(e,n){return D(h(e,Ge)!==Cr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),W(this,Fe,Jo).call(this,e),W(this,Fe,Ms).call(this,h(this,Ge)*h(this,pn)/h(e,Ge),n)};let rd=$i;function LR(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function CE(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function NE(t,e,n,r){const s=[];for(;n<e+1+r;){const i=I8(t,n);s.push(i.result),n+=i.consumed,D(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:s}}function I8(t,e){D(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{D(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const s=CE(t,e+1,r);return n(e+1+r+s),NE(t,e,e+1+r,r+s)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),NE(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const s=CE(t,e+1,r);n(e+1+r+s);const i=L(t.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:i}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const s=L(t.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:LR(t[e])}}function Yd(t){const e=$(t,"data"),n=I8(e,0);return S(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function PE(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function O8(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(O8(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=PE(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call($(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=PE(e.length);return n.unshift(183+n.length),n.concat(e)}const RE="0123456789abcdef";function Ro(t){let e="0x";for(const n of O8(t))e+=RE[n>>4],e+=RE[n&15];return e}const C8=["wei","kwei","mwei","gwei","szabo","finney","ether"];function N8(t,e){let n=18;if(typeof e=="string"){const r=C8.indexOf(e);S(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=he(e,"unit"));return rd.fromValue(t,n,{decimals:n,width:512}).toString()}function P8(t,e){S(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=C8.indexOf(e);S(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=he(e,"unit"));return rd.fromString(t,{decimals:n,width:512}).value}function DR(t){return N8(t,18)}function UR(t){return P8(t,18)}function R8(t){const e=$(t,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const n=L(e);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}const xn=32,cb=new Uint8Array(xn),FR=["then"],Mh={},_8=new WeakMap;function Zo(t){return _8.get(t)}function _E(t,e){_8.set(t,e)}function zl(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function ub(t,e,n){return t.indexOf(null)>=0?e.map((r,s)=>r instanceof ec?ub(Zo(r),r,n):r):t.reduce((r,s,i)=>{let o=e.getValue(s);return s in r||(n&&o instanceof ec&&(o=ub(Zo(o),o,n)),r[s]=o),r},{})}var hu;const jc=class jc extends Array{constructor(...n){const r=n[0];let s=n[1],i=(n[2]||[]).slice(),o=!0;r!==Mh&&(s=n,i=[],o=!1);super(s.length);P(this,hu);s.forEach((u,l)=>{this[l]=u});const a=i.reduce((u,l)=>(typeof l=="string"&&u.set(l,(u.get(l)||0)+1),u),new Map);if(_E(this,Object.freeze(s.map((u,l)=>{const f=i[l];return f!=null&&a.get(f)===1?f:null}))),E(this,hu,[]),h(this,hu)==null&&h(this,hu),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(u,l,f)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const p=he(l,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const y=u[p];return y instanceof Error&&zl(`index ${p}`,y),y}if(FR.indexOf(l)>=0)return Reflect.get(u,l,f);const d=u[l];if(d instanceof Function)return function(...p){return d.apply(this===f?u:this,p)};if(!(l in u))return u.getValue.apply(this===f?u:this,[l])}return Reflect.get(u,l,f)}});return _E(c,Zo(this)),c}toArray(n){const r=[];return this.forEach((s,i)=>{s instanceof Error&&zl(`index ${i}`,s),n&&s instanceof jc&&(s=s.toArray(n)),r.push(s)}),r}toObject(n){const r=Zo(this);return r.reduce((s,i,o)=>(D(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),ub(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=Zo(this),i=[],o=[];for(let a=n;a<r;a++)i.push(this[a]),o.push(s[a]);return new jc(Mh,i,o)}filter(n,r){const s=Zo(this),i=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&zl(`index ${a}`,c),n.call(r,c,a,this)&&(i.push(c),o.push(s[a]))}return new jc(Mh,i,o)}map(n,r){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&zl(`index ${i}`,o),s.push(n.call(r,o,i,this))}return s}getValue(n){const r=Zo(this).indexOf(n);if(r===-1)return;const s=this[r];return s instanceof Error&&zl(`property ${JSON.stringify(n)}`,s.error),s}static fromItems(n,r){return new jc(Mh,n,r)}};hu=new WeakMap;let ec=jc;function $R(t){const e=[],n=function(r,s){if(Array.isArray(s))for(let i in s){const o=r.slice();o.push(i);try{n(o,s[i])}catch(a){e.push({path:o,error:a})}}};return n([],t),e}function BE(t){let e=Ut(t);return D(e.length<=xn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:xn,offset:e.length}),e.length!==xn&&(e=Dt(Ae([cb.slice(e.length%xn),e]))),e}class Ei{constructor(e,n,r,s){k(this,"name");k(this,"type");k(this,"localName");k(this,"dynamic");J(this,{name:e,type:n,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){S(!1,e,this.localName,n)}}var Gs,xa,pu,h0;class lb{constructor(){P(this,pu);P(this,Gs);P(this,xa);E(this,Gs,[]),E(this,xa,0)}get data(){return Ae(h(this,Gs))}get length(){return h(this,xa)}appendWriter(e){return W(this,pu,h0).call(this,Dt(e.data))}writeBytes(e){let n=Dt(e);const r=n.length%xn;return r&&(n=Dt(Ae([n,cb.slice(r)]))),W(this,pu,h0).call(this,n)}writeValue(e){return W(this,pu,h0).call(this,BE(e))}writeUpdatableValue(){const e=h(this,Gs).length;return h(this,Gs).push(cb),E(this,xa,h(this,xa)+xn),n=>{h(this,Gs)[e]=BE(n)}}}Gs=new WeakMap,xa=new WeakMap,pu=new WeakSet,h0=function(e){return h(this,Gs).push(e),E(this,xa,h(this,xa)+e.length),e.length};var Cn,zn,wa,Ea,Vi,ac,db,B8;const u2=class u2{constructor(e,n,r){P(this,ac);k(this,"allowLoose");P(this,Cn);P(this,zn);P(this,wa);P(this,Ea);P(this,Vi);J(this,{allowLoose:!!n}),E(this,Cn,Dt(e)),E(this,wa,0),E(this,Ea,null),E(this,Vi,r??1024),E(this,zn,0)}get data(){return L(h(this,Cn))}get dataLength(){return h(this,Cn).length}get consumed(){return h(this,zn)}get bytes(){return new Uint8Array(h(this,Cn))}subReader(e){const n=new u2(h(this,Cn).slice(h(this,zn)+e),this.allowLoose,h(this,Vi));return E(n,Ea,this),n}readBytes(e,n){let r=W(this,ac,B8).call(this,0,e,!!n);return W(this,ac,db).call(this,e),E(this,zn,h(this,zn)+r.length),r.slice(0,e)}readValue(){return Ol(this.readBytes(xn))}readIndex(){return g8(this.readBytes(xn))}};Cn=new WeakMap,zn=new WeakMap,wa=new WeakMap,Ea=new WeakMap,Vi=new WeakMap,ac=new WeakSet,db=function(e){var n;if(h(this,Ea))return W(n=h(this,Ea),ac,db).call(n,e);E(this,wa,h(this,wa)+e),D(h(this,Vi)<1||h(this,wa)<=h(this,Vi)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${h(this,Vi)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Dt(h(this,Cn)),offset:h(this,zn),length:e,info:{bytesRead:h(this,wa),dataLength:this.dataLength}})},B8=function(e,n,r){let s=Math.ceil(n/xn)*xn;return h(this,zn)+s>h(this,Cn).length&&(this.allowLoose&&r&&h(this,zn)+n<=h(this,Cn).length?s=n:D(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Dt(h(this,Cn)),length:h(this,Cn).length,offset:h(this,zn)+s})),h(this,Cn).slice(h(this,zn),h(this,zn)+s)};let fb=u2;function Qn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Iw(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function M8(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Qn(t.outputLen),Qn(t.blockLen)}function ol(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function L8(t,e){Iw(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const WR=t=>t instanceof Uint8Array,p0=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),g0=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),is=(t,e)=>t<<32-e|t>>>e,HR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!HR)throw new Error("Non little-endian hardware is not supported");const jR=async()=>{};async function ME(t,e,n){let r=Date.now();for(let s=0;s<t;s++){n(s);const i=Date.now()-r;i>=0&&i<e||(await jR(),r+=i)}}function GR(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function al(t){if(typeof t=="string"&&(t=GR(t)),!WR(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}let Ow=class{clone(){return this._cloneInto()}};const VR={}.toString;function D8(t,e){if(e!==void 0&&VR.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function og(t){const e=r=>t().update(al(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}let U8=class extends Ow{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,M8(e);const r=al(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return ol(this),this.iHash.update(e),this}digestInto(e){ol(this),Iw(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Cw=(t,e,n)=>new U8(t,e).update(n).digest();Cw.create=(t,e)=>new U8(t,e);function zR(t,e,n,r){M8(t);const s=D8({dkLen:32,asyncTick:10},r),{c:i,dkLen:o,asyncTick:a}=s;if(Qn(i),Qn(o),Qn(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=al(e),u=al(n),l=new Uint8Array(o),f=Cw.create(t,c),d=f._cloneInto().update(u);return{c:i,dkLen:o,asyncTick:a,DK:l,PRF:f,PRFSalt:d}}function KR(t,e,n,r,s){return t.destroy(),e.destroy(),r&&r.destroy(),s.fill(0),n}function Nw(t,e,n,r){const{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=zR(t,e,n,r);let u;const l=new Uint8Array(4),f=g0(l),d=new Uint8Array(a.outputLen);for(let p=1,y=0;y<i;p++,y+=a.outputLen){const g=o.subarray(y,y+a.outputLen);f.setInt32(0,p,!1),(u=c._cloneInto(u)).update(l).digestInto(d),g.set(d.subarray(0,g.length));for(let A=1;A<s;A++){a._cloneInto(u).update(d).digestInto(d);for(let m=0;m<g.length;m++)g[m]^=d[m]}}return KR(a,c,o,u,d)}function qR(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let Pw=class extends Ow{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=g0(this.buffer)}update(e){ol(this);const{view:n,buffer:r,blockLen:s}=this;e=al(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=g0(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ol(this),L8(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;qR(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=g0(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const QR=(t,e,n)=>t&e^~t&n,JR=(t,e,n)=>t&e^t&n^e&n,YR=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Oi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ci=new Uint32Array(64);let XR=class extends Pw{constructor(){super(64,32,8,!1),this.A=Oi[0]|0,this.B=Oi[1]|0,this.C=Oi[2]|0,this.D=Oi[3]|0,this.E=Oi[4]|0,this.F=Oi[5]|0,this.G=Oi[6]|0,this.H=Oi[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)Ci[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const d=Ci[f-15],p=Ci[f-2],y=is(d,7)^is(d,18)^d>>>3,g=is(p,17)^is(p,19)^p>>>10;Ci[f]=g+Ci[f-7]+y+Ci[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){const d=is(a,6)^is(a,11)^is(a,25),p=l+d+QR(a,c,u)+YR[f]+Ci[f]|0,g=(is(r,2)^is(r,13)^is(r,22))+JR(r,s,i)|0;l=u,u=c,c=a,a=o+p|0,o=i,i=s,s=r,r=p+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Ci.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Xd=og(()=>new XR),Lh=BigInt(2**32-1),hb=BigInt(32);function F8(t,e=!1){return e?{h:Number(t&Lh),l:Number(t>>hb&Lh)}:{h:Number(t>>hb&Lh)|0,l:Number(t&Lh)|0}}function $8(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=F8(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const ZR=(t,e)=>BigInt(t>>>0)<<hb|BigInt(e>>>0),e_=(t,e,n)=>t>>>n,t_=(t,e,n)=>t<<32-n|e>>>n,n_=(t,e,n)=>t>>>n|e<<32-n,r_=(t,e,n)=>t<<32-n|e>>>n,s_=(t,e,n)=>t<<64-n|e>>>n-32,i_=(t,e,n)=>t>>>n-32|e<<64-n,o_=(t,e)=>e,a_=(t,e)=>t,W8=(t,e,n)=>t<<n|e>>>32-n,H8=(t,e,n)=>e<<n|t>>>32-n,j8=(t,e,n)=>e<<n-32|t>>>64-n,G8=(t,e,n)=>t<<n-32|e>>>64-n;function c_(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const u_=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),l_=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,f_=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),d_=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,h_=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),p_=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,xe={fromBig:F8,split:$8,toBig:ZR,shrSH:e_,shrSL:t_,rotrSH:n_,rotrSL:r_,rotrBH:s_,rotrBL:i_,rotr32H:o_,rotr32L:a_,rotlSH:W8,rotlSL:H8,rotlBH:j8,rotlBL:G8,add:c_,add3L:u_,add3H:l_,add4L:f_,add4H:d_,add5H:p_,add5L:h_},[g_,m_]=xe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ni=new Uint32Array(80),Pi=new Uint32Array(80);class y_ extends Pw{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:d,Gh:p,Gl:y,Hh:g,Hl:A}=this;return[e,n,r,s,i,o,a,c,u,l,f,d,p,y,g,A]}set(e,n,r,s,i,o,a,c,u,l,f,d,p,y,g,A){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=y|0,this.Hh=g|0,this.Hl=A|0}process(e,n){for(let w=0;w<16;w++,n+=4)Ni[w]=e.getUint32(n),Pi[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const C=Ni[w-15]|0,O=Pi[w-15]|0,B=xe.rotrSH(C,O,1)^xe.rotrSH(C,O,8)^xe.shrSH(C,O,7),M=xe.rotrSL(C,O,1)^xe.rotrSL(C,O,8)^xe.shrSL(C,O,7),R=Ni[w-2]|0,K=Pi[w-2]|0,j=xe.rotrSH(R,K,19)^xe.rotrBH(R,K,61)^xe.shrSH(R,K,6),te=xe.rotrSL(R,K,19)^xe.rotrBL(R,K,61)^xe.shrSL(R,K,6),ye=xe.add4L(M,te,Pi[w-7],Pi[w-16]),be=xe.add4H(ye,B,j,Ni[w-7],Ni[w-16]);Ni[w]=be|0,Pi[w]=ye|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:d,Fh:p,Fl:y,Gh:g,Gl:A,Hh:m,Hl:x}=this;for(let w=0;w<80;w++){const C=xe.rotrSH(f,d,14)^xe.rotrSH(f,d,18)^xe.rotrBH(f,d,41),O=xe.rotrSL(f,d,14)^xe.rotrSL(f,d,18)^xe.rotrBL(f,d,41),B=f&p^~f&g,M=d&y^~d&A,R=xe.add5L(x,O,M,m_[w],Pi[w]),K=xe.add5H(R,m,C,B,g_[w],Ni[w]),j=R|0,te=xe.rotrSH(r,s,28)^xe.rotrBH(r,s,34)^xe.rotrBH(r,s,39),ye=xe.rotrSL(r,s,28)^xe.rotrBL(r,s,34)^xe.rotrBL(r,s,39),be=r&i^r&a^i&a,Qe=s&o^s&c^o&c;m=g|0,x=A|0,g=p|0,A=y|0,p=f|0,y=d|0,{h:f,l:d}=xe.add(u|0,l|0,K|0,j|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const U=xe.add3L(j,ye,Qe);r=xe.add3H(U,K,te,be),s=U|0}({h:r,l:s}=xe.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=xe.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=xe.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=xe.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:d}=xe.add(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:y}=xe.add(this.Fh|0,this.Fl|0,p|0,y|0),{h:g,l:A}=xe.add(this.Gh|0,this.Gl|0,g|0,A|0),{h:m,l:x}=xe.add(this.Hh|0,this.Hl|0,m|0,x|0),this.set(r,s,i,o,a,c,u,l,f,d,p,y,g,A,m,x)}roundClean(){Ni.fill(0),Pi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Rw=og(()=>new y_);function b_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const LE=b_(),DE=LE.crypto||LE.msCrypto;function V8(t){switch(t){case"sha256":return Xd.create();case"sha512":return Rw.create()}S(!1,"invalid hashing algorithm name","algorithm",t)}function x_(t,e){const n={sha256:Xd,sha512:Rw}[t];return S(n!=null,"invalid hmac algorithm","algorithm",t),Cw.create(n,e)}function w_(t,e,n,r,s){const i={sha256:Xd,sha512:Rw}[s];return S(i!=null,"invalid pbkdf2 algorithm","algorithm",s),Nw(i,t,e,{c:n,dkLen:r})}function E_(t){D(DE!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),S(Number.isInteger(t)&&t>0&&t<=1024,"invalid length","length",t);const e=new Uint8Array(t);return DE.getRandomValues(e),e}let z8=!1;const K8=function(t,e,n){return x_(t,e).update(n).digest()};let q8=K8;function Uo(t,e,n){const r=$(e,"key"),s=$(n,"data");return L(q8(t,r,s))}Uo._=K8;Uo.lock=function(){z8=!0};Uo.register=function(t){if(z8)throw new Error("computeHmac is locked");q8=t};Object.freeze(Uo);const[Q8,J8,Y8]=[[],[],[]],v_=BigInt(0),Kl=BigInt(1),A_=BigInt(2),S_=BigInt(7),k_=BigInt(256),T_=BigInt(113);for(let t=0,e=Kl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Q8.push(2*(5*r+n)),J8.push((t+1)*(t+2)/2%64);let s=v_;for(let i=0;i<7;i++)e=(e<<Kl^(e>>S_)*T_)%k_,e&A_&&(s^=Kl<<(Kl<<BigInt(i))-Kl);Y8.push(s)}const[I_,O_]=$8(Y8,!0),UE=(t,e,n)=>n>32?j8(t,e,n):W8(t,e,n),FE=(t,e,n)=>n>32?G8(t,e,n):H8(t,e,n);function C_(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],f=UE(u,l,1)^n[a],d=FE(u,l,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=J8[o],c=UE(s,i,a),u=FE(s,i,a),l=Q8[o];s=t[l],i=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=I_[r],t[1]^=O_[r]}n.fill(0)}class _w extends Ow{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Qn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=p0(this.state)}keccak(){C_(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ol(this);const{blockLen:n,state:r}=this;e=al(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ol(this,!1),Iw(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Qn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(L8(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new _w(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const N_=(t,e,n)=>og(()=>new _w(e,t,n)),P_=N_(1,136,256/8);let X8=!1;const Z8=function(t){return P_(t)};let eA=Z8;function me(t){const e=$(t,"data");return L(eA(e))}me._=Z8;me.lock=function(){X8=!0};me.register=function(t){if(X8)throw new TypeError("keccak256 is locked");eA=t};Object.freeze(me);const R_=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),tA=Uint8Array.from({length:16},(t,e)=>e),__=tA.map(t=>(9*t+5)%16);let Bw=[tA],Mw=[__];for(let t=0;t<4;t++)for(let e of[Bw,Mw])e.push(e[t].map(n=>R_[n]));const nA=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),B_=Bw.map((t,e)=>t.map(n=>nA[e][n])),M_=Mw.map((t,e)=>t.map(n=>nA[e][n])),L_=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),D_=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Dh=(t,e)=>t<<e|t>>>32-e;function $E(t,e,n,r){return t===0?e^n^r:t===1?e&n|~e&r:t===2?(e|~n)^r:t===3?e&r|n&~r:e^(n|~r)}const Uh=new Uint32Array(16);class U_ extends Pw{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:r,h3:s,h4:i}=this;return[e,n,r,s,i]}set(e,n,r,s,i){this.h0=e|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=i|0}process(e,n){for(let p=0;p<16;p++,n+=4)Uh[p]=e.getUint32(n,!0);let r=this.h0|0,s=r,i=this.h1|0,o=i,a=this.h2|0,c=a,u=this.h3|0,l=u,f=this.h4|0,d=f;for(let p=0;p<5;p++){const y=4-p,g=L_[p],A=D_[p],m=Bw[p],x=Mw[p],w=B_[p],C=M_[p];for(let O=0;O<16;O++){const B=Dh(r+$E(p,i,a,u)+Uh[m[O]]+g,w[O])+f|0;r=f,f=u,u=Dh(a,10)|0,a=i,i=B}for(let O=0;O<16;O++){const B=Dh(s+$E(y,o,c,l)+Uh[x[O]]+A,C[O])+d|0;s=d,d=l,l=Dh(c,10)|0,c=o,o=B}}this.set(this.h1+a+l|0,this.h2+u+d|0,this.h3+f+s|0,this.h4+r+o|0,this.h0+i+c|0)}roundClean(){Uh.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const F_=og(()=>new U_);let rA=!1;const sA=function(t){return F_(t)};let iA=sA;function Fo(t){const e=$(t,"data");return L(iA(e))}Fo._=sA;Fo.lock=function(){rA=!0};Fo.register=function(t){if(rA)throw new TypeError("ripemd160 is locked");iA=t};Object.freeze(Fo);let oA=!1;const aA=function(t,e,n,r,s){return w_(t,e,n,r,s)};let cA=aA;function Ps(t,e,n,r,s){const i=$(t,"password"),o=$(e,"salt");return L(cA(i,o,n,r,s))}Ps._=aA;Ps.lock=function(){oA=!0};Ps.register=function(t){if(oA)throw new Error("pbkdf2 is locked");cA=t};Object.freeze(Ps);let uA=!1;const lA=function(t){return new Uint8Array(E_(t))};let fA=lA;function ln(t){return fA(t)}ln._=lA;ln.lock=function(){uA=!0};ln.register=function(t){if(uA)throw new Error("randomBytes is locked");fA=t};Object.freeze(ln);const Be=(t,e)=>t<<e|t>>>32-e;function WE(t,e,n,r,s,i){let o=t[e++]^n[r++],a=t[e++]^n[r++],c=t[e++]^n[r++],u=t[e++]^n[r++],l=t[e++]^n[r++],f=t[e++]^n[r++],d=t[e++]^n[r++],p=t[e++]^n[r++],y=t[e++]^n[r++],g=t[e++]^n[r++],A=t[e++]^n[r++],m=t[e++]^n[r++],x=t[e++]^n[r++],w=t[e++]^n[r++],C=t[e++]^n[r++],O=t[e++]^n[r++],B=o,M=a,R=c,K=u,j=l,te=f,ye=d,be=p,Qe=y,U=g,Q=A,oe=m,b=x,v=w,T=C,N=O;for(let _=0;_<8;_+=2)j^=Be(B+b|0,7),Qe^=Be(j+B|0,9),b^=Be(Qe+j|0,13),B^=Be(b+Qe|0,18),U^=Be(te+M|0,7),v^=Be(U+te|0,9),M^=Be(v+U|0,13),te^=Be(M+v|0,18),T^=Be(Q+ye|0,7),R^=Be(T+Q|0,9),ye^=Be(R+T|0,13),Q^=Be(ye+R|0,18),K^=Be(N+oe|0,7),be^=Be(K+N|0,9),oe^=Be(be+K|0,13),N^=Be(oe+be|0,18),M^=Be(B+K|0,7),R^=Be(M+B|0,9),K^=Be(R+M|0,13),B^=Be(K+R|0,18),ye^=Be(te+j|0,7),be^=Be(ye+te|0,9),j^=Be(be+ye|0,13),te^=Be(j+be|0,18),oe^=Be(Q+U|0,7),Qe^=Be(oe+Q|0,9),U^=Be(Qe+oe|0,13),Q^=Be(U+Qe|0,18),b^=Be(N+T|0,7),v^=Be(b+N|0,9),T^=Be(v+b|0,13),N^=Be(T+v|0,18);s[i++]=o+B|0,s[i++]=a+M|0,s[i++]=c+R|0,s[i++]=u+K|0,s[i++]=l+j|0,s[i++]=f+te|0,s[i++]=d+ye|0,s[i++]=p+be|0,s[i++]=y+Qe|0,s[i++]=g+U|0,s[i++]=A+Q|0,s[i++]=m+oe|0,s[i++]=x+b|0,s[i++]=w+v|0,s[i++]=C+T|0,s[i++]=O+N|0}function Zc(t,e,n,r,s){let i=r+0,o=r+16*s;for(let a=0;a<16;a++)n[o+a]=t[e+(2*s-1)*16+a];for(let a=0;a<s;a++,i+=16,e+=16)WE(n,o,t,e,n,i),a>0&&(o+=16),WE(n,i,t,e+=16,n,o)}function dA(t,e,n){const r=D8({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:s,r:i,p:o,dkLen:a,asyncTick:c,maxmem:u,onProgress:l}=r;if(Qn(s),Qn(i),Qn(o),Qn(a),Qn(c),Qn(u),l!==void 0&&typeof l!="function")throw new Error("progressCb should be function");const f=128*i,d=f/4;if(s<=1||s&s-1||s>=2**(f/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=f*(s+o);if(p>u)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${u} (maxmem)`);const y=Nw(Xd,t,e,{c:1,dkLen:f*o}),g=p0(y),A=p0(new Uint8Array(f*s)),m=p0(new Uint8Array(f));let x=()=>{};if(l){const w=2*s*o,C=Math.max(Math.floor(w/1e4),1);let O=0;x=()=>{O++,l&&(!(O%C)||O===w)&&l(O/w)}}return{N:s,r:i,p:o,dkLen:a,blockSize32:d,V:A,B32:g,B:y,tmp:m,blockMixCb:x,asyncTick:c}}function hA(t,e,n,r,s){const i=Nw(Xd,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),s.fill(0),i}function $_(t,e,n){const{N:r,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:u,B:l,tmp:f,blockMixCb:d}=dA(t,e,n);for(let p=0;p<i;p++){const y=a*p;for(let g=0;g<a;g++)c[g]=u[y+g];for(let g=0,A=0;g<r-1;g++)Zc(c,A,c,A+=a,s),d();Zc(c,(r-1)*a,u,y,s),d();for(let g=0;g<r;g++){const A=u[y+a-16]%r;for(let m=0;m<a;m++)f[m]=u[y+m]^c[A*a+m];Zc(f,0,u,y,s),d()}}return hA(t,o,l,c,f)}async function W_(t,e,n){const{N:r,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:u,B:l,tmp:f,blockMixCb:d,asyncTick:p}=dA(t,e,n);for(let y=0;y<i;y++){const g=a*y;for(let m=0;m<a;m++)c[m]=u[g+m];let A=0;await ME(r-1,p,()=>{Zc(c,A,c,A+=a,s),d()}),Zc(c,(r-1)*a,u,g,s),d(),await ME(r,p,()=>{const m=u[g+a-16]%r;for(let x=0;x<a;x++)f[x]=u[g+x]^c[m*a+x];Zc(f,0,u,g,s),d()})}return hA(t,o,l,c,f)}let pA=!1,gA=!1;const mA=async function(t,e,n,r,s,i,o){return await W_(t,e,{N:n,r,p:s,dkLen:i,onProgress:o})},yA=function(t,e,n,r,s,i){return $_(t,e,{N:n,r,p:s,dkLen:i})};let bA=mA,xA=yA;async function $o(t,e,n,r,s,i,o){const a=$(t,"passwd"),c=$(e,"salt");return L(await bA(a,c,n,r,s,i,o))}$o._=mA;$o.lock=function(){gA=!0};$o.register=function(t){if(gA)throw new Error("scrypt is locked");bA=t};Object.freeze($o);function Wo(t,e,n,r,s,i){const o=$(t,"passwd"),a=$(e,"salt");return L(xA(o,a,n,r,s,i))}Wo._=yA;Wo.lock=function(){pA=!0};Wo.register=function(t){if(pA)throw new Error("scryptSync is locked");xA=t};Object.freeze(Wo);const wA=function(t){return V8("sha256").update(t).digest()},EA=function(t){return V8("sha512").update(t).digest()};let vA=wA,AA=EA,SA=!1,kA=!1;function Sn(t){const e=$(t,"data");return L(vA(e))}Sn._=wA;Sn.lock=function(){SA=!0};Sn.register=function(t){if(SA)throw new Error("sha256 is locked");vA=t};Object.freeze(Sn);function Zd(t){const e=$(t,"data");return L(AA(e))}Zd._=EA;Zd.lock=function(){kA=!0};Zd.register=function(t){if(kA)throw new Error("sha512 is locked");AA=t};Object.freeze(Sn);function HE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function TA(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function H_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");HE(t.outputLen),HE(t.blockLen)}function up(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function j_(t,e){TA(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Pm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const IA=t=>t instanceof Uint8Array,Rm=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),os=(t,e)=>t<<32-e|t>>>e,G_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!G_)throw new Error("Non little-endian hardware is not supported");function V_(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Lw(t){if(typeof t=="string"&&(t=V_(t)),!IA(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function z_(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!IA(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let OA=class{clone(){return this._cloneInto()}};function K_(t){const e=r=>t().update(Lw(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function q_(t=32){if(Pm&&typeof Pm.getRandomValues=="function")return Pm.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function Q_(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}class J_ extends OA{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rm(this.buffer)}update(e){up(this);const{view:n,buffer:r,blockLen:s}=this;e=Lw(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Rm(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){up(this),j_(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;Q_(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Rm(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const Y_=(t,e,n)=>t&e^~t&n,X_=(t,e,n)=>t&e^t&n^e&n,Z_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ri=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_i=new Uint32Array(64);let eB=class extends J_{constructor(){super(64,32,8,!1),this.A=Ri[0]|0,this.B=Ri[1]|0,this.C=Ri[2]|0,this.D=Ri[3]|0,this.E=Ri[4]|0,this.F=Ri[5]|0,this.G=Ri[6]|0,this.H=Ri[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)_i[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const d=_i[f-15],p=_i[f-2],y=os(d,7)^os(d,18)^d>>>3,g=os(p,17)^os(p,19)^p>>>10;_i[f]=g+_i[f-7]+y+_i[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){const d=os(a,6)^os(a,11)^os(a,25),p=l+d+Y_(a,c,u)+Z_[f]+_i[f]|0,g=(os(r,2)^os(r,13)^os(r,22))+X_(r,s,i)|0;l=u,u=c,c=a,a=o+p|0,o=i,i=s,s=r,r=p+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){_i.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const tB=K_(()=>new eB);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CA=BigInt(0),ag=BigInt(1),nB=BigInt(2),cg=t=>t instanceof Uint8Array,rB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cl(t){if(!cg(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=rB[t[n]];return e}function NA(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Dw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ul(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Ha(t){return Dw(cl(t))}function Uw(t){if(!cg(t))throw new Error("Uint8Array expected");return Dw(cl(Uint8Array.from(t).reverse()))}function ll(t,e){return ul(t.toString(16).padStart(e*2,"0"))}function Fw(t,e){return ll(t,e).reverse()}function sB(t){return ul(NA(t))}function Mr(t,e,n){let r;if(typeof e=="string")try{r=ul(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(cg(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function sd(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!cg(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function iB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function oB(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function aB(t){let e;for(e=0;t>CA;t>>=ag,e+=1);return e}function cB(t,e){return t>>BigInt(e)&ag}const uB=(t,e,n)=>t|(n?ag:CA)<<BigInt(e),$w=t=>(nB<<BigInt(t-1))-ag,_m=t=>new Uint8Array(t),jE=t=>Uint8Array.from(t);function PA(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=_m(t),s=_m(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),c=(f=_m())=>{s=a(jE([0]),f),r=a(),f.length!==0&&(s=a(jE([1]),f),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<e;){r=a();const p=r.slice();d.push(p),f+=r.length}return sd(...d)};return(f,d)=>{o(),c(f);let p;for(;!(p=d(u()));)c();return o(),p}}const lB={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function eh(t,e,n={}){const r=(s,i,o)=>{const a=lB[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const fB=Object.freeze(Object.defineProperty({__proto__:null,bitGet:cB,bitLen:aB,bitMask:$w,bitSet:uB,bytesToHex:cl,bytesToNumberBE:Ha,bytesToNumberLE:Uw,concatBytes:sd,createHmacDrbg:PA,ensureBytes:Mr,equalBytes:iB,hexToBytes:ul,hexToNumber:Dw,numberToBytesBE:ll,numberToBytesLE:Fw,numberToHexUnpadded:NA,numberToVarBytesBE:sB,utf8ToBytes:oB,validateObject:eh},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ft=BigInt(0),bt=BigInt(1),ea=BigInt(2),dB=BigInt(3),pb=BigInt(4),GE=BigInt(5),VE=BigInt(8);BigInt(9);BigInt(16);function Rn(t,e){const n=t%e;return n>=Ft?n:e+n}function hB(t,e,n){if(n<=Ft||e<Ft)throw new Error("Expected power/modulo > 0");if(n===bt)return Ft;let r=bt;for(;e>Ft;)e&bt&&(r=r*t%n),t=t*t%n,e>>=bt;return r}function nr(t,e,n){let r=t;for(;e-- >Ft;)r*=r,r%=n;return r}function gb(t,e){if(t===Ft||e<=Ft)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Rn(t,e),r=e,s=Ft,i=bt;for(;n!==Ft;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==bt)throw new Error("invert: does not exist");return Rn(s,e)}function pB(t){const e=(t-bt)/ea;let n,r,s;for(n=t-bt,r=0;n%ea===Ft;n/=ea,r++);for(s=ea;s<t&&hB(s,e,t)!==t-bt;s++);if(r===1){const o=(t+bt)/pb;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(n+bt)/ea;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),n),f=a.pow(c,i),d=a.pow(c,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let p=1;for(let g=a.sqr(d);p<u&&!a.eql(g,a.ONE);p++)g=a.sqr(g);const y=a.pow(l,bt<<BigInt(u-p-1));l=a.sqr(y),f=a.mul(f,y),d=a.mul(d,l),u=p}return f}}function gB(t){if(t%pb===dB){const e=(t+bt)/pb;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%VE===GE){const e=(t-GE)/VE;return function(r,s){const i=r.mul(s,ea),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,ea),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return pB(t)}const mB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function yB(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=mB.reduce((r,s)=>(r[s]="function",r),e);return eh(t,n)}function bB(t,e,n){if(n<Ft)throw new Error("Expected power > 0");if(n===Ft)return t.ONE;if(n===bt)return e;let r=t.ONE,s=e;for(;n>Ft;)n&bt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=bt;return r}function xB(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function RA(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wB(t,e,n=!1,r={}){if(t<=Ft)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=RA(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=gB(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:$w(s),ZERO:Ft,ONE:bt,create:c=>Rn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ft<=c&&c<t},is0:c=>c===Ft,isOdd:c=>(c&bt)===bt,neg:c=>Rn(-c,t),eql:(c,u)=>c===u,sqr:c=>Rn(c*c,t),add:(c,u)=>Rn(c+u,t),sub:(c,u)=>Rn(c-u,t),mul:(c,u)=>Rn(c*u,t),pow:(c,u)=>bB(a,c,u),div:(c,u)=>Rn(c*gb(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>gb(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>xB(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?Fw(c,i):ll(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return n?Uw(c):Ha(c)}});return Object.freeze(a)}function _A(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function BA(t){const e=_A(t);return e+Math.ceil(e/2)}function EB(t,e,n=!1){const r=t.length,s=_A(e),i=BA(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=n?Ha(t):Uw(t),a=Rn(o,e-bt)+bt;return n?Fw(a,s):ll(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vB=BigInt(0),Bm=BigInt(1);function AB(t,e){const n=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>vB;)i&Bm&&(o=o.add(a)),a=a.double(),i>>=Bm;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),c=[];let u=s,l=u;for(let f=0;f<o;f++){l=u,c.push(l);for(let d=1;d<a;d++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=r(s);let u=t.ZERO,l=t.BASE;const f=BigInt(2**s-1),d=2**s,p=BigInt(s);for(let y=0;y<a;y++){const g=y*c;let A=Number(o&f);o>>=p,A>c&&(A-=d,o+=Bm);const m=g,x=g+Math.abs(A)-1,w=y%2!==0,C=A<0;A===0?l=l.add(n(w,i[m])):u=u.add(n(C,i[x]))}return{p:u,f:l}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&i.set(s,a(u))),this.wNAF(c,u,o)}}}function MA(t){return yB(t.Fp),eh(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...RA(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function SB(t){const e=MA(t);eh(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:kB,hexToBytes:TB}=fB,ua={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ua;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:kB(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=ua,n=typeof t=="string"?TB(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=ua._parseInt(n.subarray(2)),{d:o,l:a}=ua._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,o=s.length/2,a=n(i),c=n(o);return`30${n(o+i+4)}02${c}${s}02${a}${r}`}},ti=BigInt(0),gr=BigInt(1);BigInt(2);const zE=BigInt(3);BigInt(4);function IB(t){const e=SB(t),{Fp:n}=e,r=e.toBytes||((y,g,A)=>{const m=g.toAffine();return sd(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),s=e.fromBytes||(y=>{const g=y.subarray(1),A=n.fromBytes(g.subarray(0,n.BYTES)),m=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:A,y:m}});function i(y){const{a:g,b:A}=e,m=n.sqr(y),x=n.mul(m,y);return n.add(n.add(x,n.mul(y,g)),A)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&ti<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(y){const{allowedPrivateKeyLengths:g,nByteLength:A,wrapPrivateKey:m,n:x}=e;if(g&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=cl(y)),typeof y!="string"||!g.includes(y.length))throw new Error("Invalid key");y=y.padStart(A*2,"0")}let w;try{w=typeof y=="bigint"?y:Ha(Mr("private key",y,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof y}`)}return m&&(w=Rn(w,x)),a(w),w}const u=new Map;function l(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(g,A,m){if(this.px=g,this.py=A,this.pz=m,g==null||!n.isValid(g))throw new Error("x required");if(A==null||!n.isValid(A))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required")}static fromAffine(g){const{x:A,y:m}=g||{};if(!g||!n.isValid(A)||!n.isValid(m))throw new Error("invalid affine point");if(g instanceof f)throw new Error("projective point not allowed");const x=w=>n.eql(w,n.ZERO);return x(A)&&x(m)?f.ZERO:new f(A,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const A=n.invertBatch(g.map(m=>m.pz));return g.map((m,x)=>m.toAffine(A[x])).map(f.fromAffine)}static fromHex(g){const A=f.fromAffine(s(Mr("pointHex",g)));return A.assertValidity(),A}static fromPrivateKey(g){return f.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:A}=this.toAffine();if(!n.isValid(g)||!n.isValid(A))throw new Error("bad point: x or y not FE");const m=n.sqr(A),x=i(g);if(!n.eql(m,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){l(g);const{px:A,py:m,pz:x}=this,{px:w,py:C,pz:O}=g,B=n.eql(n.mul(A,O),n.mul(w,x)),M=n.eql(n.mul(m,O),n.mul(C,x));return B&&M}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:A}=e,m=n.mul(A,zE),{px:x,py:w,pz:C}=this;let O=n.ZERO,B=n.ZERO,M=n.ZERO,R=n.mul(x,x),K=n.mul(w,w),j=n.mul(C,C),te=n.mul(x,w);return te=n.add(te,te),M=n.mul(x,C),M=n.add(M,M),O=n.mul(g,M),B=n.mul(m,j),B=n.add(O,B),O=n.sub(K,B),B=n.add(K,B),B=n.mul(O,B),O=n.mul(te,O),M=n.mul(m,M),j=n.mul(g,j),te=n.sub(R,j),te=n.mul(g,te),te=n.add(te,M),M=n.add(R,R),R=n.add(M,R),R=n.add(R,j),R=n.mul(R,te),B=n.add(B,R),j=n.mul(w,C),j=n.add(j,j),R=n.mul(j,te),O=n.sub(O,R),M=n.mul(j,K),M=n.add(M,M),M=n.add(M,M),new f(O,B,M)}add(g){l(g);const{px:A,py:m,pz:x}=this,{px:w,py:C,pz:O}=g;let B=n.ZERO,M=n.ZERO,R=n.ZERO;const K=e.a,j=n.mul(e.b,zE);let te=n.mul(A,w),ye=n.mul(m,C),be=n.mul(x,O),Qe=n.add(A,m),U=n.add(w,C);Qe=n.mul(Qe,U),U=n.add(te,ye),Qe=n.sub(Qe,U),U=n.add(A,x);let Q=n.add(w,O);return U=n.mul(U,Q),Q=n.add(te,be),U=n.sub(U,Q),Q=n.add(m,x),B=n.add(C,O),Q=n.mul(Q,B),B=n.add(ye,be),Q=n.sub(Q,B),R=n.mul(K,U),B=n.mul(j,be),R=n.add(B,R),B=n.sub(ye,R),R=n.add(ye,R),M=n.mul(B,R),ye=n.add(te,te),ye=n.add(ye,te),be=n.mul(K,be),U=n.mul(j,U),ye=n.add(ye,be),be=n.sub(te,be),be=n.mul(K,be),U=n.add(U,be),te=n.mul(ye,U),M=n.add(M,te),te=n.mul(Q,U),B=n.mul(Qe,B),B=n.sub(B,te),te=n.mul(Qe,ye),R=n.mul(Q,R),R=n.add(R,te),new f(B,M,R)}subtract(g){return this.add(g.negate())}is0(){return this.equals(f.ZERO)}wNAF(g){return p.wNAFCached(this,u,g,A=>{const m=n.invertBatch(A.map(x=>x.pz));return A.map((x,w)=>x.toAffine(m[w])).map(f.fromAffine)})}multiplyUnsafe(g){const A=f.ZERO;if(g===ti)return A;if(a(g),g===gr)return this;const{endo:m}=e;if(!m)return p.unsafeLadder(this,g);let{k1neg:x,k1:w,k2neg:C,k2:O}=m.splitScalar(g),B=A,M=A,R=this;for(;w>ti||O>ti;)w&gr&&(B=B.add(R)),O&gr&&(M=M.add(R)),R=R.double(),w>>=gr,O>>=gr;return x&&(B=B.negate()),C&&(M=M.negate()),M=new f(n.mul(M.px,m.beta),M.py,M.pz),B.add(M)}multiply(g){a(g);let A=g,m,x;const{endo:w}=e;if(w){const{k1neg:C,k1:O,k2neg:B,k2:M}=w.splitScalar(A);let{p:R,f:K}=this.wNAF(O),{p:j,f:te}=this.wNAF(M);R=p.constTimeNegate(C,R),j=p.constTimeNegate(B,j),j=new f(n.mul(j.px,w.beta),j.py,j.pz),m=R.add(j),x=K.add(te)}else{const{p:C,f:O}=this.wNAF(A);m=C,x=O}return f.normalizeZ([m,x])[0]}multiplyAndAddUnsafe(g,A,m){const x=f.BASE,w=(O,B)=>B===ti||B===gr||!O.equals(x)?O.multiplyUnsafe(B):O.multiply(B),C=w(this,A).add(w(g,m));return C.is0()?void 0:C}toAffine(g){const{px:A,py:m,pz:x}=this,w=this.is0();g==null&&(g=w?n.ONE:n.inv(x));const C=n.mul(A,g),O=n.mul(m,g),B=n.mul(x,g);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:C,y:O}}isTorsionFree(){const{h:g,isTorsionFree:A}=e;if(g===gr)return!0;if(A)return A(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:A}=e;return g===gr?this:A?A(f,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),r(f,this,g)}toHex(g=!0){return cl(this.toRawBytes(g))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=e.nBitLength,p=AB(f,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function OB(t){const e=MA(t);return eh(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function CB(t){const e=OB(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function o(U){return ti<U&&U<n.ORDER}function a(U){return Rn(U,r)}function c(U){return gb(U,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:d}=IB({...e,toBytes(U,Q,oe){const b=Q.toAffine(),v=n.toBytes(b.x),T=sd;return oe?T(Uint8Array.from([Q.hasEvenY()?2:3]),v):T(Uint8Array.from([4]),v,n.toBytes(b.y))},fromBytes(U){const Q=U.length,oe=U[0],b=U.subarray(1);if(Q===s&&(oe===2||oe===3)){const v=Ha(b);if(!o(v))throw new Error("Point is not on curve");const T=f(v);let N=n.sqrt(T);const _=(N&gr)===gr;return(oe&1)===1!==_&&(N=n.neg(N)),{x:v,y:N}}else if(Q===i&&oe===4){const v=n.fromBytes(b.subarray(0,n.BYTES)),T=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:v,y:T}}else throw new Error(`Point of length ${Q} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),p=U=>cl(ll(U,e.nByteLength));function y(U){const Q=r>>gr;return U>Q}function g(U){return y(U)?a(-U):U}const A=(U,Q,oe)=>Ha(U.slice(Q,oe));class m{constructor(Q,oe,b){this.r=Q,this.s=oe,this.recovery=b,this.assertValidity()}static fromCompact(Q){const oe=e.nByteLength;return Q=Mr("compactSignature",Q,oe*2),new m(A(Q,0,oe),A(Q,oe,2*oe))}static fromDER(Q){const{r:oe,s:b}=ua.toSig(Mr("DER",Q));return new m(oe,b)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Q){return new m(this.r,this.s,Q)}recoverPublicKey(Q){const{r:oe,s:b,recovery:v}=this,T=M(Mr("msgHash",Q));if(v==null||![0,1,2,3].includes(v))throw new Error("recovery id invalid");const N=v===2||v===3?oe+e.n:oe;if(N>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const _=v&1?"03":"02",F=u.fromHex(_+p(N)),H=c(N),z=a(-T*H),G=a(b*H),V=u.BASE.multiplyAndAddUnsafe(F,z,G);if(!V)throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ul(this.toDERHex())}toDERHex(){return ua.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ul(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const x={isValidPrivateKey(U){try{return l(U),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const U=BA(e.n);return EB(e.randomBytes(U),e.n)},precompute(U=8,Q=u.BASE){return Q._setWindowSize(U),Q.multiply(BigInt(3)),Q}};function w(U,Q=!0){return u.fromPrivateKey(U).toRawBytes(Q)}function C(U){const Q=U instanceof Uint8Array,oe=typeof U=="string",b=(Q||oe)&&U.length;return Q?b===s||b===i:oe?b===2*s||b===2*i:U instanceof u}function O(U,Q,oe=!0){if(C(U))throw new Error("first arg must be private key");if(!C(Q))throw new Error("second arg must be public key");return u.fromHex(Q).multiply(l(U)).toRawBytes(oe)}const B=e.bits2int||function(U){const Q=Ha(U),oe=U.length*8-e.nBitLength;return oe>0?Q>>BigInt(oe):Q},M=e.bits2int_modN||function(U){return a(B(U))},R=$w(e.nBitLength);function K(U){if(typeof U!="bigint")throw new Error("bigint expected");if(!(ti<=U&&U<R))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ll(U,e.nByteLength)}function j(U,Q,oe=te){if(["recovered","canonical"].some(Ye=>Ye in oe))throw new Error("sign() legacy options not supported");const{hash:b,randomBytes:v}=e;let{lowS:T,prehash:N,extraEntropy:_}=oe;T==null&&(T=!0),U=Mr("msgHash",U),N&&(U=Mr("prehashed msgHash",b(U)));const F=M(U),H=l(Q),z=[K(H),K(F)];if(_!=null){const Ye=_===!0?v(n.BYTES):_;z.push(Mr("extraEntropy",Ye))}const G=sd(...z),V=F;function ue(Ye){const ke=B(Ye);if(!d(ke))return;const _e=c(ke),We=u.BASE.multiply(ke).toAffine(),Ke=a(We.x);if(Ke===ti)return;const rs=a(_e*a(V+Ke*H));if(rs===ti)return;let lc=(We.x===Ke?0:2)|Number(We.y&gr),Ti=rs;return T&&y(rs)&&(Ti=g(rs),lc^=1),new m(Ke,Ti,lc)}return{seed:G,k2sig:ue}}const te={lowS:e.lowS,prehash:!1},ye={lowS:e.lowS,prehash:!1};function be(U,Q,oe=te){const{seed:b,k2sig:v}=j(U,Q,oe),T=e;return PA(T.hash.outputLen,T.nByteLength,T.hmac)(b,v)}u.BASE._setWindowSize(8);function Qe(U,Q,oe,b=ye){var We;const v=U;if(Q=Mr("msgHash",Q),oe=Mr("publicKey",oe),"strict"in b)throw new Error("options.strict was renamed to lowS");const{lowS:T,prehash:N}=b;let _,F;try{if(typeof v=="string"||v instanceof Uint8Array)try{_=m.fromDER(v)}catch(Ke){if(!(Ke instanceof ua.Err))throw Ke;_=m.fromCompact(v)}else if(typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint"){const{r:Ke,s:rs}=v;_=new m(Ke,rs)}else throw new Error("PARSE");F=u.fromHex(oe)}catch(Ke){if(Ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(T&&_.hasHighS())return!1;N&&(Q=e.hash(Q));const{r:H,s:z}=_,G=M(Q),V=c(z),ue=a(G*V),Ye=a(H*V),ke=(We=u.BASE.multiplyAndAddUnsafe(F,ue,Ye))==null?void 0:We.toAffine();return ke?a(ke.x)===H:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:O,sign:be,verify:Qe,ProjectivePoint:u,Signature:m,utils:x}}class LA extends OA{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,H_(e);const r=Lw(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return up(this),this.iHash.update(e),this}digestInto(e){up(this),TA(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const DA=(t,e,n)=>new LA(t,e).update(n).digest();DA.create=(t,e)=>new LA(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NB(t){return{hash:t,hmac:(e,...n)=>DA(t,e,z_(...n)),randomBytes:q_}}function PB(t,e){const n=r=>CB({...t,...NB(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const UA=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),KE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),RB=BigInt(1),mb=BigInt(2),qE=(t,e)=>(t+e/mb)/e;function _B(t){const e=UA,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,f=nr(l,n,e)*l%e,d=nr(f,n,e)*l%e,p=nr(d,mb,e)*u%e,y=nr(p,s,e)*p%e,g=nr(y,i,e)*y%e,A=nr(g,a,e)*g%e,m=nr(A,c,e)*A%e,x=nr(m,a,e)*g%e,w=nr(x,n,e)*l%e,C=nr(w,o,e)*y%e,O=nr(C,r,e)*u%e,B=nr(O,mb,e);if(!yb.eql(yb.sqr(B),t))throw new Error("Cannot find square root");return B}const yb=wB(UA,void 0,void 0,{sqrt:_B}),Li=PB({a:BigInt(0),b:BigInt(7),Fp:yb,n:KE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=KE,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-RB*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=qE(i*t,e),c=qE(-r*t,e);let u=Rn(t-a*n-c*s,e),l=Rn(-a*r-c*i,e);const f=u>o,d=l>o;if(f&&(u=e-u),d&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},tB);BigInt(0);Li.ProjectivePoint;const mi="0x0000000000000000000000000000000000000000",id="0x0000000000000000000000000000000000000000000000000000000000000000",BB=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MB=BigInt("1000000000000000000"),LB=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),DB=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),UB=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),FB="",FA=`Ethereum Signed Message:
`,QE=BigInt(0),JE=BigInt(1),YE=BigInt(2),XE=BigInt(27),ZE=BigInt(28),Fh=BigInt(35),pc={};function ev(t){return vr(Ut(t),32)}var gu,mu,yu,va;const Pr=class Pr{constructor(e,n,r,s){P(this,gu);P(this,mu);P(this,yu);P(this,va);wi(e,pc,"Signature"),E(this,gu,n),E(this,mu,r),E(this,yu,s),E(this,va,null)}get r(){return h(this,gu)}set r(e){S(So(e)===32,"invalid r","value",e),E(this,gu,L(e))}get s(){return h(this,mu)}set s(e){S(So(e)===32,"invalid s","value",e);const n=L(e);S(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),E(this,mu,n)}get v(){return h(this,yu)}set v(e){const n=he(e,"value");S(n===27||n===28,"invalid v","v",e),E(this,yu,n)}get networkV(){return h(this,va)}get legacyChainId(){const e=this.networkV;return e==null?null:Pr.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=$(this.s);return this.yParity&&(e[0]|=128),L(e)}get compactSerialized(){return Ae([this.r,this.yParityAndS])}get serialized(){return Ae([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Pr(pc,this.r,this.s,this.v);return this.networkV&&E(e,va,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=se(e,"v");return n==XE||n==ZE?QE:(S(n>=Fh,"invalid EIP-155 v","v",e),(n-Fh)/YE)}static getChainIdV(e,n){return se(e)*YE+BigInt(35+n-27)}static getNormalizedV(e){const n=se(e);return n===QE||n===XE?27:n===JE||n===ZE?28:(S(n>=Fh,"invalid v","v",e),n&JE?27:28)}static from(e){function n(u,l){S(u,l,"signature",e)}if(e==null)return new Pr(pc,id,id,27);if(typeof e=="string"){const u=$(e,"signature");if(u.length===64){const l=L(u.slice(0,32)),f=u.slice(32,64),d=f[0]&128?28:27;return f[0]&=127,new Pr(pc,l,L(f),d)}if(u.length===65){const l=L(u.slice(0,32)),f=u.slice(32,64);n((f[0]&128)===0,"non-canonical s");const d=Pr.getNormalizedV(u[64]);return new Pr(pc,l,L(f),d)}n(!1,"invalid raw signature length")}if(e instanceof Pr)return e.clone();const r=e.r;n(r!=null,"missing r");const s=ev(r),i=function(u,l){if(u!=null)return ev(u);if(l!=null){n(Re(l,32),"invalid yParityAndS");const f=$(l);return f[0]&=127,L(f)}n(!1,"missing s")}(e.s,e.yParityAndS);n(($(i)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(u,l,f){if(u!=null){const d=se(u);return{networkV:d>=Fh?d:void 0,v:Pr.getNormalizedV(d)}}if(l!=null)return n(Re(l,32),"invalid yParityAndS"),{v:$(l)[0]&128?28:27};if(f!=null){switch(he(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Pr(pc,s,i,a);return o&&E(c,va,o),n(e.yParity==null||he(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};gu=new WeakMap,mu=new WeakMap,yu=new WeakMap,va=new WeakMap;let Tr=Pr;var Vs;const sa=class sa{constructor(e){P(this,Vs);S(So(e)===32,"invalid private key","privateKey","[REDACTED]"),E(this,Vs,L(e))}get privateKey(){return h(this,Vs)}get publicKey(){return sa.computePublicKey(h(this,Vs))}get compressedPublicKey(){return sa.computePublicKey(h(this,Vs),!0)}sign(e){S(So(e)===32,"invalid digest length","digest",e);const n=Li.sign(Dt(e),Dt(h(this,Vs)),{lowS:!0});return Tr.from({r:Xn(n.r,32),s:Xn(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=sa.computePublicKey(e);return L(Li.getSharedSecret(Dt(h(this,Vs)),$(n),!1))}static computePublicKey(e,n){let r=$(e,"key");if(r.length===32){const i=Li.getPublicKey(r,!!n);return L(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=Li.ProjectivePoint.fromHex(r);return L(s.toRawBytes(n))}static recoverPublicKey(e,n){S(So(e)===32,"invalid digest length","digest",e);const r=Tr.from(n);let s=Li.Signature.fromCompact(Dt(Ae([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const i=s.recoverPublicKey(Dt(e));return S(i!=null,"invalid signautre for digest","signature",n),"0x"+i.toHex(!1)}static addPoints(e,n,r){const s=Li.ProjectivePoint.fromHex(sa.computePublicKey(e).substring(2)),i=Li.ProjectivePoint.fromHex(sa.computePublicKey(n).substring(2));return"0x"+s.add(i).toHex(!!r)}};Vs=new WeakMap;let Jr=sa;function $B(){Uo.lock(),me.lock(),Ps.lock(),ln.lock(),Fo.lock(),$o.lock(),Wo.lock(),Sn.lock(),Zd.lock(),ln.lock()}const WB=BigInt(0),HB=BigInt(36);function tv(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=$(me(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Ww={};for(let t=0;t<10;t++)Ww[String(t)]=String(t);for(let t=0;t<26;t++)Ww[String.fromCharCode(65+t)]=String(10+t);const nv=15;function $A(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>Ww[r]).join("");for(;e.length>=nv;){let r=e.substring(0,nv);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const jB=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function GB(t){t=t.toLowerCase();let e=WB;for(let n=0;n<t.length;n++)e=e*HB+jB[t[n]];return e}function le(t){if(S(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=tv(t);return S(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){S(t.substring(2,4)===$A(t),"bad icap checksum","address",t);let e=GB(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return tv("0x"+e)}S(!1,"invalid address","address",t)}function VB(t){let e=BigInt(le(t)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+$A("XE00"+e)+e}function Hw(t){const e=le(t.from);let r=se(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,le(Ve(me(Ro([e,r])),12))}function zB(t,e,n){const r=le(t),s=$(e,"salt"),i=$(n,"initCodeHash");return S(s.length===32,"salt must be 32 bytes","salt",e),S(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",n),le(Ve(me(Ae(["0xff",r,s,i])),12))}function jw(t){return t&&typeof t.getAddress=="function"}function lp(t){try{return le(t),!0}catch{}return!1}async function Mm(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(D(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),S(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),le(n)}function $t(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?le(t):(D(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Mm(t,e.resolveName(t)));if(jw(t))return Mm(t,t.getAddress());if(t&&typeof t.then=="function")return Mm(t,t);S(!1,"unsupported addressable value","target",t)}const Us={};function ne(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Xt(Us,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Me(t,e){return new Xt(Us,`bytes${e||""}`,t,{size:e})}const rv=Symbol.for("_ethers_typed");var Aa;const Fs=class Fs{constructor(e,n,r,s){k(this,"type");k(this,"value");P(this,Aa);k(this,"_typedSymbol");s==null&&(s=null),wi(Us,e,"Typed"),J(this,{_typedSymbol:rv,type:n,value:r}),E(this,Aa,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return h(this,Aa)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return h(this,Aa)===!0?-1:h(this,Aa)===!1?this.value.length:null}static from(e,n){return new Fs(Us,e,n)}static uint8(e){return ne(e,8)}static uint16(e){return ne(e,16)}static uint24(e){return ne(e,24)}static uint32(e){return ne(e,32)}static uint40(e){return ne(e,40)}static uint48(e){return ne(e,48)}static uint56(e){return ne(e,56)}static uint64(e){return ne(e,64)}static uint72(e){return ne(e,72)}static uint80(e){return ne(e,80)}static uint88(e){return ne(e,88)}static uint96(e){return ne(e,96)}static uint104(e){return ne(e,104)}static uint112(e){return ne(e,112)}static uint120(e){return ne(e,120)}static uint128(e){return ne(e,128)}static uint136(e){return ne(e,136)}static uint144(e){return ne(e,144)}static uint152(e){return ne(e,152)}static uint160(e){return ne(e,160)}static uint168(e){return ne(e,168)}static uint176(e){return ne(e,176)}static uint184(e){return ne(e,184)}static uint192(e){return ne(e,192)}static uint200(e){return ne(e,200)}static uint208(e){return ne(e,208)}static uint216(e){return ne(e,216)}static uint224(e){return ne(e,224)}static uint232(e){return ne(e,232)}static uint240(e){return ne(e,240)}static uint248(e){return ne(e,248)}static uint256(e){return ne(e,256)}static uint(e){return ne(e,256)}static int8(e){return ne(e,-8)}static int16(e){return ne(e,-16)}static int24(e){return ne(e,-24)}static int32(e){return ne(e,-32)}static int40(e){return ne(e,-40)}static int48(e){return ne(e,-48)}static int56(e){return ne(e,-56)}static int64(e){return ne(e,-64)}static int72(e){return ne(e,-72)}static int80(e){return ne(e,-80)}static int88(e){return ne(e,-88)}static int96(e){return ne(e,-96)}static int104(e){return ne(e,-104)}static int112(e){return ne(e,-112)}static int120(e){return ne(e,-120)}static int128(e){return ne(e,-128)}static int136(e){return ne(e,-136)}static int144(e){return ne(e,-144)}static int152(e){return ne(e,-152)}static int160(e){return ne(e,-160)}static int168(e){return ne(e,-168)}static int176(e){return ne(e,-176)}static int184(e){return ne(e,-184)}static int192(e){return ne(e,-192)}static int200(e){return ne(e,-200)}static int208(e){return ne(e,-208)}static int216(e){return ne(e,-216)}static int224(e){return ne(e,-224)}static int232(e){return ne(e,-232)}static int240(e){return ne(e,-240)}static int248(e){return ne(e,-248)}static int256(e){return ne(e,-256)}static int(e){return ne(e,-256)}static bytes1(e){return Me(e,1)}static bytes2(e){return Me(e,2)}static bytes3(e){return Me(e,3)}static bytes4(e){return Me(e,4)}static bytes5(e){return Me(e,5)}static bytes6(e){return Me(e,6)}static bytes7(e){return Me(e,7)}static bytes8(e){return Me(e,8)}static bytes9(e){return Me(e,9)}static bytes10(e){return Me(e,10)}static bytes11(e){return Me(e,11)}static bytes12(e){return Me(e,12)}static bytes13(e){return Me(e,13)}static bytes14(e){return Me(e,14)}static bytes15(e){return Me(e,15)}static bytes16(e){return Me(e,16)}static bytes17(e){return Me(e,17)}static bytes18(e){return Me(e,18)}static bytes19(e){return Me(e,19)}static bytes20(e){return Me(e,20)}static bytes21(e){return Me(e,21)}static bytes22(e){return Me(e,22)}static bytes23(e){return Me(e,23)}static bytes24(e){return Me(e,24)}static bytes25(e){return Me(e,25)}static bytes26(e){return Me(e,26)}static bytes27(e){return Me(e,27)}static bytes28(e){return Me(e,28)}static bytes29(e){return Me(e,29)}static bytes30(e){return Me(e,30)}static bytes31(e){return Me(e,31)}static bytes32(e){return Me(e,32)}static address(e){return new Fs(Us,"address",e)}static bool(e){return new Fs(Us,"bool",!!e)}static bytes(e){return new Fs(Us,"bytes",e)}static string(e){return new Fs(Us,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Fs(Us,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===rv}static dereference(e,n){if(Fs.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Aa=new WeakMap;let Xt=Fs;class KB extends Ei{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Xt.dereference(n,"string");try{r=le(r)}catch(s){return this._throwError(s.message,n)}return e.writeValue(r)}decode(e){return le(Xn(e.readValue(),20))}}class qB extends Ei{constructor(n){super(n.name,n.type,"_",n.dynamic);k(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function WA(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(u=>{const l=u.localName;return D(l,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),D(!c[l],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),c[l]=!0,n[l]})}else S(!1,"invalid tuple value","tuple",n);S(e.length===r.length,"types/value length mismatch","tuple",n);let s=new lb,i=new lb,o=[];e.forEach((c,u)=>{let l=r[u];if(c.dynamic){let f=i.length;c.encode(i,l);let d=s.writeUpdatableValue();o.push(p=>{d(p+f)})}else c.encode(s,l)}),o.forEach(c=>{c(s.length)});let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function HA(t,e){let n=[],r=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(u){if(kt(u,"BUFFER_OVERRUN"))throw u;o=u,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if(kt(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");n.push(o),r.push(i.localName||null)}),ec.fromItems(n,r)}class QB extends Ei{constructor(n,r,s){const i=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",i,s,o);k(this,"coder");k(this,"length");J(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(n);return r}encode(n,r){const s=Xt.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,n.writeValue(s.length)),Aw(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return WA(n,o,s)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),D(r*xn<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*xn,length:n.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new qB(this.coder));return HA(n,s)}}class JB extends Ei{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=Xt.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class jA extends Ei{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Dt(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class YB extends jA{constructor(e){super("bytes",e)}decode(e){return L(super.decode(e))}}class XB extends Ei{constructor(n,r){let s="bytes"+String(n);super(s,s,r,!1);k(this,"size");J(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let s=Dt(Xt.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(s)}decode(n){return L(n.readBytes(this.size))}}const ZB=new Uint8Array([]);class eM extends Ei{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(ZB)}decode(e){return e.readBytes(0),null}}const tM=BigInt(0),nM=BigInt(1),rM=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class sM extends Ei{constructor(n,r,s){const i=(r?"int":"uint")+n*8;super(i,i,s,!1);k(this,"size");k(this,"signed");J(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let s=se(Xt.dereference(r,this.type)),i=ho(rM,xn*8);if(this.signed){let o=ho(i,this.size*8-1);(s>o||s<-(o+nM))&&this._throwError("value out-of-bounds",r),s=ig(s,8*xn)}else(s<tM||s>ho(i,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(s)}decode(n){let r=ho(n.readValue(),this.size*8);return this.signed&&(r=nd(r,this.size*8)),r}}class iM extends jA{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,ht(Xt.dereference(n,"string")))}decode(e){return Xr(super.decode(e))}}class $h extends Ei{constructor(n,r){let s=!1;const i=[];n.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,s);k(this,"coders");J(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(s=>{n.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[i]))}),Object.freeze(n)}encode(n,r){const s=Xt.dereference(r,"tuple");return WA(n,this.coders,s)}decode(n){return HA(n,this.coders)}}function dn(t){return me(ht(t))}var oM="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const sv=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),iv=4;function aM(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let O=1;O<r;O++)i.push(s+=n());let o=n(),a=e;e+=o;let c=0,u=0;function l(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const f=31,d=2**f,p=d>>>1,y=p>>1,g=d-1;let A=0;for(let O=0;O<f;O++)A=A<<1|l();let m=[],x=0,w=d;for(;;){let O=Math.floor(((A-x+1)*s-1)/w),B=0,M=r;for(;M-B>1;){let j=B+M>>>1;O<i[j]?M=j:B=j}if(B==0)break;m.push(B);let R=x+Math.floor(w*i[B]/s),K=x+Math.floor(w*i[B+1]/s)-1;for(;!((R^K)&p);)A=A<<1&g|l(),R=R<<1&g,K=K<<1&g|1;for(;R&~K&y;)A=A&p|A<<1&g>>>1|l(),R=R<<1^p,K=(K^p)<<1|p|1;x=R,w=1+K-R}let C=r-4;return m.map(O=>{switch(O-C){case 3:return C+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return C+256+(t[a++]<<8|t[a++]);case 1:return C+t[a++];default:return O-1}})}function cM(t){let e=0;return()=>t[e++]}function GA(t){return cM(aM(uM(t)))}function uM(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,o=0,a=0;s<n;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function lM(t){return t&1?~t>>1:t>>1}function fM(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=lM(e());return n}function od(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function VA(t){return ad(()=>{let e=od(t);if(e.length)return e})}function zA(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(dM(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(hM(n,t))}return e.flat()}function ad(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function KA(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)fM(t,n).forEach((i,o)=>r[o].push(i));return r}function dM(t,e){let n=1+e(),r=e(),s=ad(e);return KA(s.length,1+t,e).flatMap((o,a)=>{let[c,...u]=o;return Array(s[a]).fill().map((l,f)=>{let d=f*r;return[c+f*n,u.map(p=>p+d)]})})}function hM(t,e){let n=1+e();return KA(n,1+t,e).map(s=>[s[0],s.slice(1)])}function pM(t){let e=[],n=od(t);return s(r([]),[]),e;function r(i){let o=t(),a=ad(()=>{let c=od(t).map(u=>n[u]);if(c.length)return r(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let u of o)for(let l of u.Q)s(u,[...a,l],c)}}}function gM(t){return t.toString(16).toUpperCase().padStart(2,"0")}function qA(t){return`{${gM(t)}}`}function mM(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function fl(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function yM(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var bM="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const cd=44032,fp=4352,dp=4449,hp=4519,QA=19,JA=21,dl=28,pp=JA*dl,xM=QA*pp,wM=cd+xM,EM=fp+QA,vM=dp+JA,AM=hp+dl;function of(t){return t>>24&255}function YA(t){return t&16777215}let bb,ov,xb,m0;function SM(){let t=GA(bM);bb=new Map(VA(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),ov=new Set(od(t)),xb=new Map,m0=new Map;for(let[e,n]of zA(t)){if(!ov.has(e)&&n.length==2){let[r,s]=n,i=m0.get(r);i||(i=new Map,m0.set(r,i)),i.set(s,e)}xb.set(e,n.reverse())}}function XA(t){return t>=cd&&t<wM}function kM(t,e){if(t>=fp&&t<EM&&e>=dp&&e<vM)return cd+(t-fp)*pp+(e-dp)*dl;if(XA(t)&&e>hp&&e<AM&&(t-cd)%dl==0)return t+(e-hp);{let n=m0.get(t);return n&&(n=n.get(e),n)?n:-1}}function ZA(t){bb||SM();let e=[],n=[],r=!1;function s(i){let o=bb.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(XA(i)){let o=i-cd,a=o/pp|0,c=o%pp/dl|0,u=o%dl;s(fp+a),s(dp+c),u>0&&s(hp+u)}else{let o=xb.get(i);o?n.push(...o):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=of(e[0]);for(let o=1;o<e.length;o++){let a=of(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(i=of(e[--c]),i<=a))break}i=of(e[o])}}return e}function TM(t){let e=[],n=[],r=-1,s=0;for(let i of t){let o=of(i),a=YA(i);if(r==-1)o==0?r=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),s=o;else{let c=kM(r,a);c>=0?r=c:s==0&&o==0?(e.push(r),r=a):(n.push(a),s=o)}}return r>=0&&e.push(r,...n),e}function e4(t){return ZA(t).map(YA)}function IM(t){return TM(ZA(t))}const av=45,t4=".",n4=65039,r4=1,gp=t=>Array.from(t);function ud(t,e){return t.P.has(e)||t.Q.has(e)}class OM extends Array{get is_emoji(){return!0}}let wb,s4,la,Eb,i4,eu,Lm,Ac,Yo,cv,vb;function Gw(){if(wb)return;let t=GA(oM);const e=()=>od(t),n=()=>new Set(e()),r=(l,f)=>f.forEach(d=>l.add(d));wb=new Map(zA(t)),s4=n(),la=e(),Eb=new Set(e().map(l=>la[l])),la=new Set(la),i4=n(),n();let s=VA(t),i=t();const o=()=>{let l=new Set;return e().forEach(f=>r(l,s[f])),r(l,e()),l};eu=ad(l=>{let f=ad(t).map(d=>d+96);if(f.length){let d=l>=i;f[0]-=32,f=fl(f),d&&(f=`Restricted[${f}]`);let p=o(),y=o(),g=!t();return{N:f,P:p,Q:y,M:g,R:d}}}),Lm=n(),Ac=new Map;let a=e().concat(gp(Lm)).sort((l,f)=>l-f);a.forEach((l,f)=>{let d=t(),p=a[f]=d?a[f-d]:{V:[],M:new Map};p.V.push(l),Lm.has(l)||Ac.set(l,p)});for(let{V:l,M:f}of new Set(Ac.values())){let d=[];for(let y of l){let g=eu.filter(m=>ud(m,y)),A=d.find(({G:m})=>g.some(x=>m.has(x)));A||(A={G:new Set,V:[]},d.push(A)),A.V.push(y),r(A.G,g)}let p=d.flatMap(y=>gp(y.G));for(let{G:y,V:g}of d){let A=new Set(p.filter(m=>!y.has(m)));for(let m of g)f.set(m,A)}}Yo=new Set;let c=new Set;const u=l=>Yo.has(l)?c.add(l):Yo.add(l);for(let l of eu){for(let f of l.P)u(f);for(let f of l.Q)u(f)}for(let l of Yo)!Ac.has(l)&&!c.has(l)&&Ac.set(l,r4);r(Yo,e4(Yo)),cv=pM(t).map(l=>OM.from(l)).sort(yM),vb=new Map;for(let l of cv){let f=[vb];for(let d of l){let p=f.map(y=>{let g=y.get(d);return g||(g=new Map,y.set(d,g)),g});d===n4?f.push(...p):f=p}for(let d of f)d.V=l}}function Vw(t){return(o4(t)?"":`${zw(ug([t]))} `)+qA(t)}function zw(t){return`"${t}"`}function CM(t){if(t.length>=4&&t[2]==av&&t[3]==av)throw new Error(`invalid label extension: "${fl(t.slice(0,4))}"`)}function NM(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function PM(t){let e=t[0],n=sv.get(e);if(n)throw kf(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let o=sv.get(e);if(o){if(s==i)throw kf(`${n} + ${o}`);s=i+1,n=o}}if(s==r)throw kf(`trailing ${n}`)}function ug(t,e=1/0,n=qA){let r=[];RM(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];o4(a)&&(r.push(fl(t.slice(s,o))),r.push(n(a)),s=o+1)}return r.push(fl(t.slice(s,i))),r.join("")}function RM(t){return Gw(),la.has(t)}function o4(t){return Gw(),i4.has(t)}function _M(t){return DM(BM(t,IM,$M))}function BM(t,e,n){if(!t)return[];Gw();let r=0;return t.split(t4).map(s=>{let i=mM(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=FM(i,e,n),c=a.length,u;if(!c)throw new Error("empty label");let l=o.output=a.flat();if(NM(l),!(o.emoji=c>1||a[0].is_emoji)&&l.every(d=>d<128))CM(l),u="ASCII";else{let d=a.flatMap(p=>p.is_emoji?[]:p);if(!d.length)u="Emoji";else{if(la.has(l[0]))throw kf("leading combining mark");for(let g=1;g<c;g++){let A=a[g];if(!A.is_emoji&&la.has(A[0]))throw kf(`emoji + combining mark: "${fl(a[g-1])} + ${ug([A[0]])}"`)}PM(l);let p=gp(new Set(d)),[y]=LM(p);UM(y,d),MM(y,p),u=y.N}}o.type=u}catch(a){o.error=a}return o})}function MM(t,e){let n,r=[];for(let s of e){let i=Ac.get(s);if(i===r4)return;if(i){let o=i.M.get(s);if(n=n?n.filter(a=>o.has(a)):gp(o),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>ud(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function LM(t){let e=eu;for(let n of t){let r=e.filter(s=>ud(s,n));if(!r.length)throw eu.some(s=>ud(s,n))?c4(e[0],n):a4(n);if(e=r,r.length==1)break}return e}function DM(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${zw(ug(e,63))}: ${s}`)}return fl(r)}).join(t4)}function a4(t){return new Error(`disallowed character: ${Vw(t)}`)}function c4(t,e){let n=Vw(e),r=eu.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function kf(t){return new Error(`illegal placement: ${t}`)}function UM(t,e){for(let n of e)if(!ud(t,n))throw c4(t,n);if(t.M){let n=e4(e);for(let r=1,s=n.length;r<s;r++)if(Eb.has(n[r])){let i=r+1;for(let o;i<s&&Eb.has(o=n[i]);i++)for(let a=r;a<i;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${Vw(o)}`);if(i-r>iv)throw new Error(`excessive non-spacing marks: ${zw(ug(n.slice(r-1,i)))} (${i-r}/${iv})`);r=i}}}function FM(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=WM(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let o=t.pop();if(Yo.has(o))s.push(o);else{let a=wb.get(o);if(a)s.push(...a);else if(!s4.has(o))throw a4(o)}}}return s.length&&r.push(e(s)),r}function $M(t){return t.filter(e=>e!=n4)}function WM(t,e){let n=vb,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const u4=new Uint8Array(32);u4.fill(0);function uv(t){return S(t.length!==0,"invalid ENS name; empty component","comp",t),t}function Kw(t){const e=ht(l4(t)),n=[];if(t.length===0)return n;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(uv(e.slice(r,s))),r=s+1);return S(r<e.length,"invalid ENS name; empty component","name",t),n.push(uv(e.slice(r))),n}function l4(t){try{if(t.length===0)throw new Error("empty label");return _M(t)}catch(e){S(!1,`invalid ENS name (${e.message})`,"name",t)}}function HM(t){try{return Kw(t).length!==0}catch{}return!1}function mp(t){S(typeof t=="string","invalid ENS name; not a string","name",t),S(t.length,"invalid ENS name (empty label)","name",t);let e=u4;const n=Kw(t);for(;n.length;)e=me(Ae([e,me(n.pop())]));return L(e)}function f4(t,e){const n=e??63;return S(n<=255,"DNS encoded label cannot exceed 255","length",n),L(Ae(Kw(t).map(r=>{S(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}function Dm(t,e){return{address:le(t),storageKeys:e.map((n,r)=>(S(Re(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function vi(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(S(n.length===2,"invalid slot set",`value[${r}]`,n),Dm(n[0],n[1])):(S(n!=null&&typeof n=="object","invalid address-slot set","value",t),Dm(n.address,n.storageKeys)));S(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,i)=>(s[i]=!0,s),{});return Dm(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function Cl(t){let e;return typeof t=="string"?e=Jr.computePublicKey(t,!1):e=t.publicKey,le(me("0x"+e.substring(4)).substring(26))}function hl(t,e){return Cl(Jr.recoverPublicKey(t,e))}const _t=BigInt(0),jM=BigInt(2),GM=BigInt(27),VM=BigInt(28),zM=BigInt(35),KM=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Um=4096*32;function lv(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Sn(e).substring(4),"0x"+n}function lg(t){return t==="0x"?null:le(t)}function qw(t,e){try{return vi(t)}catch(n){S(!1,n.message,e,t)}}function th(t,e){return t==="0x"?0:he(t,e)}function xt(t,e){if(t==="0x")return _t;const n=se(t,e);return S(n<=KM,"value exceeds uint size",e,n),n}function tt(t,e){const n=se(t,"value"),r=Ut(n);return S(r.length<=32,"value too large",`tx.${e}`,n),r}function Qw(t){return vi(t).map(e=>[e.address,e.storageKeys])}function qM(t,e){S(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)S(Re(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function QM(t){const e=Yd(t);S(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:th(e[0],"nonce"),gasPrice:xt(e[1],"gasPrice"),gasLimit:xt(e[2],"gasLimit"),to:lg(e[3]),value:xt(e[4],"value"),data:L(e[5]),chainId:_t};if(e.length===6)return n;const r=xt(e[6],"v"),s=xt(e[7],"r"),i=xt(e[8],"s");if(s===_t&&i===_t)n.chainId=r;else{let o=(r-zM)/jM;o<_t&&(o=_t),n.chainId=o,S(o!==_t||r===GM||r===VM,"non-canonical legacy v","v",e[6]),n.signature=Tr.from({r:vr(e[7],32),s:vr(e[8],32),v:r})}return n}function JM(t,e){const n=[tt(t.nonce,"nonce"),tt(t.gasPrice||0,"gasPrice"),tt(t.gasLimit,"gasLimit"),t.to||"0x",tt(t.value,"value"),t.data];let r=_t;if(t.chainId!=_t)r=se(t.chainId,"tx.chainId"),S(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==_t&&(n.push(Ut(r)),n.push("0x"),n.push("0x")),Ro(n);let s=BigInt(27+e.yParity);return r!==_t?s=Tr.getChainIdV(r,e.v):BigInt(e.v)!==s&&S(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Ut(s)),n.push(Ut(e.r)),n.push(Ut(e.s)),Ro(n)}function Jw(t,e){let n;try{if(n=th(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{S(!1,"invalid yParity","yParity",e[0])}const r=vr(e[1],32),s=vr(e[2],32),i=Tr.from({r,s,yParity:n});t.signature=i}function YM(t){const e=Yd($(t).slice(1));S(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",L(t));const n={type:2,chainId:xt(e[0],"chainId"),nonce:th(e[1],"nonce"),maxPriorityFeePerGas:xt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:xt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:xt(e[4],"gasLimit"),to:lg(e[5]),value:xt(e[6],"value"),data:L(e[7]),accessList:qw(e[8],"accessList")};return e.length===9||Jw(n,e.slice(9)),n}function XM(t,e){const n=[tt(t.chainId,"chainId"),tt(t.nonce,"nonce"),tt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),tt(t.maxFeePerGas||0,"maxFeePerGas"),tt(t.gasLimit,"gasLimit"),t.to||"0x",tt(t.value,"value"),t.data,Qw(t.accessList||[])];return e&&(n.push(tt(e.yParity,"yParity")),n.push(Ut(e.r)),n.push(Ut(e.s))),Ae(["0x02",Ro(n)])}function ZM(t){const e=Yd($(t).slice(1));S(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",L(t));const n={type:1,chainId:xt(e[0],"chainId"),nonce:th(e[1],"nonce"),gasPrice:xt(e[2],"gasPrice"),gasLimit:xt(e[3],"gasLimit"),to:lg(e[4]),value:xt(e[5],"value"),data:L(e[6]),accessList:qw(e[7],"accessList")};return e.length===8||Jw(n,e.slice(8)),n}function eL(t,e){const n=[tt(t.chainId,"chainId"),tt(t.nonce,"nonce"),tt(t.gasPrice||0,"gasPrice"),tt(t.gasLimit,"gasLimit"),t.to||"0x",tt(t.value,"value"),t.data,Qw(t.accessList||[])];return e&&(n.push(tt(e.yParity,"recoveryParam")),n.push(Ut(e.r)),n.push(Ut(e.s))),Ae(["0x01",Ro(n)])}function tL(t){let e=Yd($(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const i=e[1],o=e[2],a=e[3];S(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),S(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),S(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),S(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),S(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}S(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",L(t));const s={type:3,chainId:xt(e[0],"chainId"),nonce:th(e[1],"nonce"),maxPriorityFeePerGas:xt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:xt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:xt(e[4],"gasLimit"),to:lg(e[5]),value:xt(e[6],"value"),data:L(e[7]),accessList:qw(e[8],"accessList"),maxFeePerBlobGas:xt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),S(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),S(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)S(Re(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||Jw(s,e.slice(11)),s}function nL(t,e,n){const r=[tt(t.chainId,"chainId"),tt(t.nonce,"nonce"),tt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),tt(t.maxFeePerGas||0,"maxFeePerGas"),tt(t.gasLimit,"gasLimit"),t.to||mi,tt(t.value,"value"),t.data,Qw(t.accessList||[]),tt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),qM(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(tt(e.yParity,"yParity")),r.push(Ut(e.r)),r.push(Ut(e.s)),n)?Ae(["0x03",Ro([r,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):Ae(["0x03",Ro(r)])}var hs,bu,xu,wu,Eu,vu,Au,Su,ku,Tu,Iu,Ou,Sa,zi,zs,Ki,Cu,y0;const $s=class $s{constructor(){P(this,Cu);P(this,hs);P(this,bu);P(this,xu);P(this,wu);P(this,Eu);P(this,vu);P(this,Au);P(this,Su);P(this,ku);P(this,Tu);P(this,Iu);P(this,Ou);P(this,Sa);P(this,zi);P(this,zs);P(this,Ki);E(this,hs,null),E(this,bu,null),E(this,wu,0),E(this,Eu,_t),E(this,vu,null),E(this,Au,null),E(this,Su,null),E(this,xu,"0x"),E(this,ku,_t),E(this,Tu,_t),E(this,Iu,null),E(this,Ou,null),E(this,Sa,null),E(this,zi,null),E(this,Ki,null),E(this,zs,null)}get type(){return h(this,hs)}set type(e){switch(e){case null:E(this,hs,null);break;case 0:case"legacy":E(this,hs,0);break;case 1:case"berlin":case"eip-2930":E(this,hs,1);break;case 2:case"london":case"eip-1559":E(this,hs,2);break;case 3:case"cancun":case"eip-4844":E(this,hs,3);break;default:S(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=h(this,bu);return e==null&&this.type===3?mi:e}set to(e){E(this,bu,e==null?null:le(e))}get nonce(){return h(this,wu)}set nonce(e){E(this,wu,he(e,"value"))}get gasLimit(){return h(this,Eu)}set gasLimit(e){E(this,Eu,se(e))}get gasPrice(){const e=h(this,vu);return e==null&&(this.type===0||this.type===1)?_t:e}set gasPrice(e){E(this,vu,e==null?null:se(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=h(this,Au);return e??(this.type===2||this.type===3?_t:null)}set maxPriorityFeePerGas(e){E(this,Au,e==null?null:se(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=h(this,Su);return e??(this.type===2||this.type===3?_t:null)}set maxFeePerGas(e){E(this,Su,e==null?null:se(e,"maxFeePerGas"))}get data(){return h(this,xu)}set data(e){E(this,xu,L(e))}get value(){return h(this,ku)}set value(e){E(this,ku,se(e,"value"))}get chainId(){return h(this,Tu)}set chainId(e){E(this,Tu,se(e))}get signature(){return h(this,Iu)||null}set signature(e){E(this,Iu,e==null?null:Tr.from(e))}get accessList(){const e=h(this,Ou)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){E(this,Ou,e==null?null:vi(e))}get maxFeePerBlobGas(){const e=h(this,Sa);return e==null&&this.type===3?_t:e}set maxFeePerBlobGas(e){E(this,Sa,e==null?null:se(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=h(this,zi);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){S(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)S(Re(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}E(this,zi,e)}get blobs(){return h(this,Ki)==null?null:h(this,Ki).map(e=>Object.assign({},e))}set blobs(e){if(e==null){E(this,Ki,null);return}const n=[],r=[];for(let s=0;s<e.length;s++){const i=e[s];if(Cs(i)){D(h(this,zs),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=$(i);if(S(o.length<=Um,"blob is too large",`blobs[${s}]`,i),o.length!==Um){const u=new Uint8Array(Um);u.set(o),o=u}const a=h(this,zs).blobToKzgCommitment(o),c=L(h(this,zs).computeBlobKzgProof(o,a));n.push({data:L(o),commitment:L(a),proof:c}),r.push(lv(1,a))}else{const o=L(i.commitment);n.push({data:L(i.data),commitment:o,proof:L(i.proof)}),r.push(lv(1,o))}}E(this,Ki,n),E(this,zi,r)}get kzg(){return h(this,zs)}set kzg(e){E(this,zs,e)}get hash(){return this.signature==null?null:me(W(this,Cu,y0).call(this,!0,!1))}get unsignedHash(){return me(this.unsignedSerialized)}get from(){return this.signature==null?null:hl(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Jr.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return W(this,Cu,y0).call(this,!0,!0)}get unsignedSerialized(){return W(this,Cu,y0).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=h(this,Sa)!=null||h(this,zi);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&D(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),D(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),D(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return $s.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new $s;if(typeof e=="string"){const r=$(e);if(r[0]>=127)return $s.from(QM(r));switch(r[0]){case 1:return $s.from(ZM(r));case 2:return $s.from(YM(r));case 3:return $s.from(tL(r))}D(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new $s;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Tr.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(S(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),S(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(S(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),S(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};hs=new WeakMap,bu=new WeakMap,xu=new WeakMap,wu=new WeakMap,Eu=new WeakMap,vu=new WeakMap,Au=new WeakMap,Su=new WeakMap,ku=new WeakMap,Tu=new WeakMap,Iu=new WeakMap,Ou=new WeakMap,Sa=new WeakMap,zi=new WeakMap,zs=new WeakMap,Ki=new WeakMap,Cu=new WeakSet,y0=function(e,n){D(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return JM(this,r);case 1:return eL(this,r);case 2:return XM(this,r);case 3:return nL(this,r,n?this.blobs:null)}D(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let tc=$s;function fg(t){return typeof t=="string"&&(t=ht(t)),me(Ae([ht(FA),ht(String(t.length)),t]))}function d4(t,e){const n=fg(t);return hl(n,e)}const rL=new RegExp("^bytes([0-9]+)$"),sL=new RegExp("^(u?int)([0-9]*)$"),iL=new RegExp("^(.*)\\[([0-9]*)\\]$");function h4(t,e,n){switch(t){case"address":return $(n?vr(e,32):le(e));case"string":return ht(e);case"bytes":return $(e);case"bool":return e=e?"0x01":"0x00",$(n?vr(e,32):e)}let r=t.match(sL);if(r){let s=r[1]==="int",i=parseInt(r[2]||"256");return S((!r[2]||r[2]===String(i))&&i%8===0&&i!==0&&i<=256,"invalid number type","type",t),n&&(i=256),s&&(e=ig(e,i)),$(vr(Ut(e),i/8))}if(r=t.match(rL),r){const s=parseInt(r[1]);return S(String(s)===r[1]&&s!==0&&s<=32,"invalid bytes type","type",t),S(So(e)===s,`invalid value for ${t}`,"value",e),n?$(rg(e,32)):e}if(r=t.match(iL),r&&Array.isArray(e)){const s=r[1],i=parseInt(r[2]||String(e.length));S(i===e.length,`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(h4(s,a,!0))}),$(Ae(o))}S(!1,"invalid type","type",t)}function we(t,e){S(t.length===e.length,"wrong number of values; expected ${ types.length }","values",e);const n=[];return t.forEach(function(r,s){n.push(h4(r,e[s]))}),L(Ae(n))}function ui(t,e){return me(we(t,e))}function oL(t,e){return Sn(we(t,e))}const p4=new Uint8Array(32);p4.fill(0);const aL=BigInt(-1),g4=BigInt(0),m4=BigInt(1),cL=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function uL(t){const e=$(t),n=e.length%32;return n?Ae([e,p4.slice(n)]):L(e)}const lL=Xn(m4,32),fL=Xn(g4,32),fv={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Fm=["name","version","chainId","verifyingContract","salt"];function dv(t){return function(e){return S(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const dL={name:dv("name"),version:dv("version"),chainId:function(t){const e=se(t,"domain.chainId");return S(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Qt(e)},verifyingContract:function(t){try{return le(t).toLowerCase()}catch{}S(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=$(t,"domain.salt");return S(e.length===32,'invalid domain value "salt"',"domain.salt",t),L(e)}};function $m(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);S(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const s=ho(cL,n?r-1:r),i=n?(s+m4)*aL:g4;return function(o){const a=se(o,"value");return S(a>=i&&a<=s,`value out-of-bounds for ${t}`,"value",a),Xn(n?ig(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return S(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const s=$(r);return S(s.length===n,`invalid length for ${t}`,"value",r),uL(r)}}}switch(t){case"address":return function(e){return vr(le(e),32)};case"bool":return function(e){return e?lL:fL};case"bytes":return function(e){return me(e)};case"string":return function(e){return dn(e)}}return null}function hv(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function Wh(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Cd,Ks,Nu,Bp,y4;const ur=class ur{constructor(e){P(this,Bp);k(this,"primaryType");P(this,Cd);P(this,Ks);P(this,Nu);E(this,Ks,new Map),E(this,Nu,new Map);const n=new Map,r=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:u,type:l})=>{let{base:f,index:d}=Wh(l);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(d||"")}}),n.set(c,new Set),r.set(c,[]),s.set(c,new Set)}),E(this,Cd,JSON.stringify(i));for(const c in i){const u=new Set;for(const l of i[c]){S(!u.has(l.name),`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(c)}`,"types",e),u.add(l.name);const f=Wh(l.type).base;S(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!$m(f)&&(S(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),r.get(f).push(c),n.get(c).add(f))}}const o=Array.from(r.keys()).filter(c=>r.get(c).length===0);S(o.length!==0,"missing primary type","types",e),S(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),J(this,{primaryType:o[0]});function a(c,u){S(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const l of n.get(c))if(r.has(l)){a(l,u);for(const f of u)s.get(f).add(l)}u.delete(c)}a(this.primaryType,new Set);for(const[c,u]of s){const l=Array.from(u);l.sort(),h(this,Ks).set(c,hv(c,i[c])+l.map(f=>hv(f,i[f])).join(""))}}get types(){return JSON.parse(h(this,Cd))}getEncoder(e){let n=h(this,Nu).get(e);return n||(n=W(this,Bp,y4).call(this,e),h(this,Nu).set(e,n)),n}encodeType(e){const n=h(this,Ks).get(e);return S(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return me(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if($m(e))return r(e,n);const s=Wh(e).array;if(s)return S(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(o=>this._visit(s.prefix,o,r));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{});S(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new ur(e)}static getPrimaryType(e){return ur.from(e).primaryType}static hashStruct(e,n,r){return ur.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const s=fv[r];S(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:s})}return n.sort((r,s)=>Fm.indexOf(r.name)-Fm.indexOf(s.name)),ur.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Ae(["0x1901",ur.hashDomain(e),ur.from(n).hash(r)])}static hash(e,n,r){return me(ur.encode(e,n,r))}static async resolveNames(e,n,r,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!Re(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=ur.from(n);o.visit(r,(a,c)=>(a==="address"&&!Re(c,20)&&(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:r}}static getPayload(e,n,r){ur.hashDomain(e);const s={},i=[];Fm.forEach(c=>{const u=e[c];u!=null&&(s[c]=dL[c](u),i.push({name:c,type:fv[c]}))});const o=ur.from(n);n=o.types;const a=Object.assign({},n);return S(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(c,u)=>{if(c.match(/^bytes(\d*)/))return L($(u));if(c.match(/^u?int/))return se(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return S(typeof u=="string","invalid string","value",u),u}S(!1,"unsupported type","type",c)})}}};Cd=new WeakMap,Ks=new WeakMap,Nu=new WeakMap,Bp=new WeakSet,y4=function(e){{const s=$m(e);if(s)return s}const n=Wh(e).array;if(n){const s=n.prefix,i=this.getEncoder(s);return o=>{S(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(i);return h(this,Ks).has(s)&&(a=a.map(me)),me(Ae(a))}}const r=this.types[e];if(r){const s=dn(h(this,Ks).get(e));return i=>{const o=r.map(({name:a,type:c})=>{const u=this.getEncoder(c)(i[a]);return h(this,Ks).has(c)?me(u):u});return o.unshift(s),Ae(o)}}S(!1,`unknown type: ${e}`,"type",e)};let Zr=ur;function hL(t,e,n,r){return hl(Zr.hash(t,e,n),r)}function wn(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const pL="external public payable override",gL=wn(pL.split(" ")),b4="constant external internal payable private public pure view override",mL=wn(b4.split(" ")),x4="constructor error event fallback function receive struct",w4=wn(x4.split(" ")),E4="calldata memory storage payable indexed",yL=wn(E4.split(" ")),bL="tuple returns",xL=[x4,E4,bL,b4].join(" "),wL=wn(xL.split(" ")),EL={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},vL=new RegExp("^(\\s*)"),AL=new RegExp("^([0-9]+)"),SL=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),v4=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),A4=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Vt,Fr,Nd,Ab;const Mp=class Mp{constructor(e){P(this,Nd);P(this,Vt);P(this,Fr);E(this,Vt,0),E(this,Fr,e.slice())}get offset(){return h(this,Vt)}get length(){return h(this,Fr).length-h(this,Vt)}clone(){return new Mp(h(this,Fr))}reset(){E(this,Vt,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=W(this,Nd,Ab).call(this,h(this,Vt)+1,e.match+1);return E(this,Vt,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;h(this,Vt)<e.match-1;){const r=this.peek().linkNext;n.push(W(this,Nd,Ab).call(this,h(this,Vt)+1,r)),E(this,Vt,r)}return E(this,Vt,e.match+1),n}peek(){if(h(this,Vt)>=h(this,Fr).length)throw new Error("out-of-bounds");return h(this,Fr)[h(this,Vt)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return fc(this,Vt)._++,e}toString(){const e=[];for(let n=h(this,Vt);n<h(this,Fr).length;n++){const r=h(this,Fr)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Vt=new WeakMap,Fr=new WeakMap,Nd=new WeakSet,Ab=function(e=0,n=0){return new Mp(h(this,Fr).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let es=Mp;function Ho(t){const e=[],n=o=>{const a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(vL);a&&(i+=a[1].length,o=t.substring(i));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let u=EL[o[0]]||"";if(u){if(c.type=u,c.text=o[0],i++,u==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(u=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let l=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;l=f+l,e[e.length-1].value=he(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=l}continue}if(a=o.match(SL),a){if(c.text=a[1],i+=c.text.length,wL.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(A4)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(AL),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new es(e.map(o=>Object.freeze(o)))}function pv(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function dg(t,e){if(e.peekKeyword(w4)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function yi(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function S4(t){let e=yi(t,mL);return pv(e,wn("constant payable nonpayable".split(" "))),pv(e,wn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function li(t,e){return t.popParams().map(n=>Ht.from(n,e))}function k4(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return se(t.pop().text);throw new Error("invalid gas")}return null}function nc(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const kL=new RegExp(/^(.*)\[([0-9]*)\]$/);function gv(t){const e=t.match(A4);if(S(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);S(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);S(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const at={},Un=Symbol.for("_ethers_internal"),mv="_ParamTypeInternal",yv="_ErrorInternal",bv="_EventInternal",xv="_ConstructorInternal",wv="_FallbackInternal",Ev="_FunctionInternal",vv="_StructInternal";var Pu,b0;const lr=class lr{constructor(e,n,r,s,i,o,a,c){P(this,Pu);k(this,"name");k(this,"type");k(this,"baseType");k(this,"indexed");k(this,"components");k(this,"arrayLength");k(this,"arrayChildren");if(wi(e,at,"ParamType"),Object.defineProperty(this,Un,{value:mv}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");J(this,{name:n,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,i)=>r.components[i].walk(s,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],s=[e];return W(this,Pu,b0).call(this,r,e,n,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,n){if(lr.isParamType(e))return e;if(typeof e=="string")try{return lr.from(Ho(e),n)}catch{S(!1,"invalid param type","obj",e)}else if(e instanceof es){let a="",c="",u=null;yi(e,wn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(g=>lr.from(g)),a=`tuple(${u.map(g=>g.format()).join(",")})`):(a=gv(e.popType("TYPE")),c=a);let l=null,f=null;for(;e.length&&e.peekType("BRACKET");){const g=e.pop();l=new lr(at,"",a,c,null,u,f,l),f=g.value,a+=g.text,c="array",u=null}let d=null;if(yi(e,yL).has("indexed")){if(!n)throw new Error("");d=!0}const y=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new lr(at,y,a,c,d,u,f,l)}const r=e.name;S(!r||typeof r=="string"&&r.match(v4),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(S(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(kL);if(o){const a=parseInt(o[2]||"-1"),c=lr.from({type:o[1],components:e.components});return new lr(at,r||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(u=>lr.from(u)):null;return new lr(at,r||"",i,"tuple",s,a,null,null)}return i=gv(e.type),new lr(at,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Un]===mv}};Pu=new WeakSet,b0=function(e,n,r,s){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((c,u)=>{var l;W(l=o,Pu,b0).call(l,e,c,r,f=>{a[u]=f})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,u)=>{var l;W(l=o[u],Pu,b0).call(l,e,c,r,f=>{a[u]=f})}),s(a);return}const i=r(this.type,n);i.then?e.push(async function(){s(await i)}()):s(i)};let Ht=lr;class _o{constructor(e,n,r){k(this,"type");k(this,"inputs");wi(e,at,"Fragment"),r=Object.freeze(r.slice()),J(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{_o.from(JSON.parse(e))}catch{}return _o.from(Ho(e))}if(e instanceof es)switch(e.peekKeyword(w4)){case"constructor":return As.from(e);case"error":return bn.from(e);case"event":return Vr.from(e);case"fallback":case"receive":return Es.from(e);case"function":return zr.from(e);case"struct":return ko.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return As.from(e);case"error":return bn.from(e);case"event":return Vr.from(e);case"fallback":case"receive":return Es.from(e);case"function":return zr.from(e);case"struct":return ko.from(e)}D(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}S(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return As.isFragment(e)}static isError(e){return bn.isFragment(e)}static isEvent(e){return Vr.isFragment(e)}static isFunction(e){return zr.isFragment(e)}static isStruct(e){return ko.isFragment(e)}}class nh extends _o{constructor(n,r,s,i){super(n,r,i);k(this,"name");S(typeof s=="string"&&s.match(v4),"invalid identifier","name",s),i=Object.freeze(i.slice()),J(this,{name:s})}}function ld(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class bn extends nh{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Un,{value:yv})}get selector(){return dn(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+ld(e,this.inputs)),n.join(" ")}static from(e){if(bn.isFragment(e))return e;if(typeof e=="string")return bn.from(Ho(e));if(e instanceof es){const n=dg("error",e),r=li(e);return nc(e),new bn(at,n,r)}return new bn(at,e.name,e.inputs?e.inputs.map(Ht.from):[])}static isFragment(e){return e&&e[Un]===yv}}class Vr extends nh{constructor(n,r,s,i){super(n,"event",r,s);k(this,"anonymous");Object.defineProperty(this,Un,{value:bv}),J(this,{anonymous:i})}get topicHash(){return dn(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+ld(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(i=>Ht.from(i)),new Vr(at,n,r,!1).topicHash}static from(n){if(Vr.isFragment(n))return n;if(typeof n=="string")try{return Vr.from(Ho(n))}catch{S(!1,"invalid event fragment","obj",n)}else if(n instanceof es){const r=dg("event",n),s=li(n,!0),i=!!yi(n,wn(["anonymous"])).has("anonymous");return nc(n),new Vr(at,r,s,i)}return new Vr(at,n.name,n.inputs?n.inputs.map(r=>Ht.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Un]===bv}}class As extends _o{constructor(n,r,s,i,o){super(n,r,s);k(this,"payable");k(this,"gas");Object.defineProperty(this,Un,{value:xv}),J(this,{payable:i,gas:o})}format(n){if(D(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[`constructor${ld(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(As.isFragment(n))return n;if(typeof n=="string")try{return As.from(Ho(n))}catch{S(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof es){yi(n,wn(["constructor"]));const r=li(n),s=!!yi(n,gL).has("payable"),i=k4(n);return nc(n),new As(at,"constructor",r,s,i)}return new As(at,"constructor",n.inputs?n.inputs.map(Ht.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Un]===xv}}class Es extends _o{constructor(n,r,s){super(n,"fallback",r);k(this,"payable");Object.defineProperty(this,Un,{value:wv}),J(this,{payable:s})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Es.isFragment(n))return n;if(typeof n=="string")try{return Es.from(Ho(n))}catch{S(!1,"invalid fallback fragment","obj",n)}else if(n instanceof es){const r=n.toString(),s=n.peekKeyword(wn(["fallback","receive"]));if(S(s,"type must be fallback or receive","obj",r),n.popKeyword(wn(["fallback","receive"]))==="receive"){const c=li(n);return S(c.length===0,"receive cannot have arguments","obj.inputs",c),yi(n,wn(["payable"])),nc(n),new Es(at,[],!0)}let o=li(n);o.length?S(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[Ht.from("bytes")];const a=S4(n);if(S(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),yi(n,wn(["returns"])).has("returns")){const c=li(n);S(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return nc(n),new Es(at,o,a==="payable")}if(n.type==="receive")return new Es(at,[],!0);if(n.type==="fallback"){const r=[Ht.from("bytes")],s=n.stateMutability==="payable";return new Es(at,r,s)}S(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Un]===wv}}class zr extends nh{constructor(n,r,s,i,o,a){super(n,"function",r,i);k(this,"constant");k(this,"outputs");k(this,"stateMutability");k(this,"payable");k(this,"gas");Object.defineProperty(this,Un,{value:Ev}),o=Object.freeze(o.slice()),J(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return dn(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n))),outputs:this.outputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+ld(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(ld(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(i=>Ht.from(i)),new zr(at,n,"view",r,[],null).selector}static from(n){if(zr.isFragment(n))return n;if(typeof n=="string")try{return zr.from(Ho(n))}catch{S(!1,"invalid function fragment","obj",n)}else if(n instanceof es){const s=dg("function",n),i=li(n),o=S4(n);let a=[];yi(n,wn(["returns"])).has("returns")&&(a=li(n));const c=k4(n);return nc(n),new zr(at,s,o,i,a,c)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new zr(at,n.name,r,n.inputs?n.inputs.map(Ht.from):[],n.outputs?n.outputs.map(Ht.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Un]===Ev}}class ko extends nh{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Un,{value:vv})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return ko.from(Ho(e))}catch{S(!1,"invalid struct fragment","obj",e)}else if(e instanceof es){const n=dg("struct",e),r=li(e);return nc(e),new ko(at,n,r)}return new ko(at,e.name,e.inputs?e.inputs.map(Ht.from):[])}static isFragment(e){return e&&e[Un]===vv}}const ns=new Map;ns.set(0,"GENERIC_PANIC");ns.set(1,"ASSERT_FALSE");ns.set(17,"OVERFLOW");ns.set(18,"DIVIDE_BY_ZERO");ns.set(33,"ENUM_RANGE_ERROR");ns.set(34,"BAD_STORAGE_DATA");ns.set(49,"STACK_UNDERFLOW");ns.set(50,"ARRAY_RANGE_ERROR");ns.set(65,"OUT_OF_MEMORY");ns.set(81,"UNINITIALIZED_FUNCTION_CALL");const TL=new RegExp(/^bytes([0-9]*)$/),IL=new RegExp(/^(u?int)([0-9]*)$/);let Wm=null,Av=1024;function OL(t,e,n,r){let s="missing revert data",i=null;const o=null;let a=null;if(n){s="execution reverted";const u=$(n);if(n=L(n),u.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(L(u.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(L(u.slice(0,4))==="0x4e487b71")try{const l=Number(r.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[l]},i=`Panic due to ${ns.get(l)||"UNKNOWN"}(${l})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?le(e.to):null,data:e.data||"0x"};return e.from&&(c.from=le(e.from)),Ze(s,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:c,invocation:o,revert:a})}var qi,Sc;const Lp=class Lp{constructor(){P(this,qi)}getDefaultValue(e){const n=e.map(s=>W(this,qi,Sc).call(this,Ht.from(s)));return new $h(n,"_").defaultValue()}encode(e,n){Aw(n.length,e.length,"types/values length mismatch");const r=e.map(o=>W(this,qi,Sc).call(this,Ht.from(o))),s=new $h(r,"_"),i=new lb;return s.encode(i,n),i.data}decode(e,n,r){const s=e.map(o=>W(this,qi,Sc).call(this,Ht.from(o)));return new $h(s,"_").decode(new fb(n,r,Av))}static _setDefaultMaxInflation(e){S(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Av=e}static defaultAbiCoder(){return Wm==null&&(Wm=new Lp),Wm}static getBuiltinCallException(e,n,r){return OL(e,n,r,Lp.defaultAbiCoder())}};qi=new WeakSet,Sc=function(e){if(e.isArray())return new QB(W(this,qi,Sc).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new $h(e.components.map(r=>W(this,qi,Sc).call(this,r)),e.name);switch(e.baseType){case"address":return new KB(e.name);case"bool":return new JB(e.name);case"string":return new iM(e.name);case"bytes":return new YB(e.name);case"":return new eM(e.name)}let n=e.type.match(IL);if(n){let r=parseInt(n[2]||"256");return S(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new sM(r/8,n[1]==="int",e.name)}if(n=e.type.match(TL),n){let r=parseInt(n[1]);return S(r!==0&&r<=32,"invalid bytes length","param",e),new XB(r,e.name)}S(!1,"invalid type","type",e.type)};let Ct=Lp;function CL(t){const e=ht(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return rg(e,32)}function NL(t){const e=$(t,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let n=31;for(;e[n-1]===0;)n--;return Xr(e.slice(0,n))}class T4{constructor(e,n,r){k(this,"fragment");k(this,"name");k(this,"signature");k(this,"topic");k(this,"args");const s=e.name,i=e.format();J(this,{fragment:e,name:s,signature:i,topic:n,args:r})}}class I4{constructor(e,n,r,s){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");k(this,"value");const i=e.name,o=e.format();J(this,{fragment:e,name:i,args:r,signature:o,selector:n,value:s})}}class O4{constructor(e,n,r){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");const s=e.name,i=e.format();J(this,{fragment:e,name:s,args:r,signature:i,selector:n})}}class Sb{constructor(e){k(this,"hash");k(this,"_isIndexed");J(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Sv={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},kv={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Sv[t.toString()]&&(e=Sv[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var ps,gs,ms,on,Os,x0,w0;const ia=class ia{constructor(e){P(this,Os);k(this,"fragments");k(this,"deploy");k(this,"fallback");k(this,"receive");P(this,ps);P(this,gs);P(this,ms);P(this,on);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,E(this,ms,new Map),E(this,ps,new Map),E(this,gs,new Map);const r=[];for(const o of n)try{r.push(_o.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}J(this,{fragments:Object.freeze(r)});let s=null,i=!1;E(this,on,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}J(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(S(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=h(this,ms);break;case"event":c=h(this,gs);break;case"error":c=h(this,ps);break;default:return}const u=o.format();c.has(u)||c.set(u,o)}),this.deploy||J(this,{deploy:As.from("constructor()")}),J(this,{fallback:s,receive:i})}format(e){const n=e?"minimal":"full";return this.fragments.map(s=>s.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Ct.defaultAbiCoder()}getFunctionName(e){const n=W(this,Os,x0).call(this,e,null,!1);return S(n,"no matching function","key",e),n.name}hasFunction(e){return!!W(this,Os,x0).call(this,e,null,!1)}getFunction(e,n){return W(this,Os,x0).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(h(this,ms).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(h(this,ms).get(s),r)}}getEventName(e){const n=W(this,Os,w0).call(this,e,null,!1);return S(n,"no matching event","key",e),n.name}hasEvent(e){return!!W(this,Os,w0).call(this,e,null,!1)}getEvent(e,n){return W(this,Os,w0).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(h(this,gs).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(h(this,gs).get(s),r)}}getError(e,n){if(Re(e)){const s=e.toLowerCase();if(kv[s])return bn.from(kv[s].signature);for(const i of h(this,ps).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of h(this,ps))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?bn.from("error Error(string)"):e==="Panic"?bn.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");S(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=bn.from(e).format(),e==="Error(string)")return bn.from("error Error(string)");if(e==="Panic(uint256)")return bn.from("error Panic(uint256)");const r=h(this,ps).get(e);return r||null}forEachError(e){const n=Array.from(h(this,ps).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(h(this,ps).get(s),r)}}_decodeParams(e,n){return h(this,on).decode(e,n)}_encodeParams(e,n){return h(this,on).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);S(r,"unknown error","fragment",e),e=r}return S(Ve(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Ve(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);S(r,"unknown error","fragment",e),e=r}return Ae([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);S(r,"unknown function","fragment",e),e=r}return S(Ve(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Ve(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);S(r,"unknown function","fragment",e),e=r}return Ae([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const i=this.getFunction(e);S(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const s=Dt(n);if(s.length%32===0)try{return h(this,on).decode(e.outputs,s)}catch{r="could not decode result data"}D(!1,r,"BAD_DATA",{value:L(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=$(e,"data"),s=Ct.getBuiltinCallException("call",n,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=L(r.slice(0,4)),c=this.getError(a);if(c)try{const u=h(this,on).decode(c.inputs,r.slice(4));s.revert={name:c.name,signature:c.format(),args:u},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);S(r,"unknown function","fragment",e),e=r}return L(h(this,on).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const i=this.getEvent(e);S(i,"unknown event","eventFragment",e),e=i}D(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(i,o)=>i.type==="string"?dn(o):i.type==="bytes"?me(L(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Xn(o):i.type.match(/^bytes/)?o=rg(o,32):i.type==="address"&&h(this,on).encode(["address"],[o]),vr(L(o),32));for(n.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){S(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?S(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(c=>s(a,c))):r.push(s(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);S(o,"unknown event","eventFragment",e),e=o}const r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),S(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const c=n[a];if(o.indexed)if(o.type==="string")r.push(dn(c));else if(o.type==="bytes")r.push(me(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(h(this,on).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:h(this,on).encode(s,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const p=this.getEvent(e);S(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){const p=e.topicHash;S(Re(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((p,y)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(Ht.from({type:"bytes32",name:p.name})),o.push(!0)):(s.push(p),o.push(!1)):(i.push(p),o.push(!1))});const a=r!=null?h(this,on).decode(s,Ae(r)):null,c=h(this,on).decode(i,n,!0),u=[],l=[];let f=0,d=0;return e.inputs.forEach((p,y)=>{let g=null;if(p.indexed)if(a==null)g=new Sb(null);else if(o[y])g=new Sb(a[d++]);else try{g=a[d++]}catch(A){g=A}else try{g=c[f++]}catch(A){g=A}u.push(g),l.push(p.name||null)}),ec.fromItems(u,l)}parseTransaction(e){const n=$(e.data,"tx.data"),r=se(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(L(n.slice(0,4)));if(!s)return null;const i=h(this,on).decode(s.inputs,n.slice(4));return new I4(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new T4(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=L(e),r=this.getError(Ve(n,0,4));if(!r)return null;const s=h(this,on).decode(r.inputs,Ve(n,4));return new O4(r,r.selector,s)}static from(e){return e instanceof ia?e:typeof e=="string"?new ia(JSON.parse(e)):typeof e.formatJson=="function"?new ia(e.formatJson()):typeof e.format=="function"?new ia(e.format("json")):new ia(e)}};ps=new WeakMap,gs=new WeakMap,ms=new WeakMap,on=new WeakMap,Os=new WeakSet,x0=function(e,n,r){if(Re(e)){const i=e.toLowerCase();for(const o of h(this,ms).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of h(this,ms))o.split("(")[0]===e&&i.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,c=!0;Xt.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let u=i.length-1;u>=0;u--){const l=i[u].inputs.length;l!==a&&(!c||l!==a-1)&&i.splice(u,1)}for(let u=i.length-1;u>=0;u--){const l=i[u].inputs;for(let f=0;f<n.length;f++)if(Xt.isTyped(n[f])){if(f>=l.length){if(n[f].type==="overrides")continue;i.splice(u,1);break}if(n[f].type!==l[f].baseType){i.splice(u,1);break}}}}if(i.length===1&&n&&n.length!==i[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");S(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=h(this,ms).get(zr.from(e).format());return s||null},w0=function(e,n,r){if(Re(e)){const i=e.toLowerCase();for(const o of h(this,gs).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of h(this,gs))o.split("(")[0]===e&&i.push(a);if(n){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<n.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let c=0;c<n.length;c++)if(Xt.isTyped(n[c])&&n[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");S(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=h(this,gs).get(Vr.from(e).format());return s||null};let Et=ia;const C4=BigInt(0);function tu(t){return t??null}function mt(t){return t==null?null:t.toString()}class kb{constructor(e,n,r){k(this,"gasPrice");k(this,"maxFeePerGas");k(this,"maxPriorityFeePerGas");J(this,{gasPrice:tu(e),maxFeePerGas:tu(n),maxPriorityFeePerGas:tu(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:mt(e),maxFeePerGas:mt(n),maxPriorityFeePerGas:mt(r)}}}function fd(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=L(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=se(t[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=he(t[s],`request.${s}`));return t.accessList&&(e.accessList=vi(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>Cs(s)?L(s):Object.assign({},s))),e}var qs;class N4{constructor(e,n){k(this,"provider");k(this,"number");k(this,"hash");k(this,"timestamp");k(this,"parentHash");k(this,"parentBeaconBlockRoot");k(this,"nonce");k(this,"difficulty");k(this,"gasLimit");k(this,"gasUsed");k(this,"stateRoot");k(this,"receiptsRoot");k(this,"blobGasUsed");k(this,"excessBlobGas");k(this,"miner");k(this,"prevRandao");k(this,"extraData");k(this,"baseFeePerGas");P(this,qs);E(this,qs,e.transactions.map(r=>typeof r!="string"?new pl(r,n):r)),J(this,{provider:n,hash:tu(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:tu(e.prevRandao),extraData:e.extraData,baseFeePerGas:tu(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return h(this,qs).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=h(this,qs).slice();return e.length===0?[]:(D(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:u,number:l,parentHash:f,parentBeaconBlockRoot:d,stateRoot:p,receiptsRoot:y,timestamp:g,transactions:A}=this;return{_type:"Block",baseFeePerGas:mt(e),difficulty:mt(n),extraData:r,gasLimit:mt(s),gasUsed:mt(i),blobGasUsed:mt(this.blobGasUsed),excessBlobGas:mt(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:u,number:l,parentHash:f,timestamp:g,parentBeaconBlockRoot:d,stateRoot:p,receiptsRoot:y,transactions:A}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return h(this,qs).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=h(this,qs)[e];else{const r=e.toLowerCase();for(const s of h(this,qs))if(typeof s=="string"){if(s!==r)continue;n=s;break}else{if(s.hash===r)continue;n=s;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;S(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return PL(this)}}qs=new WeakMap;class Nl{constructor(e,n){k(this,"provider");k(this,"transactionHash");k(this,"blockHash");k(this,"blockNumber");k(this,"removed");k(this,"address");k(this,"data");k(this,"topics");k(this,"index");k(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());J(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return D(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return D(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return D(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return RL(this)}}var Pd;class Yw{constructor(e,n){k(this,"provider");k(this,"to");k(this,"from");k(this,"contractAddress");k(this,"hash");k(this,"index");k(this,"blockHash");k(this,"blockNumber");k(this,"logsBloom");k(this,"gasUsed");k(this,"blobGasUsed");k(this,"cumulativeGasUsed");k(this,"gasPrice");k(this,"blobGasPrice");k(this,"type");k(this,"status");k(this,"root");P(this,Pd);E(this,Pd,Object.freeze(e.logs.map(s=>new Nl(s,n))));let r=C4;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),J(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return h(this,Pd)}toJSON(){const{to:e,from:n,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:u,status:l,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:mt(this.cumulativeGasUsed),from:n,gasPrice:mt(this.gasPrice),blobGasUsed:mt(this.blobGasUsed),blobGasPrice:mt(this.blobGasPrice),gasUsed:mt(this.gasUsed),hash:s,index:i,logs:u,logsBloom:c,root:f,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return R4(this)}reorderedEvent(e){return D(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),P4(this,e)}}Pd=new WeakMap;var Qi;const l2=class l2{constructor(e,n){k(this,"provider");k(this,"blockNumber");k(this,"blockHash");k(this,"index");k(this,"hash");k(this,"type");k(this,"to");k(this,"from");k(this,"nonce");k(this,"gasLimit");k(this,"gasPrice");k(this,"maxPriorityFeePerGas");k(this,"maxFeePerGas");k(this,"maxFeePerBlobGas");k(this,"data");k(this,"value");k(this,"chainId");k(this,"signature");k(this,"accessList");k(this,"blobVersionedHashes");P(this,Qi);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,E(this,Qi,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:s,type:i,to:o,from:a,nonce:c,data:u,signature:l,accessList:f,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:d,chainId:mt(this.chainId),data:u,from:a,gasLimit:mt(this.gasLimit),gasPrice:mt(this.gasPrice),hash:s,maxFeePerGas:mt(this.maxFeePerGas),maxPriorityFeePerGas:mt(this.maxPriorityFeePerGas),maxFeePerBlobGas:mt(this.maxFeePerBlobGas),nonce:c,signature:l,to:o,index:r,type:i,value:mt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await ft({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,s=n??0;let i=h(this,Qi),o=-1,a=i===-1;const c=async()=>{if(a)return null;const{blockNumber:d,nonce:p}=await ft({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=d;return}if(a)return null;const y=await this.getTransaction();if(!(y&&y.blockNumber!=null))for(o===-1&&(o=i-3,o<h(this,Qi)&&(o=h(this,Qi)));o<=d;){if(a)return null;const g=await this.provider.getBlock(o,!0);if(g==null)return;for(const A of g)if(A===this.hash)return;for(let A=0;A<g.length;A++){const m=await g.getTransaction(A);if(m.from===this.from&&m.nonce===this.nonce){if(a)return null;const x=await this.provider.getTransactionReceipt(m.hash);if(x==null||d-x.blockNumber+1<r)return;let w="replaced";m.data===this.data&&m.to===this.to&&m.value===this.value?w="repriced":m.data==="0x"&&m.from===m.to&&m.value===C4&&(w="cancelled"),D(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:w==="replaced"||w==="cancelled",reason:w,replacement:m.replaceableTransaction(i),hash:m.hash,receipt:x})}}o++}},u=d=>{if(d==null||d.status!==0)return d;D(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:d.to,from:d.from,data:""},receipt:d})},l=await this.provider.getTransactionReceipt(this.hash);if(r===0)return u(l);if(l){if(await l.confirmations()>=r)return u(l)}else if(await c(),r===0)return null;return await new Promise((d,p)=>{const y=[],g=()=>{y.forEach(m=>m())};if(y.push(()=>{a=!0}),s>0){const m=setTimeout(()=>{g(),p(Ze("wait for transaction timeout","TIMEOUT"))},s);y.push(()=>{clearTimeout(m)})}const A=async m=>{if(await m.confirmations()>=r){g();try{d(u(m))}catch(x){p(x)}}};if(y.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),i>=0){const m=async()=>{try{await c()}catch(x){if(kt(x,"TRANSACTION_REPLACED")){g(),p(x);return}}a||this.provider.once("block",m)};y.push(()=>{this.provider.off("block",m)}),this.provider.once("block",m)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return D(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),R4(this)}reorderedEvent(e){return D(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),D(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),P4(this,e)}replaceableTransaction(e){S(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new l2(this,this.provider);return E(n,Qi,e),n}};Qi=new WeakMap;let pl=l2;function PL(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function P4(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function R4(t){return{orphan:"drop-transaction",tx:t}}function RL(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class hg extends Nl{constructor(n,r,s){super(n,n.provider);k(this,"interface");k(this,"fragment");k(this,"args");const i=r.decodeEventLog(s,n.data,n.topics);J(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Xw extends Nl{constructor(n,r){super(n,n.provider);k(this,"error");J(this,{error:r})}}var Ru;class _4 extends Yw{constructor(n,r,s){super(s,r);P(this,Ru);E(this,Ru,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?h(this,Ru).getEvent(n.topics[0]):null;if(r)try{return new hg(n,h(this,Ru),r)}catch(s){return new Xw(n,s)}return n})}}Ru=new WeakMap;var Rd;class pg extends pl{constructor(n,r,s){super(s,r);P(this,Rd);E(this,Rd,n)}async wait(n,r){const s=await super.wait(n,r);return s==null?null:new _4(h(this,Rd),this.provider,s)}}Rd=new WeakMap;class Zw extends Tw{constructor(n,r,s,i){super(n,r,s);k(this,"log");J(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class B4 extends Zw{constructor(e,n,r,s,i){super(e,n,r,new hg(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);J(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Tv=BigInt(0);function M4(t){return t&&typeof t.call=="function"}function L4(t){return t&&typeof t.estimateGas=="function"}function gg(t){return t&&typeof t.resolveName=="function"}function D4(t){return t&&typeof t.sendTransaction=="function"}function U4(t){if(t!=null){if(gg(t))return t;if(t.provider)return t.provider}}var _d;class _L{constructor(e,n,r){P(this,_d);k(this,"fragment");if(J(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const s=rc(e.runner,"resolveName"),i=gg(s)?s:null;E(this,_d,async function(){const o=await Promise.all(n.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(l,f)=>l==="address"?Array.isArray(f)?Promise.all(f.map(d=>$t(d,i))):$t(f,i):f)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return h(this,_d)}}_d=new WeakMap;function rc(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function fa(t){return t==null?null:t.provider||null}async function e1(t,e){const n=Xt.dereference(t,"overrides");S(typeof n=="object","invalid overrides parameter","overrides",t);const r=fd(n);return S(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),S(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function F4(t,e,n){const r=rc(t,"resolveName"),s=gg(r)?r:null;return await Promise.all(e.map((i,o)=>i.walkAsync(n[o],(a,c)=>(c=Xt.dereference(c,a),a==="address"?$t(c,s):c))))}function BL(t){const e=async function(o){const a=await e1(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await $t(a.from,U4(t.runner)));const c=t.interface,u=se(a.value||Tv,"overrides.value")===Tv,l=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!l&&!u&&S(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),S(c.fallback||l,"cannot send data to receive-only contract","overrides.data",a.data);const f=c.receive||c.fallback&&c.fallback.payable;return S(f||u,"cannot send value to non-payable fallback","overrides.value",a.value),S(c.fallback||l,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=rc(t.runner,"call");D(M4(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(u){throw ng(u)&&u.data?t.interface.makeError(u.data,c):u}},r=async function(o){const a=t.runner;D(D4(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),u=fa(t.runner);return new pg(t.interface,u,c)},s=async function(o){const a=rc(t.runner,"estimateGas");return D(L4(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await r(o);return J(i,{_contract:t,estimateGas:s,populateTransaction:e,send:r,staticCall:n}),i}function ML(t,e){const n=function(...u){const l=t.interface.getFunction(e,u);return D(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),l},r=async function(...u){const l=n(...u);let f={};if(l.inputs.length+1===u.length&&(f=await e1(u.pop()),f.from&&(f.from=await $t(f.from,U4(t.runner)))),l.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const d=await F4(t.runner,l.inputs,u);return Object.assign({},f,await ft({to:t.getAddress(),data:t.interface.encodeFunctionData(l,d)}))},s=async function(...u){const l=await a(...u);return l.length===1?l[0]:l},i=async function(...u){const l=t.runner;D(D4(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await l.sendTransaction(await r(...u)),d=fa(t.runner);return new pg(t.interface,d,f)},o=async function(...u){const l=rc(t.runner,"estimateGas");return D(L4(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await r(...u))},a=async function(...u){const l=rc(t.runner,"call");D(M4(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...u);let d="0x";try{d=await l.call(f)}catch(y){throw ng(y)&&y.data?t.interface.makeError(y.data,f):y}const p=n(...u);return t.interface.decodeFunctionResult(p,d)},c=async(...u)=>n(...u).constant?await s(...u):await i(...u);return J(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return D(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function LL(t,e){const n=function(...s){const i=t.interface.getEvent(e,s);return D(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new _L(t,n(...s),s)};return J(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return D(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const yp=Symbol.for("_ethersInternal_contract"),$4=new WeakMap;function DL(t,e){$4.set(t[yp],e)}function jn(t){return $4.get(t[yp])}function UL(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function t1(t,e){let n,r=null;if(Array.isArray(e)){const i=function(o){if(Re(o,32))return o;const a=t.interface.getEvent(o);return S(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?n=[null]:typeof e=="string"?Re(e,32)?n=[e]:(r=t.interface.getEvent(e),S(r,"unknown fragment","event",e),n=[r.topicHash]):UL(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):S(!1,"unknown event name","event",e);n=n.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=n.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:n}}async function af(t,e){const{subs:n}=jn(t);return n.get((await t1(t,e)).tag)||null}async function Iv(t,e,n){const r=fa(t.runner);D(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await t1(t,n),{addr:a,subs:c}=jn(t);let u=c.get(i);if(!u){const f={address:a||t,topics:o},d=A=>{let m=s;if(m==null)try{m=t.interface.getEvent(A.topics[0])}catch{}if(m){const x=m,w=s?t.interface.decodeEventLog(s,A.data,A.topics):[];Ib(t,n,w,C=>new B4(t,C,n,x,A))}else Ib(t,n,[],x=>new Zw(t,x,n,A))};let p=[];u={tag:i,listeners:[],start:()=>{p.length||p.push(r.on(f,d))},stop:async()=>{if(p.length==0)return;let A=p;p=[],await Promise.all(A),r.off(f,d)}},c.set(i,u)}return u}let Tb=Promise.resolve();async function FL(t,e,n,r){await Tb;const s=await af(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const c=Array.from(n);r&&c.push(r(a?null:o));try{o.call(t,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),jn(t).subs.delete(s.tag)),i>0}async function Ib(t,e,n,r){try{await Tb}catch{}const s=FL(t,e,n,r);return Tb=s,await s}const Hh=["then"];var d6;d6=yp;const Uf=class Uf{constructor(e,n,r,s){k(this,"target");k(this,"interface");k(this,"runner");k(this,"filters");k(this,d6);k(this,"fallback");S(typeof e=="string"||jw(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=Et.from(n);J(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,yp,{value:{}});let o,a=null,c=null;if(s){const f=fa(r);c=new pg(this.interface,f,s)}let u=new Map;if(typeof e=="string")if(Re(e))a=e,o=Promise.resolve(e);else{const f=rc(r,"resolveName");if(!gg(f))throw Ze("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(e).then(d=>{if(d==null)throw Ze("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return jn(this).addr=d,d})}else o=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return jn(this).addr=f,f});DL(this,{addrPromise:o,addr:a,deployTx:c,subs:u});const l=new Proxy({},{get:(f,d,p)=>{if(typeof d=="symbol"||Hh.indexOf(d)>=0)return Reflect.get(f,d,p);try{return this.getEvent(d)}catch(y){if(!kt(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,d)=>Hh.indexOf(d)>=0?Reflect.has(f,d):Reflect.has(f,d)||this.interface.hasEvent(String(d))});return J(this,{filters:l}),J(this,{fallback:i.receive||i.fallback?BL(this):null}),new Proxy(this,{get:(f,d,p)=>{if(typeof d=="symbol"||d in f||Hh.indexOf(d)>=0)return Reflect.get(f,d,p);try{return f.getFunction(d)}catch(y){if(!kt(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,d)=>typeof d=="symbol"||d in f||Hh.indexOf(d)>=0?Reflect.has(f,d):f.interface.hasFunction(d)})}connect(e){return new Uf(this.target,this.interface,e)}attach(e){return new Uf(e,this.interface,this.runner)}async getAddress(){return await jn(this).addrPromise}async getDeployedCode(){const e=fa(this.runner);D(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=fa(this.runner);return D(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return jn(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),ML(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),LL(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=jn(this),o=s||await i,{fragment:a,topics:c}=await t1(this,e),u={address:o,topics:c,fromBlock:n,toBlock:r},l=fa(this.runner);return D(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(u)).map(f=>{let d=a;if(d==null)try{d=this.interface.getEvent(f.topics[0])}catch{}if(d)try{return new hg(f,this.interface,d)}catch(p){return new Xw(f,p)}return new Nl(f,l)})}async on(e,n){const r=await Iv(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await Iv(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await Ib(this,e,n,null)}async listenerCount(e){if(e){const s=await af(this,e);return s?s.listeners.length:0}const{subs:n}=jn(this);let r=0;for(const{listeners:s}of n.values())r+=s.length;return r}async listeners(e){if(e){const s=await af(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:n}=jn(this);let r=[];for(const{listeners:s}of n.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,n){const r=await af(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(n==null||r.listeners.length===0)&&(r.stop(),jn(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await af(this,e);if(!n)return this;n.stop(),jn(this).subs.delete(n.tag)}else{const{subs:n}=jn(this);for(const{tag:r,stop:s}of n.values())s(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Uf{constructor(s,i=null){super(s,e,i)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let gl=Uf;function $L(){return gl}class vn extends $L(){}class n1{constructor(e,n,r){k(this,"interface");k(this,"bytecode");k(this,"runner");const s=Et.from(e);n instanceof Uint8Array||(typeof n=="object"&&(n=n.object),n.startsWith("0x")||(n="0x"+n)),n=L($(n)),J(this,{bytecode:n,interface:s,runner:r||null})}attach(e){return new gl(e,this.interface,this.runner)}async getDeployTransaction(...e){let n={};const r=this.interface.deploy;if(r.inputs.length+1===e.length&&(n=await e1(e.pop())),r.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");const s=await F4(this.runner,r.inputs,e),i=Ae([this.bytecode,this.interface.encodeDeploy(s)]);return Object.assign({},n,{data:i})}async deploy(...e){const n=await this.getDeployTransaction(...e);D(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const r=await this.runner.sendTransaction(n),s=Hw(r);return new gl(s,this.interface,this.runner,r)}connect(e){return new n1(this.interface,this.bytecode,e)}static fromSolidity(e,n){S(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));const r=e.abi;let s="";return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(r,s,n)}}function Hm(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):S(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class W4{constructor(e){k(this,"name");J(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const H4=new RegExp("^(ipfs)://(.*)$","i"),Ov=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),H4,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Ji,ka,Yi,kc,Dp,j4;const Gc=class Gc{constructor(e,n,r){P(this,Yi);k(this,"provider");k(this,"address");k(this,"name");P(this,Ji);P(this,ka);J(this,{provider:e,address:n,name:r}),E(this,Ji,null),E(this,ka,new vn(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return h(this,Ji)==null&&E(this,Ji,(async()=>{try{return await h(this,ka).supportsInterface("0x9061b923")}catch(e){if(kt(e,"CALL_EXCEPTION"))return!1;throw E(this,Ji,null),e}})()),await h(this,Ji)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await W(this,Yi,kc).call(this,"addr(bytes32)");return i==null||i===mi?null:i}catch(i){if(kt(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await W(this,Yi,kc).call(this,"addr(bytes32,uint)",[i]);if(Re(o,20))return le(o)}let n=null;for(const i of this.provider.plugins)if(i instanceof W4&&i.supportsCoinType(e)){n=i;break}if(n==null)return null;const r=await W(this,Yi,kc).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await n.decodeAddress(e,r);if(s!=null)return s;D(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await W(this,Yi,kc).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await W(this,Yi,kc).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",i=parseInt(n[4],16);if(n[5].length===i*2)return`${s}://${kw("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;D(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Ov.length;r++){const s=n.match(Ov[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=Hm(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const u=c[1],l=new vn(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const g=await l.ownerOf(u);if(a!==g)return e.push({type:"!owner",value:g}),{url:null,linkage:e};e.push({type:"owner",value:g})}else if(i==="erc1155"){const g=await l.balanceOf(a,u);if(!g)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:g.toString()})}let f=await l[o](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",Xn(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=Hm(f)),e.push({type:"metadata-url",value:f});let d={};const p=await new Ot(f).send();p.assertOk();try{d=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const m=p.body;return m&&e.push({type:"!metadata",value:L(m)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let y=d.image;if(typeof y!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(H4)==null)return e.push({type:"!imageUrl-ipfs",value:y}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:y}),y=Hm(y)}return e.push({type:"url",value:y}),{linkage:e,url:y}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return D(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var s;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await W(s=Gc,Dp,j4).call(s,e,r);if(i!=null){const o=new Gc(e,i,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};Ji=new WeakMap,ka=new WeakMap,Yi=new WeakSet,kc=async function(e,n){n=(n||[]).slice();const r=h(this,ka).interface;n.unshift(mp(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),D(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[f4(this.name,255),r.encodeFunctionData(s,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const i=await h(this,ka)[e](...n);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!kt(i,"CALL_EXCEPTION"))throw i}return null},Dp=new WeakSet,j4=async function(e,n){const r=await Gc.getEnsAddress(e);try{const i=await new vn(r,["function resolver(bytes32) view returns (address)"],e).resolver(mp(n),{enableCcipRead:!0});return i===mi?null:i}catch(s){throw s}return null},P(Gc,Dp);let dd=Gc;const Cv=BigInt(0);function Oe(t,e){return function(n){return n==null?e:t(n)}}function mg(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function rh(t,e){return n=>{const r={};for(const s in t){let i=s;if(e&&s in e&&!(i in n)){for(const o of e[s])if(o in n){i=o;break}}try{const o=t[s](n[i]);o!==void 0&&(r[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";D(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:n})}}return r}}function WL(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}S(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function ml(t){return S(Re(t,!0),"invalid data","value",t),t}function qt(t){return S(Re(t,32),"invalid hash","value",t),t}const HL=rh({address:le,blockHash:qt,blockNumber:he,data:ml,index:he,removed:Oe(WL,!1),topics:mg(qt),transactionHash:qt,transactionIndex:he},{index:["logIndex"]});function jL(t){return HL(t)}const GL=rh({hash:Oe(qt),parentHash:qt,parentBeaconBlockRoot:Oe(qt,null),number:he,timestamp:he,nonce:Oe(ml),difficulty:se,gasLimit:se,gasUsed:se,stateRoot:Oe(qt,null),receiptsRoot:Oe(qt,null),blobGasUsed:Oe(se,null),excessBlobGas:Oe(se,null),miner:Oe(le),prevRandao:Oe(qt,null),extraData:ml,baseFeePerGas:Oe(se)},{prevRandao:["mixHash"]});function VL(t){const e=GL(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:G4(n)),e}const zL=rh({transactionIndex:he,blockNumber:he,transactionHash:qt,address:le,topics:mg(qt),data:ml,index:he,blockHash:qt},{index:["logIndex"]});function KL(t){return zL(t)}const qL=rh({to:Oe(le,null),from:Oe(le,null),contractAddress:Oe(le,null),index:he,root:Oe(L),gasUsed:se,blobGasUsed:Oe(se,null),logsBloom:Oe(ml),blockHash:qt,hash:qt,logs:mg(KL),blockNumber:he,cumulativeGasUsed:se,effectiveGasPrice:Oe(se),blobGasPrice:Oe(se,null),status:Oe(he),type:Oe(he,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function QL(t){return qL(t)}function G4(t){t.to&&se(t.to)===Cv&&(t.to="0x0000000000000000000000000000000000000000");const e=rh({hash:qt,index:Oe(he,void 0),type:n=>n==="0x"||n==null?0:he(n),accessList:Oe(vi,null),blobVersionedHashes:Oe(mg(qt,!0),null),blockHash:Oe(qt,null),blockNumber:Oe(he,null),transactionIndex:Oe(he,null),from:le,gasPrice:Oe(se),maxPriorityFeePerGas:Oe(se),maxFeePerGas:Oe(se),maxFeePerBlobGas:Oe(se,null),gasLimit:se,to:Oe(le,null),value:se,nonce:he,data:ml,creates:Oe(le,null),chainId:Oe(se,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=Hw(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Tr.from(t.signature):e.signature=Tr.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&se(e.blockHash)===Cv&&(e.blockHash=null),e}const JL="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class jo{constructor(e){k(this,"name");J(this,{name:e})}clone(){return new jo(this.name)}}class sh extends jo{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);k(this,"effectiveBlock");k(this,"txBase");k(this,"txCreate");k(this,"txDataZero");k(this,"txDataNonzero");k(this,"txAccessListStorageKey");k(this,"txAccessListAddress");const s={effectiveBlock:n};function i(o,a){let c=(r||{})[o];c==null&&(c=a),S(typeof c=="number",`invalud value for ${o}`,"costs",r),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),J(this,s)}clone(){return new sh(this.effectiveBlock,this)}}class ih extends jo{constructor(n,r){super("org.ethers.plugins.network.Ens");k(this,"address");k(this,"targetNetwork");J(this,{address:n||JL,targetNetwork:r??1})}clone(){return new ih(this.address,this.targetNetwork)}}var Ta;const f2=class f2 extends jo{constructor(n){super("org.ethers.plugins.network.FeeData");P(this,Ta);E(this,Ta,n)}get feeDataFunc(){return h(this,Ta)}async getFeeData(n){return await h(this,Ta).call(this,n)}clone(){return new f2(h(this,Ta))}};Ta=new WeakMap;let Ob=f2;var Bd,Md;class V4 extends jo{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");P(this,Bd);P(this,Md);E(this,Bd,n),E(this,Md,r)}get url(){return h(this,Bd)}get processFunc(){return h(this,Md)}clone(){return this}}Bd=new WeakMap,Md=new WeakMap;const jm=new Map;var _u,Bu,Xi;const Vc=class Vc{constructor(e,n){P(this,_u);P(this,Bu);P(this,Xi);E(this,_u,e),E(this,Bu,se(n)),E(this,Xi,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return h(this,_u)}set name(e){E(this,_u,e)}get chainId(){return h(this,Bu)}set chainId(e){E(this,Bu,se(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===se(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===se(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===se(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(h(this,Xi).values())}attachPlugin(e){if(h(this,Xi).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,Xi).set(e.name,e.clone()),this}getPlugin(e){return h(this,Xi).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Vc(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new sh;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const s=vi(e.accessList);for(const i in s)r+=n.txAccessListAddress+n.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(e){if(YL(),e==null)return Vc.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=jm.get(e);if(n)return n();if(typeof e=="bigint")return new Vc("unknown",e);S(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){S(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Vc(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new ih(e.ensAddress,e.ensNetwork)),n}S(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=jm.get(e);r&&S(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),jm.set(e,n)}};_u=new WeakMap,Bu=new WeakMap,Xi=new WeakMap;let qe=Vc;function Nv(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function Pv(t){return new V4(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([r.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Nv(a.maxFee,9),maxPriorityFeePerGas:Nv(a.maxPriorityFee,9)}}catch(i){D(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}let Rv=!1;function YL(){if(Rv)return;Rv=!0;function t(e,n,r){const s=function(){const i=new qe(e,n);return r.ensNetwork!=null&&i.attachPlugin(new ih(null,r.ensNetwork)),i.attachPlugin(new sh),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};qe.register(e,s),qe.register(n,s),r.altNames&&r.altNames.forEach(i=>{qe.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Pv("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Pv("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Cb(t){return JSON.parse(JSON.stringify(t))}var Qs,fr,Zi,ys,Mu,E0;class XL{constructor(e){P(this,Mu);P(this,Qs);P(this,fr);P(this,Zi);P(this,ys);E(this,Qs,e),E(this,fr,null),E(this,Zi,4e3),E(this,ys,-2)}get pollingInterval(){return h(this,Zi)}set pollingInterval(e){E(this,Zi,e)}start(){h(this,fr)||(E(this,fr,h(this,Qs)._setTimeout(W(this,Mu,E0).bind(this),h(this,Zi))),W(this,Mu,E0).call(this))}stop(){h(this,fr)&&(h(this,Qs)._clearTimeout(h(this,fr)),E(this,fr,null))}pause(e){this.stop(),e&&E(this,ys,-2)}resume(){this.start()}}Qs=new WeakMap,fr=new WeakMap,Zi=new WeakMap,ys=new WeakMap,Mu=new WeakSet,E0=async function(){try{const e=await h(this,Qs).getBlockNumber();if(h(this,ys)===-2){E(this,ys,e);return}if(e!==h(this,ys)){for(let n=h(this,ys)+1;n<=e;n++){if(h(this,fr)==null)return;await h(this,Qs).emit("block",n)}E(this,ys,e)}}catch{}h(this,fr)!=null&&E(this,fr,h(this,Qs)._setTimeout(W(this,Mu,E0).bind(this),h(this,Zi)))};var Ia,Oa,eo;class r1{constructor(e){P(this,Ia);P(this,Oa);P(this,eo);E(this,Ia,e),E(this,eo,!1),E(this,Oa,n=>{this._poll(n,h(this,Ia))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){h(this,eo)||(E(this,eo,!0),h(this,Oa).call(this,-2),h(this,Ia).on("block",h(this,Oa)))}stop(){h(this,eo)&&(E(this,eo,!1),h(this,Ia).off("block",h(this,Oa)))}pause(e){this.stop()}resume(){this.start()}}Ia=new WeakMap,Oa=new WeakMap,eo=new WeakMap;var Lu,Js;class ZL extends r1{constructor(n,r){super(n);P(this,Lu);P(this,Js);E(this,Lu,r),E(this,Js,-2)}pause(n){n&&E(this,Js,-2),super.pause(n)}async _poll(n,r){const s=await r.getBlock(h(this,Lu));s!=null&&(h(this,Js)===-2?E(this,Js,s.number):s.number>h(this,Js)&&(r.emit(h(this,Lu),s.number),E(this,Js,s.number)))}}Lu=new WeakMap,Js=new WeakMap;var Up;class eD extends r1{constructor(n,r){super(n);P(this,Up);E(this,Up,Cb(r))}async _poll(n,r){throw new Error("@TODO")}}Up=new WeakMap;var Du;class tD extends r1{constructor(n,r){super(n);P(this,Du);E(this,Du,r)}async _poll(n,r){const s=await r.getTransactionReceipt(h(this,Du));s&&r.emit(h(this,Du),s)}}Du=new WeakMap;var Ys,Uu,Fu,to,dr,Fp,z4;class s1{constructor(e,n){P(this,Fp);P(this,Ys);P(this,Uu);P(this,Fu);P(this,to);P(this,dr);E(this,Ys,e),E(this,Uu,Cb(n)),E(this,Fu,W(this,Fp,z4).bind(this)),E(this,to,!1),E(this,dr,-2)}start(){h(this,to)||(E(this,to,!0),h(this,dr)===-2&&h(this,Ys).getBlockNumber().then(e=>{E(this,dr,e)}),h(this,Ys).on("block",h(this,Fu)))}stop(){h(this,to)&&(E(this,to,!1),h(this,Ys).off("block",h(this,Fu)))}pause(e){this.stop(),e&&E(this,dr,-2)}resume(){this.start()}}Ys=new WeakMap,Uu=new WeakMap,Fu=new WeakMap,to=new WeakMap,dr=new WeakMap,Fp=new WeakSet,z4=async function(e){if(h(this,dr)===-2)return;const n=Cb(h(this,Uu));n.fromBlock=h(this,dr)+1,n.toBlock=e;const r=await h(this,Ys).getLogs(n);if(r.length===0){h(this,dr)<e-60&&E(this,dr,e-60);return}for(const s of r)h(this,Ys).emit(h(this,Uu),s),E(this,dr,s.blockNumber)};const nD=BigInt(2),rD=10;function jh(t){return t&&typeof t.then=="function"}function v0(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class hd{constructor(e){k(this,"name");J(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function sD(t){return JSON.parse(JSON.stringify(t))}function Nb(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Gm(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Re(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:v0("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:v0("orphan",n),filter:sD(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?Nb(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],i=[],o=a=>{Re(a)?s.push(a):i.push((async()=>{s.push(await $t(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),i.length&&await Promise.all(i),r.address=Nb(s.map(a=>a.toLowerCase()))}return{filter:r,tag:v0("event",r),type:"event"}}S(!1,"unknown ProviderEvent","event",t)}function Vm(){return new Date().getTime()}const iD={cacheTimeout:250,pollingInterval:4e3};var an,no,cn,$u,Kn,Ca,ro,Xs,Ld,hr,Wu,Hu,ve,Wn,Pb,Rb,cf,_b,uf,A0;class yl{constructor(e,n){P(this,ve);P(this,an);P(this,no);P(this,cn);P(this,$u);P(this,Kn);P(this,Ca);P(this,ro);P(this,Xs);P(this,Ld);P(this,hr);P(this,Wu);P(this,Hu);if(E(this,Hu,Object.assign({},iD,n||{})),e==="any")E(this,Ca,!0),E(this,Kn,null);else if(e){const r=qe.from(e);E(this,Ca,!1),E(this,Kn,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else E(this,Ca,!1),E(this,Kn,null);E(this,Xs,-1),E(this,ro,new Map),E(this,an,new Map),E(this,no,new Map),E(this,cn,null),E(this,$u,!1),E(this,Ld,1),E(this,hr,new Map),E(this,Wu,!1)}get pollingInterval(){return h(this,Hu).pollingInterval}get provider(){return this}get plugins(){return Array.from(h(this,no).values())}attachPlugin(e){if(h(this,no).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,no).set(e.name,e.connect(this)),this}getPlugin(e){return h(this,no).get(e)||null}get disableCcipRead(){return h(this,Wu)}set disableCcipRead(e){E(this,Wu,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],u=c.replace("{sender}",s).replace("{data}",i),l=new Ot(u);c.indexOf("{data}")===-1&&(l.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:a,urls:r});let f="unknown error";const d=await l.send();try{const p=d.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:p})}catch{}D(d.statusCode<400||d.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),o.push(f)}D(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new N4(VL(e),this)}_wrapLog(e,n){return new Nl(jL(e),this)}_wrapTransactionReceipt(e,n){return new Yw(QL(e),this)}_wrapTransactionResponse(e,n){return new pl(G4(e),this)}_detectNetwork(){D(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){D(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=he(await W(this,ve,Wn).call(this,{method:"getBlockNumber"}),"%response");return h(this,Xs)>=0&&E(this,Xs,e),e}_getAddress(e){return $t(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Re(e))return Re(e,32)?e:Qt(e);if(typeof e=="bigint"&&(e=he(e,"blockTag")),typeof e=="number")return e>=0?Qt(e):h(this,Xs)>=0?Qt(h(this,Xs)+e):this.getBlockNumber().then(n=>Qt(n+e));S(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Nb(c.map(u=>u.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(c,u,l)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(r&&(u!=null||l!=null))throw new Error("invalid filter");const d={};return f&&(d.address=f),n.length&&(d.topics=n),u&&(d.fromBlock=u),l&&(d.toBlock=l),r&&(d.blockHash=r),d};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){const n=fd(e),r=[];if(["to","from"].forEach(s=>{if(n[s]==null)return;const i=$t(n[s],this);jh(i)?r.push(async function(){n[s]=await i}()):n[s]=i}),n.blockTag!=null){const s=this._getBlockTag(n.blockTag);jh(s)?r.push(async function(){n.blockTag=await s}()):n.blockTag=s}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(h(this,Kn)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw h(this,Kn)===s&&E(this,Kn,null),i}})();return E(this,Kn,s),(await s).clone()}const e=h(this,Kn),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(h(this,Ca)?(this.emit("network",r,n),h(this,Kn)===e&&E(this,Kn,Promise.resolve(r))):D(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await ft({_block:W(this,ve,_b).call(this,"latest",!1),gasPrice:(async()=>{try{const l=await W(this,ve,Wn).call(this,{method:"getGasPrice"});return se(l,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const l=await W(this,ve,Wn).call(this,{method:"getPriorityFee"});return se(l,"%response")}catch{}return null})()});let a=null,c=null;const u=this._wrapBlock(s,e);return u&&u.baseFeePerGas&&(c=o??BigInt("1000000000"),a=u.baseFeePerGas*nD+c),new kb(i,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new Ot(r.url),i=await r.processFunc(n,this,s);return new kb(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return jh(n)&&(n=await n),se(await W(this,ve,Wn).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await ft({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await W(this,ve,Rb).call(this,W(this,ve,Pb).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return se(await W(this,ve,cf).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return he(await W(this,ve,cf).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return L(await W(this,ve,cf).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const s=se(n,"position");return L(await W(this,ve,cf).call(this,{method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:s}=await ft({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=tc.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:s}=await ft({network:this.getNetwork(),params:W(this,ve,_b).call(this,e,!!n)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:n,params:r}=await ft({network:this.getNetwork(),params:W(this,ve,Wn).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await ft({network:this.getNetwork(),params:W(this,ve,Wn).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await W(this,ve,Wn).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await ft({network:this.getNetwork(),result:W(this,ve,Wn).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:L(n)}async getLogs(e){let n=this._getFilter(e);jh(n)&&(n=await n);const{network:r,params:s}=await ft({network:this.getNetwork(),params:W(this,ve,Wn).call(this,{method:"getLogs",filter:n})});return s.map(i=>this._wrapLog(i,r))}_getProvider(e){D(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await dd.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=le(e);const n=mp(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await dd.getEnsAddress(this),i=await new vn(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(i==null||i===mi)return null;const a=await new vn(i,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(kt(r,"BAD_DATA")&&r.value==="0x"||kt(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const s=n??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const c=async u=>{try{const l=await this.getTransactionReceipt(e);if(l!=null&&u-l.blockNumber+1>=s){i(l),a&&(clearTimeout(a),a=null);return}}catch(l){console.log("EEE",l)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Ze("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){D(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=h(this,hr).get(e);n&&(n.timer&&clearTimeout(n.timer),h(this,hr).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=fc(this,Ld)._++,s=()=>{h(this,hr).delete(r),e()};if(this.paused)h(this,hr).set(r,{timer:null,func:s,time:n});else{const i=setTimeout(s,n);h(this,hr).set(r,{timer:i,func:s,time:Vm()})}return r}_forEachSubscriber(e){for(const n of h(this,an).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new hd(e.type);case"block":{const n=new XL(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new ZL(this,e.type);case"event":return new s1(this,e.filter);case"transaction":return new tD(this,e.hash);case"orphan":return new eD(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of h(this,an).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),h(this,cn)!=null&&n.pause(h(this,cn));break}}async on(e,n){const r=await W(this,ve,A0).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,h(this,cn)!=null&&r.subscriber.pause(h(this,cn))),this}async once(e,n){const r=await W(this,ve,A0).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,h(this,cn)!=null&&r.subscriber.pause(h(this,cn))),this}async emit(e,...n){const r=await W(this,ve,uf).call(this,e,n);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const a=new Tw(this,o?null:i,e);try{i.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),h(this,an).delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await W(this,ve,uf).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of h(this,an).values())n+=r.length;return n}async listeners(e){if(e){const r=await W(this,ve,uf).call(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let n=[];for(const{listeners:r}of h(this,an).values())n=n.concat(r.map(({listener:s})=>s));return n}async off(e,n){const r=await W(this,ve,uf).call(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),h(this,an).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:s}=await W(this,ve,A0).call(this,e);r&&s.stop(),h(this,an).delete(n)}else for(const[n,{started:r,subscriber:s}]of h(this,an))r&&s.stop(),h(this,an).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return h(this,$u)}destroy(){this.removeAllListeners();for(const e of h(this,hr).keys())this._clearTimeout(e);E(this,$u,!0)}get paused(){return h(this,cn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(E(this,Xs,-1),h(this,cn)!=null){if(h(this,cn)==!!e)return;D(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),E(this,cn,!!e);for(const n of h(this,hr).values())n.timer&&clearTimeout(n.timer),n.time=Vm()-n.time}resume(){if(h(this,cn)!=null){this._forEachSubscriber(e=>e.resume()),E(this,cn,null);for(const e of h(this,hr).values()){let n=e.time;n<0&&(n=0),e.time=Vm(),setTimeout(e.func,n)}}}}an=new WeakMap,no=new WeakMap,cn=new WeakMap,$u=new WeakMap,Kn=new WeakMap,Ca=new WeakMap,ro=new WeakMap,Xs=new WeakMap,Ld=new WeakMap,hr=new WeakMap,Wu=new WeakMap,Hu=new WeakMap,ve=new WeakSet,Wn=async function(e){const n=h(this,Hu).cacheTimeout;if(n<0)return await this._perform(e);const r=v0(e.method,e);let s=h(this,ro).get(r);return s||(s=this._perform(e),h(this,ro).set(r,s),setTimeout(()=>{h(this,ro).get(r)===s&&h(this,ro).delete(r)},n)),await s},Pb=async function(e,n,r){D(r<rD,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const s=fd(e);try{return L(await this._perform({method:"call",transaction:s,blockTag:n}))}catch(i){if(!this.disableCcipRead&&ng(i)&&i.data&&r>=0&&n==="latest"&&s.to!=null&&Ve(i.data,0,4)==="0x556f1830"){const o=i.data,a=await $t(s.to,this);let c;try{c=lD(Ve(i.data,4))}catch(f){D(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}D(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(s,c.calldata,c.urls);D(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const l={to:a,data:Ae([c.selector,uD([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const f=await W(this,ve,Pb).call(this,l,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:f}),f}}throw i}},Rb=async function(e){const{value:n}=await ft({network:this.getNetwork(),value:e});return n},cf=async function(e,n,r){let s=this._getAddress(n),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await W(this,ve,Rb).call(this,W(this,ve,Wn).call(this,Object.assign(e,{address:s,blockTag:i})))},_b=async function(e,n){if(Re(e,32))return await W(this,ve,Wn).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await W(this,ve,Wn).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},uf=async function(e,n){let r=await Gm(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await Gm({orphan:"drop-log",log:n[0]},this)),h(this,an).get(r.tag)||null},A0=async function(e){const n=await Gm(e,this),r=n.tag;let s=h(this,an).get(r);return s||(s={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},h(this,an).set(r,s)),s};function oD(t,e){try{const n=Bb(t,e);if(n)return Xr(n)}catch{}return null}function Bb(t,e){if(t==="0x")return null;try{const n=he(Ve(t,e,e+32)),r=he(Ve(t,n,n+32));return Ve(t,n+32,n+32+r)}catch{}return null}function _v(t){const e=Ut(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function aD(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const cD=new Uint8Array([]);function uD(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(cD),n+=32;for(let r=0;r<t.length;r++){const s=$(t[r]);e[r]=_v(n),e.push(_v(s.length)),e.push(aD(s)),n+=32+Math.ceil(s.length/32)*32}return Ae(e)}const Bv="0x0000000000000000000000000000000000000000000000000000000000000000";function lD(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};D(So(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Ve(t,0,32);D(Ve(n,0,12)===Ve(Bv,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ve(n,12);try{const r=[],s=he(Ve(t,32,64)),i=he(Ve(t,s,s+32)),o=Ve(t,s+32);for(let a=0;a<i;a++){const c=oD(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{D(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Bb(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{D(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}D(Ve(t,100,128)===Ve(Bv,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ve(t,96,100);try{const r=Bb(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{D(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function gc(t,e){if(t.provider)return t.provider;D(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Mv(t,e){let n=fd(e);if(n.to!=null&&(n.to=$t(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),$t(r,t)]).then(([s,i])=>(S(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else n.from=t.getAddress();return await ft(n)}class Pl{constructor(e){k(this,"provider");J(this,{provider:e||null})}async getNonce(e){return gc(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Mv(this,e)}async populateTransaction(e){const n=gc(this,"populateTransaction"),r=await Mv(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=se(r.chainId);S(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?S(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&S(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();D(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(D(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):D(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await ft(r)}async estimateGas(e){return gc(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return gc(this,"call").call(await this.populateCall(e))}async resolveName(e){return await gc(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=gc(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=tc.from(r);return await n.broadcastTransaction(await this.signTransaction(s))}}var ju,S0;const d2=class d2 extends Pl{constructor(n,r){super(r);P(this,ju);k(this,"address");J(this,{address:n})}async getAddress(){return this.address}connect(n){return new d2(this.address,n)}async signTransaction(n){W(this,ju,S0).call(this,"transactions","signTransaction")}async signMessage(n){W(this,ju,S0).call(this,"messages","signMessage")}async signTypedData(n,r,s){W(this,ju,S0).call(this,"typed-data","signTypedData")}};ju=new WeakSet,S0=function(n,r){D(!1,`VoidSigner cannot sign ${n}`,"UNSUPPORTED_OPERATION",{operation:r})};let bp=d2;const Lv=new Set;function Go(t){Lv.has(t)||(Lv.add(t),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${t} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function fD(t){return JSON.parse(JSON.stringify(t))}var gn,bs,Na,so,Pa,Gu,Bo,Mb,Lb;class K4{constructor(e){P(this,Bo);P(this,gn);P(this,bs);P(this,Na);P(this,so);P(this,Pa);P(this,Gu);E(this,gn,e),E(this,bs,null),E(this,Na,W(this,Bo,Mb).bind(this)),E(this,so,!1),E(this,Pa,null),E(this,Gu,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){h(this,so)||(E(this,so,!0),W(this,Bo,Mb).call(this,-2))}stop(){h(this,so)&&(E(this,so,!1),E(this,Gu,!0),W(this,Bo,Lb).call(this),h(this,gn).off("block",h(this,Na)))}pause(e){e&&W(this,Bo,Lb).call(this),h(this,gn).off("block",h(this,Na))}resume(){this.start()}}gn=new WeakMap,bs=new WeakMap,Na=new WeakMap,so=new WeakMap,Pa=new WeakMap,Gu=new WeakMap,Bo=new WeakSet,Mb=async function(e){try{h(this,bs)==null&&E(this,bs,this._subscribe(h(this,gn)));let n=null;try{n=await h(this,bs)}catch(i){if(!kt(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(n==null){E(this,bs,null),h(this,gn)._recoverSubscriber(this,this._recover(h(this,gn)));return}const r=await h(this,gn).getNetwork();if(h(this,Pa)||E(this,Pa,r),h(this,Pa).chainId!==r.chainId)throw new Error("chaid changed");if(h(this,Gu))return;const s=await h(this,gn).send("eth_getFilterChanges",[n]);await this._emitResults(h(this,gn),s)}catch(n){console.log("@TODO",n)}h(this,gn).once("block",h(this,Na))},Lb=function(){const e=h(this,bs);e&&(E(this,bs,null),e.then(n=>{h(this,gn).destroyed||h(this,gn).send("eth_uninstallFilter",[n])}))};var Ra;class dD extends K4{constructor(n,r){super(n);P(this,Ra);E(this,Ra,fD(r))}_recover(n){return new s1(n,h(this,Ra))}async _subscribe(n){return await n.send("eth_newFilter",[h(this,Ra)])}async _emitResults(n,r){for(const s of r)n.emit(h(this,Ra),n._wrapLog(s,n._network))}}Ra=new WeakMap;class hD extends K4{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const pD="bigint,boolean,function,number,string,symbol".split(/,/g);function k0(t){if(t==null||pD.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(k0);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function gD(t){return new Promise(e=>{setTimeout(e,t)})}function mc(t){return t&&t.toLowerCase()}function Dv(t){return t&&typeof t.pollingInterval=="number"}const q4={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class T0 extends Pl{constructor(n,r){super(n);k(this,"address");r=le(r),J(this,{address:r})}connect(n){D(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=k0(n),s=[];if(r.from){const o=r.from;s.push((async()=>{const a=await $t(o,this.provider);S(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;s.push((async()=>{r.to=await $t(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(n);return await new Promise((i,o)=>{const a=[1e3,100];let c=0;const u=async()=>{try{const l=await this.provider.getTransaction(s);if(l!=null){i(l.replaceableTransaction(r));return}}catch(l){if(kt(l,"CANCELLED")||kt(l,"BAD_DATA")||kt(l,"NETWORK_ERROR")){l.info==null&&(l.info={}),l.info.sendTransactionHash=s,o(l);return}if(kt(l,"INVALID_ARGUMENT")&&(c++,l.info==null&&(l.info={}),l.info.sendTransactionHash=s,c>10)){o(l);return}this.provider.emit("error",Ze("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{u()},a.pop()||4e3)};u()})}async signTransaction(n){const r=k0(n);if(r.from){const i=await $t(r.from,this.provider);S(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(n){const r=typeof n=="string"?ht(n):n;return await this.provider.send("personal_sign",[L(r),this.address.toLowerCase()])}async signTypedData(n,r,s){const i=k0(s),o=await Zr.resolveNames(n,r,i,async a=>{const c=await $t(a);return S(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Zr.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?ht(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),L(r)])}}var _a,Vu,Zs,xs,$r,pr,Nn,Dd,Db;class i1 extends yl{constructor(n,r){super(n,r);P(this,Dd);P(this,_a);P(this,Vu);P(this,Zs);P(this,xs);P(this,$r);P(this,pr);P(this,Nn);E(this,Vu,1),E(this,_a,Object.assign({},q4,r||{})),E(this,Zs,[]),E(this,xs,null),E(this,pr,null),E(this,Nn,null);{let i=null;const o=new Promise(a=>{i=a});E(this,$r,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(S(!s||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),s&&n!=null&&E(this,pr,qe.from(n))):s&&(S(n==null||s.matches(n),"staticNetwork MUST match network object","options",r),E(this,pr,s))}_getOption(n){return h(this,_a)[n]}get _network(){return D(h(this,pr),"network is not available yet","NETWORK_ERROR"),h(this,pr)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let s=n.transaction;if(s&&s.type!=null&&se(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(h(this,pr))return h(this,pr)}else return n;return h(this,Nn)?await h(this,Nn):this.ready?(E(this,Nn,(async()=>{try{const r=qe.from(se(await this.send("eth_chainId",[])));return E(this,Nn,null),r}catch(r){throw E(this,Nn,null),r}})()),await h(this,Nn)):(E(this,Nn,(async()=>{const r={id:fc(this,Vu)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0],E(this,Nn,null)}catch(i){throw E(this,Nn,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return qe.from(se(s.result));throw this.getRpcError(r,s)})()),await h(this,Nn))}_start(){h(this,$r)==null||h(this,$r).resolve==null||(h(this,$r).resolve(),E(this,$r,null),(async()=>{for(;h(this,pr)==null&&!this.destroyed;)try{E(this,pr,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ze("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await gD(1e3)}W(this,Dd,Db).call(this)})())}async _waitUntilReady(){if(h(this,$r)!=null)return await h(this,$r).promise}_getSubscriber(n){return n.type==="pending"?new hD(this):n.type==="event"?this._getOption("polling")?new s1(this,n.filter):new dD(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new hd("orphan"):super._getSubscriber(n)}get ready(){return h(this,$r)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(n[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),r[i]=Qt(se(n[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{n[s]!=null&&(r[s]=L(n[s]))}),n.accessList&&(r.accessList=vi(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(s=>s.toLowerCase())),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[mc(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[mc(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[mc(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[mc(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(mc):n.filter.address=mc(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:s}=n,{error:i}=r;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Ze("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=Ub(i),u=Ct.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",n.params[0],c?c.data:null);return u.info={error:i,payload:n},u}const o=JSON.stringify(mD(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Ze("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:n,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Ze("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Ze("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Ze("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return Ze("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?Ze("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:i,payload:n}}):Ze("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Ze("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const s=fc(this,Vu)._++,i=new Promise((o,a)=>{h(this,Zs).push({resolve:o,reject:a,payload:{method:n,params:r,id:s,jsonrpc:"2.0"}})});return W(this,Dd,Db).call(this),i}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const i=await r;if(n>=i.length)throw new Error("no such account");return new T0(this,i[n])}const{accounts:s}=await ft({network:this.getNetwork(),accounts:r});n=le(n);for(const i of s)if(le(i)===n)return new T0(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new T0(this,r))}destroy(){h(this,xs)&&(clearTimeout(h(this,xs)),E(this,xs,null));for(const{payload:n,reject:r}of h(this,Zs))r(Ze("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));E(this,Zs,[]),super.destroy()}}_a=new WeakMap,Vu=new WeakMap,Zs=new WeakMap,xs=new WeakMap,$r=new WeakMap,pr=new WeakMap,Nn=new WeakMap,Dd=new WeakSet,Db=function(){if(h(this,xs))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");E(this,xs,setTimeout(()=>{E(this,xs,null);const r=h(this,Zs);for(E(this,Zs,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==h(this,_a).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(o=>o.payload)).length>h(this,_a).batchMaxSize){r.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:u}of s){if(this.destroyed){c(Ze("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const l=o.filter(f=>f.id===u.id)[0];if(l==null){const f=Ze("missing response for request","BAD_DATA",{value:o,info:{payload:u}});this.emit("error",f),c(f);continue}if("error"in l){c(this.getRpcError(u,l));continue}a(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},n))};var io;class Q4 extends i1{constructor(n,r){super(n,r);P(this,io);let s=this._getOption("pollingInterval");s==null&&(s=q4.pollingInterval),E(this,io,s)}_getSubscriber(n){const r=super._getSubscriber(n);return Dv(r)&&(r.pollingInterval=h(this,io)),r}get pollingInterval(){return h(this,io)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");E(this,io,n),this._forEachSubscriber(r=>{Dv(r)&&(r.pollingInterval=h(this,io))})}}io=new WeakMap;var zu,h6;let It=(h6=class extends Q4{constructor(n,r,s){n==null&&(n="http://localhost:8545");super(r,s);P(this,zu);typeof n=="string"?E(this,zu,new Ot(n)):E(this,zu,n.clone())}_getConnection(){return h(this,zu).clone()}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){const r=this._getConnection();r.body=JSON.stringify(n),r.setHeader("content-type","application/json");const s=await r.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}},zu=new WeakMap,h6);function Ub(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Re(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=Ub(t[e]);if(n)return n}return null}if(typeof t=="string")try{return Ub(JSON.parse(t))}catch{}return null}function Fb(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)Fb(t[n],e);if(typeof t=="string")try{return Fb(JSON.parse(t),e)}catch{}}}function mD(t){const e=[];return Fb(t,e),e}const Gh="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function yD(t){switch(t){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}S(!1,"unsupported network","network",t)}class pd extends It{constructor(n,r){n==null&&(n="mainnet");const s=qe.from(n);r==null&&(r=Gh);const i={polling:!0,staticNetwork:s},o=pd.getRequest(s,r);super(o,s,i);k(this,"apiKey");J(this,{apiKey:r})}_getProvider(n){try{return new pd(n,this.apiKey)}catch{}return super._getProvider(n)}static getRequest(n,r){r==null&&(r=Gh);const s=new Ot(`https://${yD(n.name)}/${r}`);return s.allowGzip=!0,r===Gh&&(s.retryFunc=async(i,o,a)=>(Go("AnkrProvider"),!0)),s}getRpcError(n,r){return n.method==="eth_sendRawTransaction"&&r&&r.error&&r.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(r.error.message="replacement transaction underpriced"),super.getRpcError(n,r)}isCommunityResource(){return this.apiKey===Gh}}const Vh="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function bD(t){switch(t){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}S(!1,"unsupported network","network",t)}class gd extends It{constructor(n,r){n==null&&(n="mainnet");const s=qe.from(n);r==null&&(r=Vh);const i=gd.getRequest(s,r);super(i,s,{staticNetwork:s});k(this,"apiKey");J(this,{apiKey:r})}_getProvider(n){try{return new gd(n,this.apiKey)}catch{}return super._getProvider(n)}async _perform(n){if(n.method==="getTransactionResult"){const{trace:r,tx:s}=await ft({trace:this.send("trace_transaction",[n.hash]),tx:this.getTransaction(n.hash)});if(r==null||s==null)return null;let i,o=!1;try{i=r[0].result.output,o=r[0].error==="Reverted"}catch{}if(i)return D(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:s,invocation:null,revert:null}),i;D(!1,"could not parse trace result","BAD_DATA",{value:r})}return await super._perform(n)}isCommunityResource(){return this.apiKey===Vh}static getRequest(n,r){r==null&&(r=Vh);const s=new Ot(`https://${bD(n.name)}/v2/${r}`);return s.allowGzip=!0,r===Vh&&(s.retryFunc=async(i,o,a)=>(Go("alchemy"),!0)),s}}function zh(t){switch(t){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}S(!1,"unsupported network","network",t)}function xD(t){switch(t){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}S(!1,"unsupported network","network",t)}class md extends It{constructor(n,r){n==null&&(n="mainnet");const s=qe.from(n);r==null&&(r=zh(s.name));const i=md.getRequest(s,r);super(i,s,{staticNetwork:s});k(this,"apiKey");J(this,{apiKey:r})}_getProvider(n){try{return new md(n,this.apiKey)}catch{}return super._getProvider(n)}isCommunityResource(){return this.apiKey===zh(this._network.name)}static getRequest(n,r){r==null&&(r=zh(n.name));const s=new Ot(`https://${xD(n.name)}/${r}`);return s.allowGzip=!0,r===zh(n.name)&&(s.retryFunc=async(i,o,a)=>(Go("ChainstackProvider"),!0)),s}}class J4 extends It{constructor(e){e==null&&(e="mainnet");const n=qe.from(e);S(n.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",n,{staticNetwork:n})}}const Uv=2e3;function wD(t){return t&&typeof t.then=="function"}const Y4="org.ethers.plugins.provider.Etherscan";class o1 extends jo{constructor(n){super(Y4);k(this,"baseUrl");J(this,{baseUrl:n})}clone(){return new o1(this.baseUrl)}}const ED=["enableCcipRead"];let vD=1;var Ku;class X4 extends yl{constructor(n,r){const s=r??null;super();k(this,"network");k(this,"apiKey");P(this,Ku);const i=qe.from(n);E(this,Ku,i.getPlugin(Y4)),J(this,{apiKey:s,network:i}),this.getBaseUrl()}getBaseUrl(){if(h(this,Ku))return h(this,Ku).baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}S(!1,"unsupported network","network",this.network)}getUrl(n,r){const s=Object.keys(r).reduce((o,a)=>{const c=r[a];return c!=null&&(o+=`&${a}=${c}`),o},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${n}${s}${i}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(n,r){return r.module=n,r.apikey=this.apiKey,r}async detectNetwork(){return this.network}async fetch(n,r,s){const i=vD++,o=s?this.getPostUrl():this.getUrl(n,r),a=s?this.getPostData(n,r):null;this.emit("debug",{action:"sendRequest",id:i,url:o,payload:a});const c=new Ot(o);c.setThrottleParams({slotInterval:1e3}),c.retryFunc=(f,d,p)=>(this.isCommunityResource()&&Go("Etherscan"),Promise.resolve(!0)),c.processFunc=async(f,d)=>{const p=d.hasBody()?JSON.parse(Xr(d.body)):{},y=(typeof p.result=="string"?p.result:"").toLowerCase().indexOf("rate limit")>=0;return n==="proxy"?p&&p.status==0&&p.message=="NOTOK"&&y&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:p}),d.throwThrottleError(p.result,Uv)):y&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:p.result}),d.throwThrottleError(p.result,Uv)),d},a&&(c.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),c.body=Object.keys(a).map(f=>`${f}=${a[f]}`).join("&"));const u=await c.send();try{u.assertOk()}catch(f){this.emit("debug",{action:"receiveError",id:i,error:f,reason:"assertOk"}),D(!1,"response error","SERVER_ERROR",{request:c,response:u})}u.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),D(!1,"missing response","SERVER_ERROR",{request:c,response:u}));const l=JSON.parse(Xr(u.body));return n==="proxy"?(l.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:i,result:l,reason:"invalid JSON-RPC"}),D(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:c,response:u,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:i,result:l,reason:"JSON-RPC error"}),D(!1,"error response","SERVER_ERROR",{request:c,response:u,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result):l.status==0&&(l.message==="No records found"||l.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result):((l.status!=1||typeof l.message=="string"&&!l.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:i,result:l}),D(!1,"error response","SERVER_ERROR",{request:c,response:u,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result)}_getTransactionPostData(n){const r={};for(let s in n){if(ED.indexOf(s)>=0||n[s]==null)continue;let i=n[s];if(!(s==="type"&&i===0)&&!(s==="blockTag"&&i==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[s])i=Qt(i);else if(s==="accessList")i="["+vi(i).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]";else if(s==="blobVersionedHashes"){if(i.length===0)continue;D(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:n}})}else i=L(i);r[s]=i}}return r}_checkError(n,r,s){let i="";if(kt(r,"SERVER_ERROR")){try{i=r.info.result.error.message}catch{}if(!i)try{i=r.info.message}catch{}}if(n.method==="estimateGas"&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&D(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.transaction}),(n.method==="call"||n.method==="estimateGas")&&i.match(/execution reverted/i)){let o="";try{o=r.info.result.error.data}catch{}const a=Ct.getBuiltinCallException(n.method,n.transaction,o);throw a.info={request:n,error:r},a}if(i&&n.method==="broadcastTransaction"){const o=tc.from(n.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&D(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o}),i.match(/insufficient funds/)&&D(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&D(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:o})}throw r}async _detectNetwork(){return this.network}async _perform(n){switch(n.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:n.address,tag:n.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:n.address,tag:n.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:n.address,tag:n.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:n.address,position:n.position,tag:n.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:n.signedTransaction},!0).catch(r=>this._checkError(n,r,n.signedTransaction));case"getBlock":if("blockTag"in n)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:n.blockTag,boolean:n.includeTransactions?"true":"false"});D(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:n.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:n.hash});case"call":{if(n.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const r=this._getTransactionPostData(n.transaction);r.module="proxy",r.action="eth_call";try{return await this.fetch("proxy",r,!0)}catch(s){return this._checkError(n,s,n.transaction)}}case"estimateGas":{const r=this._getTransactionPostData(n.transaction);r.module="proxy",r.action="eth_estimateGas";try{return await this.fetch("proxy",r,!0)}catch(s){return this._checkError(n,s,n.transaction)}}}return super._perform(n)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(n){let r=this._getAddress(n);wD(r)&&(r=await r);try{const s=await this.fetch("contract",{action:"getabi",address:r}),i=JSON.parse(s);return new vn(r,i,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}}Ku=new WeakMap;function AD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const SD=AD().WebSocket;var ws,Ud,oo,Ba,ao;class yg{constructor(e,n){P(this,ws);P(this,Ud);P(this,oo);P(this,Ba);P(this,ao);E(this,ws,e),E(this,Ud,JSON.stringify(n)),E(this,oo,null),E(this,Ba,null),E(this,ao,null)}get filter(){return JSON.parse(h(this,Ud))}start(){E(this,oo,h(this,ws).send("eth_subscribe",this.filter).then(e=>(h(this,ws)._register(e,this),e)))}stop(){h(this,oo).then(e=>{h(this,ws).destroyed||h(this,ws).send("eth_unsubscribe",[e])}),E(this,oo,null)}pause(e){D(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),E(this,Ba,!!e)}resume(){E(this,Ba,null)}_handleMessage(e){if(h(this,oo)!=null&&h(this,Ba)===null){let n=h(this,ao);n==null?n=this._emit(h(this,ws),e):n=n.then(async()=>{await this._emit(h(this,ws),e)}),E(this,ao,n.then(()=>{h(this,ao)===n&&E(this,ao,null)}))}}async _emit(e,n){throw new Error("sub-classes must implemente this; _emit")}}ws=new WeakMap,Ud=new WeakMap,oo=new WeakMap,Ba=new WeakMap,ao=new WeakMap;class Z4 extends yg{constructor(e){super(e,["newHeads"])}async _emit(e,n){e.emit("block",parseInt(n.number))}}class eS extends yg{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,n){e.emit("pending",n)}}var Fd;class tS extends yg{constructor(n,r){super(n,["logs",r]);P(this,Fd);E(this,Fd,JSON.stringify(r))}get logFilter(){return JSON.parse(h(this,Fd))}async _emit(n,r){n.emit(this.logFilter,n._wrapLog(r,n._network))}}Fd=new WeakMap;var Ma,qu,co;class nS extends i1{constructor(n,r){const s=Object.assign({},r??{});S(s.batchMaxCount==null||s.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",r),s.batchMaxCount=1,s.staticNetwork==null&&(s.staticNetwork=!0);super(n,s);P(this,Ma);P(this,qu);P(this,co);E(this,Ma,new Map),E(this,qu,new Map),E(this,co,new Map)}_getSubscriber(n){switch(n.type){case"close":return new hd("close");case"block":return new Z4(this);case"pending":return new eS(this);case"event":return new tS(this,n.filter);case"orphan":if(n.filter.orphan==="drop-log")return new hd("drop-log")}return super._getSubscriber(n)}_register(n,r){h(this,qu).set(n,r);const s=h(this,co).get(n);if(s){for(const i of s)r._handleMessage(i);h(this,co).delete(n)}}async _send(n){S(!Array.isArray(n),"WebSocket does not support batch send","payload",n);const r=new Promise((s,i)=>{h(this,Ma).set(n.id,{payload:n,resolve:s,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(n)),[await r]}async _processMessage(n){const r=JSON.parse(n);if(r&&typeof r=="object"&&"id"in r){const s=h(this,Ma).get(r.id);if(s==null){this.emit("error",Ze("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:r}));return}h(this,Ma).delete(r.id),s.resolve(r)}else if(r&&r.method==="eth_subscription"){const s=r.params.subscription,i=h(this,qu).get(s);if(i)i._handleMessage(r.params.result);else{let o=h(this,co).get(s);o==null&&(o=[],h(this,co).set(s,o)),o.push(r.params.result)}}else{this.emit("error",Ze("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:r}));return}}async _write(n){throw new Error("sub-classes must override this")}}Ma=new WeakMap,qu=new WeakMap,co=new WeakMap;var La,Wr;class a1 extends nS{constructor(n,r,s){super(r,s);P(this,La);P(this,Wr);typeof n=="string"?(E(this,La,()=>new SD(n)),E(this,Wr,h(this,La).call(this))):typeof n=="function"?(E(this,La,n),E(this,Wr,n())):(E(this,La,null),E(this,Wr,n)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}},this.websocket.onmessage=i=>{this._processMessage(i.data)}}get websocket(){if(h(this,Wr)==null)throw new Error("websocket closed");return h(this,Wr)}async _write(n){this.websocket.send(n)}async destroy(){h(this,Wr)!=null&&(h(this,Wr).close(),E(this,Wr,null)),super.destroy()}}La=new WeakMap,Wr=new WeakMap;const lf="84842078b09946638c03157f83405213";function kD(t){switch(t){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}S(!1,"unsupported network","network",t)}class rS extends a1{constructor(n,r){const s=new bl(n,r),i=s._getConnection();D(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,s._network);k(this,"projectId");k(this,"projectSecret");J(this,{projectId:s.projectId,projectSecret:s.projectSecret})}isCommunityResource(){return this.projectId===lf}}class bl extends It{constructor(n,r,s){n==null&&(n="mainnet");const i=qe.from(n);r==null&&(r=lf),s==null&&(s=null);const o=bl.getRequest(i,r,s);super(o,i,{staticNetwork:i});k(this,"projectId");k(this,"projectSecret");J(this,{projectId:r,projectSecret:s})}_getProvider(n){try{return new bl(n,this.projectId,this.projectSecret)}catch{}return super._getProvider(n)}isCommunityResource(){return this.projectId===lf}static getWebSocketProvider(n,r){return new rS(n,r)}static getRequest(n,r,s){r==null&&(r=lf),s==null&&(s=null);const i=new Ot(`https://${kD(n.name)}/v3/${r}`);return i.allowGzip=!0,s&&i.setCredentials("",s),r===lf&&(i.retryFunc=async(o,a,c)=>(Go("InfuraProvider"),!0)),i}}const Kh="919b412a057b5e9c9b6dce193c5a60242d6efadb";function TD(t){switch(t){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}S(!1,"unsupported network","network",t)}class yd extends It{constructor(n,r){n==null&&(n="mainnet");const s=qe.from(n);r==null&&(r=Kh);const i=yd.getRequest(s,r);super(i,s,{staticNetwork:s});k(this,"token");J(this,{token:r})}_getProvider(n){try{return new yd(n,this.token)}catch{}return super._getProvider(n)}isCommunityResource(){return this.token===Kh}static getRequest(n,r){r==null&&(r=Kh);const s=new Ot(`https://${TD(n.name)}/${r}`);return s.allowGzip=!0,r===Kh&&(s.retryFunc=async(i,o,a)=>(Go("QuickNodeProvider"),!0)),s}}const ID=BigInt("1"),OD=BigInt("2");function CD(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}}function ND(t){return new Promise(e=>{setTimeout(e,t)})}function $b(){return new Date().getTime()}function zm(t){return JSON.stringify(t,(e,n)=>typeof n=="bigint"?{type:"bigint",value:n.toString()}:n)}const Fv={stallTimeout:400,priority:1,weight:1},$v={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function PD(t,e){for(;(t.blockNumber<0||t.blockNumber<e)&&(t._updateNumber||(t._updateNumber=(async()=>{try{const n=await t.provider.getBlockNumber();n>t.blockNumber&&(t.blockNumber=n)}catch(n){t.blockNumber=-2,t._lastFatalError=n,t._lastFatalErrorTimestamp=$b()}t._updateNumber=null})()),await t._updateNumber,t.outOfSync++,!t._lastFatalError););}function Tf(t){if(t==null)return"null";if(Array.isArray(t))return"["+t.map(Tf).join(",")+"]";if(typeof t=="object"&&typeof t.toJSON=="function")return Tf(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":case"number":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{"+e.map(n=>`${JSON.stringify(n)}:${Tf(t[n])}`).join(",")+"}"}}throw console.log("Could not serialize",t),new Error("Hmm...")}function Km(t){if("error"in t){const n=t.error;return{tag:Tf(n),value:n}}const e=t.result;return{tag:Tf(e),value:e}}function I0(t,e){const n=new Map;for(const{value:s,tag:i,weight:o}of e){const a=n.get(i)||{value:s,weight:0};a.weight+=o,n.set(i,a)}let r=null;for(const s of n.values())s.weight>=t&&(!r||s.weight>r.weight)&&(r=s);if(r)return r.value}function Wb(t,e){let n=0;const r=new Map;let s=null;const i=[];for(const{value:a,tag:c,weight:u}of e)if(a instanceof Error){const l=r.get(c)||{value:a,weight:0};l.weight+=u,r.set(c,l),(s==null||l.weight>s.weight)&&(s=l)}else i.push(BigInt(a)),n+=u;if(n<t)return s&&s.weight>=t?s.value:void 0;i.sort((a,c)=>a<c?-1:c>a?1:0);const o=Math.floor(i.length/2);return i.length%2?i[o]:(i[o-1]+i[o]+ID)/OD}function qm(t,e){const n=I0(t,e);if(n!==void 0)return n;for(const r of e)if(r.value)return r.value}function RD(t,e){if(t===1)return he(Wb(t,e),"%internal");const n=new Map,r=(o,a)=>{const c=n.get(o)||{result:o,weight:0};c.weight+=a,n.set(o,c)};for(const{weight:o,value:a}of e){const c=he(a);r(c-1,o),r(c,o),r(c+1,o)}let s=0,i;for(const{weight:o,result:a}of n.values())o>=t&&(o>s||i!=null&&o===s&&a>i)&&(s=o,i=a);return i}var Pn,ei,Qu,Fn,iS,Hb,oS,aS,jb;class sS extends yl{constructor(n,r,s){super(r,s);P(this,Fn);k(this,"quorum");k(this,"eventQuorum");k(this,"eventWorkers");P(this,Pn);P(this,ei);P(this,Qu);E(this,Pn,n.map(i=>i instanceof yl?Object.assign({provider:i},Fv,$v):Object.assign({},Fv,i,$v))),E(this,ei,-2),E(this,Qu,null),s&&s.quorum!=null?this.quorum=s.quorum:this.quorum=Math.ceil(h(this,Pn).reduce((i,o)=>(i+=o.weight,i),0)/2),this.eventQuorum=1,this.eventWorkers=1,S(this.quorum<=h(this,Pn).reduce((i,o)=>i+o.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return h(this,Pn).map(n=>{const r=Object.assign({},n);for(const s in r)s[0]==="_"&&delete r[s];return r})}async _detectNetwork(){return qe.from(se(await this._perform({method:"chainId"})))}async _translatePerform(n,r){switch(r.method){case"broadcastTransaction":return await n.broadcastTransaction(r.signedTransaction);case"call":return await n.call(Object.assign({},r.transaction,{blockTag:r.blockTag}));case"chainId":return(await n.getNetwork()).chainId;case"estimateGas":return await n.estimateGas(r.transaction);case"getBalance":return await n.getBalance(r.address,r.blockTag);case"getBlock":{const s="blockHash"in r?r.blockHash:r.blockTag;return await n.getBlock(s,r.includeTransactions)}case"getBlockNumber":return await n.getBlockNumber();case"getCode":return await n.getCode(r.address,r.blockTag);case"getGasPrice":return(await n.getFeeData()).gasPrice;case"getPriorityFee":return(await n.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await n.getLogs(r.filter);case"getStorage":return await n.getStorage(r.address,r.position,r.blockTag);case"getTransaction":return await n.getTransaction(r.hash);case"getTransactionCount":return await n.getTransactionCount(r.address,r.blockTag);case"getTransactionReceipt":return await n.getTransactionReceipt(r.hash);case"getTransactionResult":return await n.getTransactionResult(r.hash)}}async _perform(n){if(n.method==="broadcastTransaction"){const o=h(this,Pn).map(u=>null),a=h(this,Pn).map(async({provider:u,weight:l},f)=>{try{const d=await u._perform(n);o[f]=Object.assign(Km({result:d}),{weight:l})}catch(d){o[f]=Object.assign(Km({error:d}),{weight:l})}});for(;;){const u=o.filter(d=>d!=null);for(const{value:d}of u)if(!(d instanceof Error))return d;const l=I0(this.quorum,o.filter(d=>d!=null));if(kt(l,"INSUFFICIENT_FUNDS"))throw l;const f=a.filter((d,p)=>o[p]==null);if(f.length===0)break;await Promise.race(f)}const c=qm(this.quorum,o);if(D(c!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:n,results:o.map(zm)}}),c instanceof Error)throw c;return c}await W(this,Fn,oS).call(this);const r=new Set;let s=0;for(;;){const o=W(this,Fn,Hb).call(this,r,n);if(o==null||(s+=o.config.weight,s>=this.quorum))break}const i=await W(this,Fn,jb).call(this,r,n);for(const o of r)o.perform&&o.result==null&&o.config.lateResponses++;return i}async destroy(){for(const{provider:n}of h(this,Pn))n.destroy();super.destroy()}}Pn=new WeakMap,ei=new WeakMap,Qu=new WeakMap,Fn=new WeakSet,iS=function(n){const r=Array.from(n).map(i=>i.config),s=h(this,Pn).slice();CD(s),s.sort((i,o)=>i.priority-o.priority);for(const i of s)if(!i._lastFatalError&&r.indexOf(i)===-1)return i;return null},Hb=function(n,r){const s=W(this,Fn,iS).call(this,n);if(s==null)return null;const i={config:s,result:null,didBump:!1,perform:null,staller:null},o=$b();return i.perform=(async()=>{try{s.requests++;const c=await this._translatePerform(s.provider,r);i.result={result:c}}catch(c){s.errorResponses++,i.result={error:c}}const a=$b()-o;s._totalTime+=a,s.rollingDuration=.95*s.rollingDuration+.05*a,i.perform=null})(),i.staller=(async()=>{await ND(s.stallTimeout),i.staller=null})(),n.add(i),i},oS=async function(){let n=h(this,Qu);if(!n){const r=[];h(this,Pn).forEach(s=>{r.push((async()=>{await PD(s,0),s._lastFatalError||(s._network=await s.provider.getNetwork())})())}),E(this,Qu,n=(async()=>{await Promise.all(r);let s=null;for(const i of h(this,Pn)){if(i._lastFatalError)continue;const o=i._network;s==null?s=o.chainId:o.chainId!==s&&D(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await n},aS=async function(n,r){const s=[];for(const i of n)if(i.result!=null){const{tag:o,value:a}=Km(i.result);s.push({tag:o,value:a,weight:i.config.weight})}if(!(s.reduce((i,o)=>i+o.weight,0)<this.quorum)){switch(r.method){case"getBlockNumber":{h(this,ei)===-2&&E(this,ei,Math.ceil(he(Wb(this.quorum,h(this,Pn).filter(o=>!o._lastFatalError).map(o=>({value:o.blockNumber,tag:he(o.blockNumber).toString(),weight:o.weight}))))));const i=RD(this.quorum,s);return i===void 0?void 0:(i>h(this,ei)&&E(this,ei,i),h(this,ei))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return Wb(this.quorum,s);case"getBlock":return"blockTag"in r&&r.blockTag==="pending"?qm(this.quorum,s):I0(this.quorum,s);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return I0(this.quorum,s);case"broadcastTransaction":return qm(this.quorum,s)}D(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${zm(r.method)})`})}},jb=async function(n,r){if(n.size===0)throw new Error("no runners?!");const s=[];let i=0;for(const a of n){if(a.perform&&s.push(a.perform),a.staller){s.push(a.staller);continue}a.didBump||(a.didBump=!0,i++)}const o=await W(this,Fn,aS).call(this,n,r);if(o!==void 0){if(o instanceof Error)throw o;return o}for(let a=0;a<i;a++)W(this,Fn,Hb).call(this,n,r);return D(s.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:r,results:Array.from(n).map(a=>zm(a.result))}}),await Promise.race(s),await W(this,Fn,jb).call(this,n,r)};function _D(t){return t&&typeof t.send=="function"&&typeof t.close=="function"}const BD="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function MD(t,e){e==null&&(e={});const n=o=>e[o]==="-"?!1:typeof e.exclusive=="string"?o===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(o)!==-1:!0;if(typeof t=="string"&&t.match(/^https?:/))return new It(t);if(typeof t=="string"&&t.match(/^wss?:/)||_D(t))return new a1(t);let r=null;try{r=qe.from(t)}catch{}const s=[];if(n("publicPolygon")&&r&&(r.name==="matic"?s.push(new It("https://polygon-rpc.com/",r,{staticNetwork:r})):r.name==="matic-amoy"&&s.push(new It("https://rpc-amoy.polygon.technology/",r,{staticNetwork:r}))),n("alchemy"))try{s.push(new gd(t,e.alchemy))}catch{}if(n("ankr")&&e.ankr!=null)try{s.push(new pd(t,e.ankr))}catch{}if(n("chainstack"))try{s.push(new md(t,e.chainstack))}catch{}if(n("cloudflare"))try{s.push(new J4(t))}catch{}if(n("etherscan"))try{s.push(new X4(t,e.etherscan))}catch{}if(n("infura"))try{let o=e.infura,a;typeof o=="object"&&(a=o.projectSecret,o=o.projectId),s.push(new bl(t,o,a))}catch{}if(n("quicknode"))try{let o=e.quicknode;s.push(new yd(t,o))}catch{}if(D(s.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),s.length===1)return s[0];let i=Math.floor(s.length/2);return i>2&&(i=2),r&&BD.indexOf(r.name)!==-1&&(i=1),e&&e.quorum&&(i=e.quorum),new sS(s,void 0,{quorum:i})}var uo,Da;const h2=class h2 extends Pl{constructor(n){super(n.provider);k(this,"signer");P(this,uo);P(this,Da);J(this,{signer:n}),E(this,uo,null),E(this,Da,0)}async getAddress(){return this.signer.getAddress()}connect(n){return new h2(this.signer.connect(n))}async getNonce(n){if(n==="pending"){h(this,uo)==null&&E(this,uo,super.getNonce("pending"));const r=h(this,Da);return await h(this,uo)+r}return super.getNonce(n)}increment(){fc(this,Da)._++}reset(){E(this,Da,0),E(this,uo,null)}async sendTransaction(n){const r=this.getNonce("pending");return this.increment(),n=await this.signer.populateTransaction(n),n.nonce=await r,await this.signer.sendTransaction(n)}signTransaction(n){return this.signer.signTransaction(n)}signMessage(n){return this.signer.signMessage(n)}signTypedData(n,r,s){return this.signer.signTypedData(n,r,s)}};uo=new WeakMap,Da=new WeakMap;let Gb=h2;var Ju;class LD extends Q4{constructor(n,r,s){const i=Object.assign({},s??{},{batchMaxCount:1});S(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,i);P(this,Ju);E(this,Ju,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const u=await n.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const l=new Error(u.message);throw l.code=u.code,l.data=u.data,l.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}})}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){S(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await h(this,Ju).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(s=>s.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await h(this,Ju).call(this,"eth_requestAccounts",[])}catch(r){const s=r.payload;throw this.getRpcError(s,{id:s.id,error:r})}return await super.getSigner(n)}}Ju=new WeakMap;const qh="62e1ad51b37b8e00394bda3b";function DD(t){switch(t){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}S(!1,"unsupported network","network",t)}class xp extends It{constructor(n,r,s){n==null&&(n="mainnet");const i=qe.from(n);r==null&&(r=qh),s==null&&(s=null);const o={staticNetwork:i},a=xp.getRequest(i,r,s);super(a,i,o);k(this,"applicationId");k(this,"applicationSecret");J(this,{applicationId:r,applicationSecret:s})}_getProvider(n){try{return new xp(n,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(n)}static getRequest(n,r,s){r==null&&(r=qh);const i=new Ot(`https://${DD(n.name)}/v1/lb/${r}`);return i.allowGzip=!0,s&&i.setCredentials("",s),r===qh&&(i.retryFunc=async(o,a,c)=>(Go("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===qh}}const UD=void 0;var Yu;const p2=class p2 extends Pl{constructor(n,r){super(r);k(this,"address");P(this,Yu);S(n&&typeof n.sign=="function","invalid private key","privateKey","[ REDACTED ]"),E(this,Yu,n);const s=Cl(this.signingKey.publicKey);J(this,{address:s})}get signingKey(){return h(this,Yu)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(n){return new p2(h(this,Yu),n)}async signTransaction(n){const{to:r,from:s}=await ft({to:n.to?$t(n.to,this.provider):void 0,from:n.from?$t(n.from,this.provider):void 0});r!=null&&(n.to=r),s!=null&&(n.from=s),n.from!=null&&(S(le(n.from)===this.address,"transaction from address mismatch","tx.from",n.from),delete n.from);const i=tc.from(n);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(n){return this.signMessageSync(n)}signMessageSync(n){return this.signingKey.sign(fg(n)).serialized}async signTypedData(n,r,s){const i=await Zr.resolveNames(n,r,s,async o=>{D(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});const a=await this.provider.resolveName(o);return D(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(Zr.hash(i.domain,r,i.value)).serialized}};Yu=new WeakMap;let bd=p2;const wp=" !#$%&'()*+,-./<=>?@[]^_`{|}~",FD=/^[a-z]*$/i;function Wv(t,e){let n=97;return t.reduce((r,s)=>(s===e?n++:s.match(FD)?r.push(String.fromCharCode(n)+s):(n=97,r.push(s)),r),[])}function $D(t,e){for(let s=wp.length-1;s>=0;s--)t=t.split(wp[s]).join(e.substring(2*s,2*s+2));const n=[],r=t.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,o,a)=>{if(o)for(let c=parseInt(o);c>=0;c--)n.push(";");else n.push(i.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return Wv(Wv(n,";"),":")}function cS(t){return S(t[0]==="0","unsupported auwl data","data",t),$D(t.substring(1+2*wp.length),t.substring(1,1+2*wp.length))}class uS{constructor(e){k(this,"locale");J(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var Xu,$d,Ua,Wd,Vb;class c1 extends uS{constructor(n,r,s){super(n);P(this,Wd);P(this,Xu);P(this,$d);P(this,Ua);E(this,Xu,r),E(this,$d,s),E(this,Ua,null)}get _data(){return h(this,Xu)}_decodeWords(){return cS(h(this,Xu))}getWord(n){const r=W(this,Wd,Vb).call(this);return S(n>=0&&n<r.length,`invalid word index: ${n}`,"index",n),r[n]}getWordIndex(n){return W(this,Wd,Vb).call(this).indexOf(n)}}Xu=new WeakMap,$d=new WeakMap,Ua=new WeakMap,Wd=new WeakSet,Vb=function(){if(h(this,Ua)==null){const n=this._decodeWords();if(dn(n.join(`
`)+`
`)!==h(this,$d))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);E(this,Ua,n)}return h(this,Ua)};const WD="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",HD="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let Qm=null;class bi extends c1{constructor(){super("en",WD,HD)}static wordlist(){return Qm==null&&(Qm=new bi),Qm}}function lS(t){return(1<<t)-1<<8-t&255}function jD(t){return(1<<t)-1&255}function Jm(t,e){Sw("NFKD"),e==null&&(e=bi.wordlist());const n=e.split(t);S(n.length%3===0&&n.length>=12&&n.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const r=new Uint8Array(Math.ceil(11*n.length/8));let s=0;for(let u=0;u<n.length;u++){let l=e.getWordIndex(n[u].normalize("NFKD"));S(l>=0,`invalid mnemonic word at index ${u}`,"mnemonic","[ REDACTED ]");for(let f=0;f<11;f++)l&1<<10-f&&(r[s>>3]|=1<<7-s%8),s++}const i=32*n.length/3,o=n.length/3,a=lS(o),c=$(Sn(r.slice(0,i/8)))[0]&a;return S(c===(r[r.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),L(r.slice(0,i/8))}function Ym(t,e){S(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=bi.wordlist());const n=[0];let r=11;for(let o=0;o<t.length;o++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=t[o],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=t[o]>>8-r,n.push(t[o]&jD(8-r)),r+=3);const s=t.length/4,i=parseInt(Sn(t).substring(2,4),16)&lS(s);return n[n.length-1]<<=s,n[n.length-1]|=i>>8-s,e.join(n.map(o=>e.getWord(o)))}const Xm={};class sc{constructor(e,n,r,s,i){k(this,"phrase");k(this,"password");k(this,"wordlist");k(this,"entropy");s==null&&(s=""),i==null&&(i=bi.wordlist()),wi(e,Xm,"Mnemonic"),J(this,{phrase:r,password:s,wordlist:i,entropy:n})}computeSeed(){const e=ht("mnemonic"+this.password,"NFKD");return Ps(ht(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,n,r){const s=Jm(e,r);return e=Ym($(s),r),new sc(Xm,s,e,n,r)}static fromEntropy(e,n,r){const s=$(e,"entropy"),i=Ym(s,r);return new sc(Xm,L(s),i,n,r)}static entropyToPhrase(e,n){const r=$(e,"entropy");return Ym(r,n)}static phraseToEntropy(e,n){return Jm(e,n)}static isValidMnemonic(e,n){try{return Jm(e,n),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var jt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Zm=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},O0,ar,cs;const GD={16:10,24:12,32:14},VD=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],rr=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Qh=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],zD=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],KD=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],qD=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],QD=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],JD=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],YD=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],XD=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],ZD=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],eU=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],tU=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],nU=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],rU=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function ey(t){const e=[];for(let n=0;n<t.length;n+=4)e.push(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return e}class u1{get key(){return jt(this,O0,"f").slice()}constructor(e){if(O0.set(this,void 0),ar.set(this,void 0),cs.set(this,void 0),!(this instanceof u1))throw Error("AES must be instanitated with `new`");Zm(this,O0,new Uint8Array(e),"f");const n=GD[this.key.length];if(n==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Zm(this,cs,[],"f"),Zm(this,ar,[],"f");for(let l=0;l<=n;l++)jt(this,cs,"f").push([0,0,0,0]),jt(this,ar,"f").push([0,0,0,0]);const r=(n+1)*4,s=this.key.length/4,i=ey(this.key);let o;for(let l=0;l<s;l++)o=l>>2,jt(this,cs,"f")[o][l%4]=i[l],jt(this,ar,"f")[n-o][l%4]=i[l];let a=0,c=s,u;for(;c<r;){if(u=i[s-1],i[0]^=rr[u>>16&255]<<24^rr[u>>8&255]<<16^rr[u&255]<<8^rr[u>>24&255]^VD[a]<<24,a+=1,s!=8)for(let p=1;p<s;p++)i[p]^=i[p-1];else{for(let p=1;p<s/2;p++)i[p]^=i[p-1];u=i[s/2-1],i[s/2]^=rr[u&255]^rr[u>>8&255]<<8^rr[u>>16&255]<<16^rr[u>>24&255]<<24;for(let p=s/2+1;p<s;p++)i[p]^=i[p-1]}let l=0,f,d;for(;l<s&&c<r;)f=c>>2,d=c%4,jt(this,cs,"f")[f][d]=i[l],jt(this,ar,"f")[n-f][d]=i[l++],c++}for(let l=1;l<n;l++)for(let f=0;f<4;f++)u=jt(this,ar,"f")[l][f],jt(this,ar,"f")[l][f]=eU[u>>24&255]^tU[u>>16&255]^nU[u>>8&255]^rU[u&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const n=jt(this,cs,"f").length-1,r=[0,0,0,0];let s=ey(e);for(let a=0;a<4;a++)s[a]^=jt(this,cs,"f")[0][a];for(let a=1;a<n;a++){for(let c=0;c<4;c++)r[c]=zD[s[c]>>24&255]^KD[s[(c+1)%4]>>16&255]^qD[s[(c+2)%4]>>8&255]^QD[s[(c+3)%4]&255]^jt(this,cs,"f")[a][c];s=r.slice()}const i=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=jt(this,cs,"f")[n][a],i[4*a]=(rr[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(rr[s[(a+1)%4]>>16&255]^o>>16)&255,i[4*a+2]=(rr[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(rr[s[(a+3)%4]&255]^o)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const n=jt(this,ar,"f").length-1,r=[0,0,0,0];let s=ey(e);for(let a=0;a<4;a++)s[a]^=jt(this,ar,"f")[0][a];for(let a=1;a<n;a++){for(let c=0;c<4;c++)r[c]=JD[s[c]>>24&255]^YD[s[(c+3)%4]>>16&255]^XD[s[(c+2)%4]>>8&255]^ZD[s[(c+1)%4]&255]^jt(this,ar,"f")[a][c];s=r.slice()}const i=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=jt(this,ar,"f")[n][a],i[4*a]=(Qh[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(Qh[s[(a+3)%4]>>16&255]^o>>16)&255,i[4*a+2]=(Qh[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(Qh[s[(a+1)%4]&255]^o)&255;return i}}O0=new WeakMap,ar=new WeakMap,cs=new WeakMap;class fS{constructor(e,n,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new u1(n)},name:{enumerable:!0,value:e}})}}var Jh=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},yc=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ff,Ls;class l1 extends fS{constructor(e,n){if(super("ECC",e,l1),ff.set(this,void 0),Ls.set(this,void 0),n){if(n.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Jh(this,ff,new Uint8Array(n),"f")}else Jh(this,ff,new Uint8Array(16),"f");Jh(this,Ls,this.iv,"f")}get iv(){return new Uint8Array(yc(this,ff,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const n=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let s=0;s<16;s++)yc(this,Ls,"f")[s]^=e[r+s];Jh(this,Ls,this.aes.encrypt(yc(this,Ls,"f")),"f"),n.set(yc(this,Ls,"f"),r)}return n}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const n=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){const s=this.aes.decrypt(e.subarray(r,r+16));for(let i=0;i<16;i++)n[r+i]=s[i]^yc(this,Ls,"f")[i],yc(this,Ls,"f")[i]=e[r+i]}return n}}ff=new WeakMap,Ls=new WeakMap;var bc=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},sr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},df,Xo,cr;class xl extends fS{constructor(e,n){super("CTR",e,xl),df.set(this,void 0),Xo.set(this,void 0),cr.set(this,void 0),bc(this,cr,new Uint8Array(16),"f"),sr(this,cr,"f").fill(0),bc(this,df,sr(this,cr,"f"),"f"),bc(this,Xo,16,"f"),n==null&&(n=1),typeof n=="number"?this.setCounterValue(n):this.setCounterBytes(n)}get counter(){return new Uint8Array(sr(this,cr,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let n=15;n>=0;--n)sr(this,cr,"f")[n]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");sr(this,cr,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(sr(this,cr,"f")[e]===255)sr(this,cr,"f")[e]=0;else{sr(this,cr,"f")[e]++;break}}encrypt(e){var n,r;const s=new Uint8Array(e);for(let i=0;i<s.length;i++)sr(this,Xo,"f")===16&&(bc(this,df,this.aes.encrypt(sr(this,cr,"f")),"f"),bc(this,Xo,0,"f"),this.increment()),s[i]^=sr(this,df,"f")[bc(this,Xo,(r=sr(this,Xo,"f"),n=r++,r),"f"),n];return s}decrypt(e){return this.encrypt(e)}}df=new WeakMap,Xo=new WeakMap,cr=new WeakMap;function sU(t){if(t.length<16)throw new TypeError("PKCS#7 invalid length");const e=t[t.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const n=t.length-e;for(let r=0;r<e;r++)if(t[n+r]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(t.subarray(0,n))}function dS(t){return typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t),Dt(t)}function ql(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function oh(t){return typeof t=="string"?ht(t,"NFKC"):Dt(t)}function gt(t,e){const n=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);S(n!=null,"invalid path","path",e);const r=n[1],s=n[3],i=n[4]==="!";let o=t;for(const a of r.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let c=null;for(const u in o)if(u.toLowerCase()===a){c=o[u];break}o=c}else o=null;if(o==null)break}if(S(!i||o!=null,"missing required value","path",r),s&&o!=null){if(s==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(s==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(s==="data"&&typeof o=="string")return dS(o);if(s==="array"&&Array.isArray(o)||s===typeof o)return o;S(!1,`wrong type found for ${s} `,"path",r)}return o}const hS="m/44'/60'/0'/0/0";function zb(t){try{const e=JSON.parse(t);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function iU(t,e,n){if(gt(t,"crypto.cipher:string")==="aes-128-ctr"){const s=gt(t,"crypto.cipherparams.iv:data!"),i=new xl(e,s);return L(i.decrypt(n))}D(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function Ep(t,e){const n=$(e),r=gt(t,"crypto.ciphertext:data!"),s=L(me(Ae([n.slice(16,32),r]))).substring(2);S(s===gt(t,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=iU(t,n.slice(0,16),r),o=Cl(i);if(t.address){let u=t.address.toLowerCase();u.startsWith("0x")||(u="0x"+u),S(le(u)===o,"keystore address/privateKey mismatch","address",t.address)}const a={address:o,privateKey:i};if(gt(t,"x-ethers.version:string")==="0.1"){const u=n.slice(32,64),l=gt(t,"x-ethers.mnemonicCiphertext:data!"),f=gt(t,"x-ethers.mnemonicCounter:data!"),d=new xl(u,f);a.mnemonic={path:gt(t,"x-ethers.path:string")||hS,locale:gt(t,"x-ethers.locale:string")||"en",entropy:L($(d.decrypt(l)))}}return a}function pS(t){const e=gt(t,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const n=gt(t,"crypto.kdfparams.salt:data!"),r=gt(t,"crypto.kdfparams.n:int!"),s=gt(t,"crypto.kdfparams.r:int!"),i=gt(t,"crypto.kdfparams.p:int!");S(r>0&&(r&r-1)===0,"invalid kdf.N","kdf.N",r),S(s>0&&i>0,"invalid kdf","kdf",e);const o=gt(t,"crypto.kdfparams.dklen:int!");return S(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:n,N:r,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const n=gt(t,"crypto.kdfparams.salt:data!"),r=gt(t,"crypto.kdfparams.prf:string!"),s=r.split("-").pop();S(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",r);const i=gt(t,"crypto.kdfparams.c:int!"),o=gt(t,"crypto.kdfparams.dklen:int!");return S(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:n,count:i,dkLen:o,algorithm:s}}}S(!1,"unsupported key-derivation function","kdf",e)}function gS(t,e){const n=JSON.parse(t),r=oh(e),s=pS(n);if(s.name==="pbkdf2"){const{salt:f,count:d,dkLen:p,algorithm:y}=s,g=Ps(r,f,d,p,y);return Ep(n,g)}D(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:i,N:o,r:a,p:c,dkLen:u}=s,l=Wo(r,i,o,a,c,u);return Ep(n,l)}function Hv(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function mS(t,e,n){const r=JSON.parse(t),s=oh(e),i=pS(r);if(i.name==="pbkdf2"){n&&(n(0),await Hv(0));const{salt:d,count:p,dkLen:y,algorithm:g}=i,A=Ps(s,d,p,y,g);return n&&(n(1),await Hv(0)),Ep(r,A)}D(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:o,N:a,r:c,p:u,dkLen:l}=i,f=await $o(s,o,a,c,u,l,n);return Ep(r,f)}function yS(t){const e=t.salt!=null?$(t.salt,"options.salt"):ln(32);let n=1<<17,r=8,s=1;return t.scrypt&&(t.scrypt.N&&(n=t.scrypt.N),t.scrypt.r&&(r=t.scrypt.r),t.scrypt.p&&(s=t.scrypt.p)),S(typeof n=="number"&&n>0&&Number.isSafeInteger(n)&&(BigInt(n)&BigInt(n-1))===BigInt(0),"invalid scrypt N parameter","options.N",n),S(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),S(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:n,r,p:s}}function bS(t,e,n,r){const s=$(n.privateKey,"privateKey"),i=r.iv!=null?$(r.iv,"options.iv"):ln(16);S(i.length===16,"invalid options.iv length","options.iv",r.iv);const o=r.uuid!=null?$(r.uuid,"options.uuid"):ln(16);S(o.length===16,"invalid options.uuid length","options.uuid",r.iv);const a=t.slice(0,16),c=t.slice(16,32),u=new xl(a,i),l=$(u.encrypt(s)),f=me(Ae([c,l])),d={address:n.address.substring(2).toLowerCase(),id:R8(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:L(i).substring(2)},ciphertext:L(l).substring(2),kdf:"scrypt",kdfparams:{salt:L(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:f.substring(2)}};if(n.mnemonic){const p=r.client!=null?r.client:`ethers/${vw}`,y=n.mnemonic.path||hS,g=n.mnemonic.locale||"en",A=t.slice(32,64),m=$(n.mnemonic.entropy,"account.mnemonic.entropy"),x=ln(16),w=new xl(A,x),C=$(w.encrypt(m)),O=new Date,M="UTC--"+(O.getUTCFullYear()+"-"+ql(O.getUTCMonth()+1,2)+"-"+ql(O.getUTCDate(),2)+"T"+ql(O.getUTCHours(),2)+"-"+ql(O.getUTCMinutes(),2)+"-"+ql(O.getUTCSeconds(),2)+".0Z")+"--"+d.address;d["x-ethers"]={client:p,gethFilename:M,path:y,locale:g,mnemonicCounter:L(x).substring(2),mnemonicCiphertext:L(C).substring(2),version:"0.1"}}return JSON.stringify(d)}function f1(t,e,n){n==null&&(n={});const r=oh(e),s=yS(n),i=Wo(r,s.salt,s.N,s.r,s.p,64);return bS($(i),s,t,n)}async function d1(t,e,n){n==null&&(n={});const r=oh(e),s=yS(n),i=await $o(r,s.salt,s.N,s.r,s.p,64,n.progressCallback);return bS($(i),s,t,n)}const C0="m/44'/60'/0'/0/0",oU=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),To=2147483648,aU=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),cU="0123456789abcdef";function vp(t,e){let n="";for(;t;)n=cU[t%16]+n,t=Math.trunc(t/16);for(;n.length<e*2;)n="0"+n;return"0x"+n}function Kb(t){const e=$(t),n=Ve(Sn(Sn(e)),0,4),r=Ae([e,n]);return kw(r)}const ls={};function xS(t,e,n,r){const s=new Uint8Array(37);t&To?(D(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set($(r),1)):s.set($(n));for(let o=24;o>=0;o-=8)s[33+(o>>3)]=t>>24-o&255;const i=$(Uo("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function wS(t,e){const n=e.split("/");S(n.length>0,"invalid path","path",e),n[0]==="m"&&(S(t.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${t.depth}`,"path",e),n.shift());let r=t;for(let s=0;s<n.length;s++){const i=n[s];if(i.match(/^[0-9]+'$/)){const o=parseInt(i.substring(0,i.length-1));S(o<To,"invalid path index",`path[${s}]`,i),r=r.deriveChild(To+o)}else if(i.match(/^[0-9]+$/)){const o=parseInt(i);S(o<To,"invalid path index",`path[${s}]`,i),r=r.deriveChild(o)}else S(!1,"invalid path component",`path[${s}]`,i)}return r}var Hd,qb,Fa,hf;const Rr=class Rr extends bd{constructor(n,r,s,i,o,a,c,u,l){super(r,l);P(this,Hd);k(this,"publicKey");k(this,"fingerprint");k(this,"parentFingerprint");k(this,"mnemonic");k(this,"chainCode");k(this,"path");k(this,"index");k(this,"depth");wi(n,ls,"HDNodeWallet"),J(this,{publicKey:r.compressedPublicKey});const f=Ve(Fo(Sn(this.publicKey)),0,4);J(this,{parentFingerprint:s,fingerprint:f,chainCode:i,path:o,index:a,depth:c}),J(this,{mnemonic:u})}connect(n){return new Rr(ls,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,n)}async encrypt(n,r){return await d1(W(this,Hd,qb).call(this),n,{progressCallback:r})}encryptSync(n){return f1(W(this,Hd,qb).call(this),n)}get extendedKey(){return D(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Kb(Ae(["0x0488ADE4",vp(this.depth,1),this.parentFingerprint,vp(this.index,4),this.chainCode,Ae(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new wl(ls,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(n){const r=he(n,"index");S(r<=4294967295,"invalid index","index",r);let s=this.path;s&&(s+="/"+(r&2147483647),r&To&&(s+="'"));const{IR:i,IL:o}=xS(r,this.chainCode,this.publicKey,this.privateKey),a=new Jr(Xn((Ol(o)+BigInt(this.privateKey))%aU,32));return new Rr(ls,a,this.fingerprint,L(i),s,r,this.depth+1,this.mnemonic,this.provider)}derivePath(n){return wS(this,n)}static fromExtendedKey(n){const r=Ut(m8(n));S(r.length===82||Kb(r.slice(0,78))===n,"invalid extended key","extendedKey","[ REDACTED ]");const s=r[4],i=L(r.slice(5,9)),o=parseInt(L(r.slice(9,13)).substring(2),16),a=L(r.slice(13,45)),c=r.slice(45,78);switch(L(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const u=L(c);return new wl(ls,Cl(u),u,i,a,null,o,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new Rr(ls,new Jr(c.slice(1)),i,a,null,o,s,null,null)}S(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(n,r,s){var o;n==null&&(n=""),r==null&&(r=C0),s==null&&(s=bi.wordlist());const i=sc.fromEntropy(ln(16),n,s);return W(o=Rr,Fa,hf).call(o,i.computeSeed(),i).derivePath(r)}static fromMnemonic(n,r){var s;return r||(r=C0),W(s=Rr,Fa,hf).call(s,n.computeSeed(),n).derivePath(r)}static fromPhrase(n,r,s,i){var a;r==null&&(r=""),s==null&&(s=C0),i==null&&(i=bi.wordlist());const o=sc.fromPhrase(n,r,i);return W(a=Rr,Fa,hf).call(a,o.computeSeed(),o).derivePath(s)}static fromSeed(n){var r;return W(r=Rr,Fa,hf).call(r,n,null)}};Hd=new WeakSet,qb=function(){const n={address:this.address,privateKey:this.privateKey},r=this.mnemonic;return this.path&&r&&r.wordlist.locale==="en"&&r.password===""&&(n.mnemonic={path:this.path,locale:"en",entropy:r.entropy}),n},Fa=new WeakSet,hf=function(n,r){S(Cs(n),"invalid seed","seed","[REDACTED]");const s=$(n,"seed");S(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");const i=$(Uo("sha512",oU,s)),o=new Jr(L(i.slice(0,32)));return new Rr(ls,o,"0x00000000",L(i.slice(32)),"m",0,0,r,null)},P(Rr,Fa);let nu=Rr;class wl extends bp{constructor(n,r,s,i,o,a,c,u,l){super(r,l);k(this,"publicKey");k(this,"fingerprint");k(this,"parentFingerprint");k(this,"chainCode");k(this,"path");k(this,"index");k(this,"depth");wi(n,ls,"HDNodeVoidWallet"),J(this,{publicKey:s});const f=Ve(Fo(Sn(s)),0,4);J(this,{publicKey:s,fingerprint:f,parentFingerprint:i,chainCode:o,path:a,index:c,depth:u})}connect(n){return new wl(ls,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,n)}get extendedKey(){return D(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Kb(Ae(["0x0488B21E",vp(this.depth,1),this.parentFingerprint,vp(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(n){const r=he(n,"index");S(r<=4294967295,"invalid index","index",r);let s=this.path;s&&(s+="/"+(r&2147483647),r&To&&(s+="'"));const{IR:i,IL:o}=xS(r,this.chainCode,this.publicKey,null),a=Jr.addPoints(o,this.publicKey,!0),c=Cl(a);return new wl(ls,c,a,this.fingerprint,L(i),s,r,this.depth+1,this.provider)}derivePath(n){return wS(this,n)}}function uU(t){const e=he(t,"index");return S(e>=0&&e<To,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function lU(t){const e=he(t,"index");return S(e>=0&&e<To,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}function Qb(t){try{if(JSON.parse(t).encseed)return!0}catch{}return!1}function Jb(t,e){const n=JSON.parse(t),r=oh(e),s=le(gt(n,"ethaddr:string!")),i=dS(gt(n,"encseed:string!"));S(i&&i.length%16===0,"invalid encseed","json",t);const o=$(Ps(r,r,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),u=new l1(o,a),l=sU($(u.decrypt(c)));let f="";for(let d=0;d<l.length;d++)f+=String.fromCharCode(l[d]);return{address:s,privateKey:dn(f)}}function jv(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}var jd,ks,Yb;let ES=(ks=class extends bd{constructor(e,n){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let r=typeof e=="string"?new Jr(e):e;super(r,n)}connect(e){return new ks(this.signingKey,e)}async encrypt(e,n){const r={address:this.address,privateKey:this.privateKey};return await d1(r,e,{progressCallback:n})}encryptSync(e){const n={address:this.address,privateKey:this.privateKey};return f1(n,e)}static async fromEncryptedJson(e,n,r){var i;let s=null;return zb(e)?s=await mS(e,n,r):Qb(e)&&(r&&(r(0),await jv(0)),s=Jb(e,n),r&&(r(1),await jv(0))),W(i=ks,jd,Yb).call(i,s)}static fromEncryptedJsonSync(e,n){var s;let r=null;return zb(e)?r=gS(e,n):Qb(e)?r=Jb(e,n):S(!1,"invalid JSON wallet","json","[ REDACTED ]"),W(s=ks,jd,Yb).call(s,r)}static createRandom(e){const n=nu.createRandom();return e?n.connect(e):n}static fromPhrase(e,n){const r=nu.fromPhrase(e);return n?r.connect(n):r}},jd=new WeakSet,Yb=function(e){if(S(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const r=sc.fromEntropy(e.mnemonic.entropy),s=nu.fromMnemonic(r,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const n=new ks(e.privateKey);return S(n.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),n},P(ks,jd),ks);const fU=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function dU(t,e){const n=(1<<t)-1,r=[];let s=0,i=0,o=0;for(let a=0;a<e.length;a++)for(s=s<<6|fU.indexOf(e[a]),i+=6;i>=t;){const c=s>>i-t;s&=(1<<i-t)-1,i-=t,c===0?o+=n:(r.push(c+o),o=0)}return r}function hU(t,e){let n=cS(t).join(",");return e.split(/,/g).forEach(r=>{const s=r.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);S(s!==null,"internal error parsing accents","accents",e);let i=0;const o=dU(parseInt(s[3]),s[4]),a=parseInt(s[2]),c=new RegExp(`([${s[1]}])`,"g");n=n.replace(c,(u,l)=>(--o[i]===0&&(l=String.fromCharCode(l.charCodeAt(0),a),i++),l))}),n.split(",")}var Gd;class pU extends c1{constructor(n,r,s,i){super(n,r,i);P(this,Gd);E(this,Gd,s)}get _accent(){return h(this,Gd)}_decodeWords(){return hU(this._data,this._accent)}}Gd=new WeakMap;const gU={en:bi.wordlist()},mU=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:Ct,AbstractProvider:yl,AbstractSigner:Pl,AlchemyProvider:gd,AnkrProvider:pd,BaseContract:gl,BaseWallet:bd,Block:N4,BrowserProvider:LD,ChainstackProvider:md,CloudflareProvider:J4,ConstructorFragment:As,Contract:vn,ContractEventPayload:B4,ContractFactory:n1,ContractTransactionReceipt:_4,ContractTransactionResponse:pg,ContractUnknownEventPayload:Zw,EnsPlugin:ih,EnsResolver:dd,ErrorDescription:O4,ErrorFragment:bn,EtherSymbol:FB,EtherscanPlugin:o1,EtherscanProvider:X4,EventFragment:Vr,EventLog:hg,EventPayload:Tw,FallbackFragment:Es,FallbackProvider:sS,FeeData:kb,FeeDataNetworkPlugin:Ob,FetchCancelSignal:T8,FetchRequest:Ot,FetchResponse:ci,FetchUrlFeeDataNetworkPlugin:V4,FixedNumber:rd,Fragment:_o,FunctionFragment:zr,GasCostPlugin:sh,HDNodeVoidWallet:wl,HDNodeWallet:nu,Indexed:Sb,InfuraProvider:bl,InfuraWebSocketProvider:rS,Interface:Et,IpcSocketProvider:UD,JsonRpcApiProvider:i1,JsonRpcProvider:It,JsonRpcSigner:T0,LangEn:bi,Log:Nl,LogDescription:T4,MaxInt256:UB,MaxUint256:LB,MessagePrefix:FA,MinInt256:DB,Mnemonic:sc,MulticoinProviderPlugin:W4,N:BB,NamedFragment:nh,Network:qe,NetworkPlugin:jo,NonceManager:Gb,ParamType:Ht,PocketProvider:xp,QuickNodeProvider:yd,Result:ec,Signature:Tr,SigningKey:Jr,SocketBlockSubscriber:Z4,SocketEventSubscriber:tS,SocketPendingSubscriber:eS,SocketProvider:nS,SocketSubscriber:yg,StructFragment:ko,Transaction:tc,TransactionDescription:I4,TransactionReceipt:Yw,TransactionResponse:pl,Typed:Xt,TypedDataEncoder:Zr,UndecodedEventLog:Xw,UnmanagedSubscriber:hd,Utf8ErrorFuncs:w8,VoidSigner:bp,Wallet:ES,WebSocketProvider:a1,WeiPerEther:MB,Wordlist:uS,WordlistOwl:c1,WordlistOwlA:pU,ZeroAddress:mi,ZeroHash:id,accessListify:vi,assert:D,assertArgument:S,assertArgumentCount:Aw,assertNormalize:Sw,assertPrivate:wi,checkResultErrors:$R,computeAddress:Cl,computeHmac:Uo,concat:Ae,copyRequest:fd,dataLength:So,dataSlice:Ve,decodeBase58:m8,decodeBase64:y8,decodeBytes32String:NL,decodeRlp:Yd,decryptCrowdsaleJson:Jb,decryptKeystoreJson:mS,decryptKeystoreJsonSync:gS,defaultPath:C0,defineProperties:J,dnsEncode:f4,encodeBase58:kw,encodeBase64:b8,encodeBytes32String:CL,encodeRlp:Ro,encryptKeystoreJson:d1,encryptKeystoreJsonSync:f1,ensNormalize:l4,formatEther:DR,formatUnits:N8,fromTwos:nd,getAccountPath:uU,getAddress:le,getBigInt:se,getBytes:$,getBytesCopy:Dt,getCreate2Address:zB,getCreateAddress:Hw,getDefaultProvider:MD,getIcapAddress:VB,getIndexedAccountPath:lU,getNumber:he,getUint:Jd,hashMessage:fg,hexlify:L,id:dn,isAddress:lp,isAddressable:jw,isBytesLike:Cs,isCallException:ng,isCrowdsaleJson:Qb,isError:kt,isHexString:Re,isKeystoreJson:zb,isValidName:HM,keccak256:me,lock:$B,makeError:Ze,mask:ho,namehash:mp,parseEther:UR,parseUnits:P8,pbkdf2:Ps,randomBytes:ln,recoverAddress:hl,resolveAddress:$t,resolveProperties:ft,ripemd160:Fo,scrypt:$o,scryptSync:Wo,sha256:Sn,sha512:Zd,showThrottleMessage:Go,solidityPacked:we,solidityPackedKeccak256:ui,solidityPackedSha256:oL,stripZerosLeft:wR,toBeArray:Ut,toBeHex:Xn,toBigInt:Ol,toNumber:g8,toQuantity:Qt,toTwos:ig,toUtf8Bytes:ht,toUtf8CodePoints:TR,toUtf8String:Xr,uuidV4:R8,verifyMessage:d4,verifyTypedData:hL,version:vw,wordlists:gU,zeroPadBytes:rg,zeroPadValue:vr},Symbol.toStringTag,{value:"Module"})),vS="3.7.7",yU=vS,Rl=typeof Buffer=="function",Gv=typeof TextDecoder=="function"?new TextDecoder:void 0,Vv=typeof TextEncoder=="function"?new TextEncoder:void 0,bU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",pf=Array.prototype.slice.call(bU),Yh=(t=>{let e={};return t.forEach((n,r)=>e[n]=r),e})(pf),xU=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Kt=String.fromCharCode.bind(String),zv=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),AS=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),SS=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),kS=t=>{let e,n,r,s,i="";const o=t.length%3;for(let a=0;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(s=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|s,i+=pf[e>>18&63]+pf[e>>12&63]+pf[e>>6&63]+pf[e&63]}return o?i.slice(0,o-3)+"===".substring(o):i},h1=typeof btoa=="function"?t=>btoa(t):Rl?t=>Buffer.from(t,"binary").toString("base64"):kS,Xb=Rl?t=>Buffer.from(t).toString("base64"):t=>{let n=[];for(let r=0,s=t.length;r<s;r+=4096)n.push(Kt.apply(null,t.subarray(r,r+4096)));return h1(n.join(""))},N0=(t,e=!1)=>e?AS(Xb(t)):Xb(t),wU=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Kt(192|e>>>6)+Kt(128|e&63):Kt(224|e>>>12&15)+Kt(128|e>>>6&63)+Kt(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Kt(240|e>>>18&7)+Kt(128|e>>>12&63)+Kt(128|e>>>6&63)+Kt(128|e&63)}},EU=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,TS=t=>t.replace(EU,wU),Kv=Rl?t=>Buffer.from(t,"utf8").toString("base64"):Vv?t=>Xb(Vv.encode(t)):t=>h1(TS(t)),ru=(t,e=!1)=>e?AS(Kv(t)):Kv(t),qv=t=>ru(t,!0),vU=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,AU=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return Kt((n>>>10)+55296)+Kt((n&1023)+56320);case 3:return Kt((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Kt((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},IS=t=>t.replace(vU,AU),OS=t=>{if(t=t.replace(/\s+/g,""),!xU.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",r,s;for(let i=0;i<t.length;)e=Yh[t.charAt(i++)]<<18|Yh[t.charAt(i++)]<<12|(r=Yh[t.charAt(i++)])<<6|(s=Yh[t.charAt(i++)]),n+=r===64?Kt(e>>16&255):s===64?Kt(e>>16&255,e>>8&255):Kt(e>>16&255,e>>8&255,e&255);return n},p1=typeof atob=="function"?t=>atob(SS(t)):Rl?t=>Buffer.from(t,"base64").toString("binary"):OS,CS=Rl?t=>zv(Buffer.from(t,"base64")):t=>zv(p1(t).split("").map(e=>e.charCodeAt(0))),NS=t=>CS(PS(t)),SU=Rl?t=>Buffer.from(t,"base64").toString("utf8"):Gv?t=>Gv.decode(CS(t)):t=>IS(p1(t)),PS=t=>SS(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),Zb=t=>SU(PS(t)),kU=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},RS=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),_S=function(){const t=(e,n)=>Object.defineProperty(String.prototype,e,RS(n));t("fromBase64",function(){return Zb(this)}),t("toBase64",function(e){return ru(this,e)}),t("toBase64URI",function(){return ru(this,!0)}),t("toBase64URL",function(){return ru(this,!0)}),t("toUint8Array",function(){return NS(this)})},BS=function(){const t=(e,n)=>Object.defineProperty(Uint8Array.prototype,e,RS(n));t("toBase64",function(e){return N0(this,e)}),t("toBase64URI",function(){return N0(this,!0)}),t("toBase64URL",function(){return N0(this,!0)})},TU=()=>{_S(),BS()},ic={version:vS,VERSION:yU,atob:p1,atobPolyfill:OS,btoa:h1,btoaPolyfill:kS,fromBase64:Zb,toBase64:ru,encode:ru,encodeURI:qv,encodeURL:qv,utob:TS,btou:IS,decode:Zb,isValid:kU,fromUint8Array:N0,toUint8Array:NS,extendString:_S,extendUint8Array:BS,extendBuiltins:TU};var ex=function(){return ex=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ex.apply(this,arguments)};function ta(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,[])).next())})}function na(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var IU=function(t){return Zr.hash(t.domain,t.types,t.message)},MS="1",tx="eth",OU={name:"ETHAuth",version:MS},g1=function(){function t(e){this.prefix=tx,this.address=e!=null&&e.address?e.address.toLowerCase():"",this.claims=e!=null&&e.claims?e.claims:{app:"",iat:0,exp:0,v:MS},this.signature=e!=null&&e.signature?e.signature:"",this.extra=e!=null&&e.extra?e.extra:""}return t.prototype.setIssuedAtNow=function(){this.claims.iat=Math.round(new Date().getTime()/1e3)},t.prototype.setExpiryIn=function(e){this.claims.exp=Math.round(new Date().getTime()/1e3)+e},t.prototype.validateClaims=function(){return CU(this.claims)},t.prototype.messageDigest=function(){var e=this.validateClaims();if(e.err)throw e.err;return $(IU(this.messageTypedData()))},t.prototype.messageTypedData=function(){var e=ex({},OU),n={Claims:[]},r={},s={domain:e,types:n,message:r};return this.claims.app&&this.claims.app.length>0&&(s.types.Claims.push({name:"app",type:"string"}),s.message.app=this.claims.app),this.claims.iat&&this.claims.iat>0&&(s.types.Claims.push({name:"iat",type:"int64"}),s.message.iat=this.claims.iat),this.claims.exp&&this.claims.exp>0&&(s.types.Claims.push({name:"exp",type:"int64"}),s.message.exp=this.claims.exp),this.claims.n&&this.claims.n>0&&(s.types.Claims.push({name:"n",type:"uint64"}),s.message.n=this.claims.n),this.claims.typ&&this.claims.typ.length>0&&(s.types.Claims.push({name:"typ",type:"string"}),s.message.typ=this.claims.typ),this.claims.ogn&&this.claims.ogn.length>0&&(s.types.Claims.push({name:"ogn",type:"string"}),s.message.ogn=this.claims.ogn),this.claims.v&&this.claims.v.length>0&&(s.types.Claims.push({name:"v",type:"string"}),s.message.v=this.claims.v),s},t}(),CU=function(t){if(t.app==="")return{ok:!1,err:new Error("claims: app is empty")};var e=Math.round(new Date().getTime()/1e3),n=5*60,r=60*60*24*365+n;return t.v===""?{ok:!1,err:new Error("claims: ethauth version is empty")}:t.iat&&t.iat!==0&&(t.iat>e+n||t.iat<e-r)?{ok:!1,err:new Error("claims: iat is invalid")}:t.exp<e-n||t.exp>e+r?{ok:!1,err:new Error("claims: token has expired")}:{ok:!0}},NU=function(t,e,n){return ta(void 0,void 0,void 0,function(){var r,s;return na(this,function(i){return r=n.messageDigest(),s=d4(r,n.signature),s.slice(0,2)==="0x"&&s.length===42&&s.toLowerCase()===n.address.toLowerCase()?[2,{isValid:!0,address:n.address}]:[2,{isValid:!1}]})})},PU=function(t,e,n){return ta(void 0,void 0,void 0,function(){var r,s,i,o,a;return na(this,function(c){switch(c.label){case 0:return!t||t===void 0?[2,{isValid:!1}]:(r=n.messageDigest(),[4,t.getCode(n.address)]);case 1:if(s=c.sent(),s==="0x"||s.length<=2)throw new Error("ValidateContractAccountProof failed. unable to fetch wallet contract code");return i=["function isValidSignature(bytes32, bytes) public view returns (bytes4)"],o=new vn(n.address,i,t),[4,o.isValidSignature(r,$(n.signature))];case 2:return a=c.sent(),a===RU?[2,{isValid:!0,address:n.address}]:[2,{isValid:!1}]}})})},RU="0x1626ba7e",nx=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this;this.configJsonRpcProvider=function(s){return ta(r,void 0,void 0,function(){var i;return na(this,function(o){switch(o.label){case 0:return this.provider=new It(s),[4,this.provider.send("net_version",[])];case 1:if(i=o.sent(),this.chainId=parseInt(i),!this.chainId)throw new Error("ethauth: unable to get chainId");return this.ethereumJsonRpcURL=s,[2]}})})},this.configValidators=function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(s.length==0)throw new Error("validators list is empty");r.validators=s},this.encodeProof=function(s,i){return i===void 0&&(i=!1),ta(r,void 0,void 0,function(){var o,a,c;return na(this,function(u){switch(u.label){case 0:if(s.address.length!==42||s.address.slice(0,2)!=="0x")throw new Error("ethauth: invalid address");if(s.signature===""||s.signature.slice(0,2)!=="0x")throw new Error("ethauth: invalid signature");if(s.extra&&s.extra.slice(0,2)!=="0x")throw new Error("ethauth: invalid extra encoding, expecting hex data");return[4,this.validateProof(s,i)];case 1:if(o=u.sent(),!o)throw new Error("ethauth: proof is invalid");return a=JSON.stringify(s.claims),c=tx+"."+s.address.toLowerCase()+"."+ic.encode(a,!0)+"."+s.signature,s.extra&&s.extra.length>0&&(c+="."+s.extra),[2,c]}})})},this.decodeProof=function(s,i){return i===void 0&&(i=!1),ta(r,void 0,void 0,function(){var o,a,c,u,l,f,d,p,y,g;return na(this,function(A){switch(A.label){case 0:if(o=s.split("."),o.length<4||o.length>5)throw new Error("ethauth: invalid proof string");if(a=o[0],c=o[1],u=o[2],l=o[3],f=o[4],a!==tx)throw new Error("ethauth: not an ethauth proof");return d=ic.decode(u),p=JSON.parse(d),y=new g1({address:c,claims:p,signature:l,extra:f}),[4,this.validateProof(y,i)];case 1:if(g=A.sent(),!g)throw new Error("ethauth: proof is invalid");return[2,y]}})})},this.validateProof=function(s,i){return i===void 0&&(i=!1),ta(r,void 0,void 0,function(){var o,a;return na(this,function(c){switch(c.label){case 0:if(o=this.validateProofClaims(s),o.err)throw new Error("ethauth: proof claims are invalid ".concat(o.err));return i===!0?[3,2]:[4,this.validateProofSignature(s)];case 1:if(a=c.sent(),a!==!0)throw new Error("ethauth: proof signature is invalid");c.label=2;case 2:return[2,!0]}})})},this.validateProofSignature=function(s){return ta(r,void 0,void 0,function(){var i,c,o,a,c;return na(this,function(u){switch(u.label){case 0:i=[],c=0,u.label=1;case 1:if(!(c<this.validators.length))return[3,6];u.label=2;case 2:return u.trys.push([2,4,,5]),o=this.validators[c],[4,o(this.provider,this.chainId,s)];case 3:return a=u.sent().isValid,a===!0?[2,!0]:(i.push(a),[3,5]);case 4:return u.sent(),i.push(!1),[3,5];case 5:return c++,[3,1];case 6:for(c=0;c<i.length;c++)if(i[c])return[2,!0];return[2,!1]}})})},this.validateProofClaims=function(s){return s.validateClaims()},e.length==0?this.validators=[NU,PU]:this.validators=e}return t}();let I=function(t){return t[t.MAINNET=1]="MAINNET",t[t.ROPSTEN=3]="ROPSTEN",t[t.RINKEBY=4]="RINKEBY",t[t.GOERLI=5]="GOERLI",t[t.KOVAN=42]="KOVAN",t[t.SEPOLIA=11155111]="SEPOLIA",t[t.POLYGON=137]="POLYGON",t[t.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",t[t.POLYGON_ZKEVM=1101]="POLYGON_ZKEVM",t[t.POLYGON_AMOY=80002]="POLYGON_AMOY",t[t.BSC=56]="BSC",t[t.BSC_TESTNET=97]="BSC_TESTNET",t[t.OPTIMISM=10]="OPTIMISM",t[t.OPTIMISM_KOVAN=69]="OPTIMISM_KOVAN",t[t.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",t[t.OPTIMISM_SEPOLIA=11155420]="OPTIMISM_SEPOLIA",t[t.ARBITRUM=42161]="ARBITRUM",t[t.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",t[t.ARBITRUM_SEPOLIA=421614]="ARBITRUM_SEPOLIA",t[t.ARBITRUM_NOVA=42170]="ARBITRUM_NOVA",t[t.AVALANCHE=43114]="AVALANCHE",t[t.AVALANCHE_TESTNET=43113]="AVALANCHE_TESTNET",t[t.GNOSIS=100]="GNOSIS",t[t.BASE=8453]="BASE",t[t.BASE_GOERLI=84531]="BASE_GOERLI",t[t.BASE_SEPOLIA=84532]="BASE_SEPOLIA",t[t.HOMEVERSE_TESTNET=40875]="HOMEVERSE_TESTNET",t[t.HOMEVERSE=19011]="HOMEVERSE",t[t.XAI=660279]="XAI",t[t.XAI_SEPOLIA=37714555429]="XAI_SEPOLIA",t[t.XR_SEPOLIA=2730]="XR_SEPOLIA",t[t.TELOS=40]="TELOS",t[t.TELOS_TESTNET=41]="TELOS_TESTNET",t[t.B3=8333]="B3",t[t.B3_SEPOLIA=1993]="B3_SEPOLIA",t[t.APECHAIN=33139]="APECHAIN",t[t.APECHAIN_TESTNET=33111]="APECHAIN_TESTNET",t[t.BLAST=81457]="BLAST",t[t.BLAST_SEPOLIA=168587773]="BLAST_SEPOLIA",t[t.BORNE_TESTNET=94984]="BORNE_TESTNET",t[t.SKALE_NEBULA=1482601649]="SKALE_NEBULA",t[t.SKALE_NEBULA_TESTNET=37084624]="SKALE_NEBULA_TESTNET",t[t.SONEIUM_MINATO=1946]="SONEIUM_MINATO",t[t.SONEIUM=1868]="SONEIUM",t[t.TOY_TESTNET=21e6]="TOY_TESTNET",t[t.IMMUTABLE_ZKEVM=13371]="IMMUTABLE_ZKEVM",t[t.IMMUTABLE_ZKEVM_TESTNET=13473]="IMMUTABLE_ZKEVM_TESTNET",t[t.ROOT_NETWORK=7668]="ROOT_NETWORK",t[t.ROOT_NETWORK_PORCINI=7672]="ROOT_NETWORK_PORCINI",t[t.LAOS=6283]="LAOS",t[t.LAOS_SIGMA_TESTNET=62850]="LAOS_SIGMA_TESTNET",t[t.HARDHAT=31337]="HARDHAT",t[t.HARDHAT_2=31338]="HARDHAT_2",t}({}),de=function(t){return t.MAINNET="mainnet",t.TESTNET="testnet",t}({});const xd={[I.MAINNET]:{chainId:I.MAINNET,type:de.MAINNET,name:"mainnet",title:"Ethereum",logoURI:`https://assets.sequence.info/images/networks/medium/${I.MAINNET}.webp`,blockExplorer:{name:"Etherscan",rootUrl:"https://etherscan.io/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[I.ROPSTEN]:{chainId:I.ROPSTEN,type:de.TESTNET,name:"ropsten",title:"Ropsten",logoURI:`https://assets.sequence.info/images/networks/medium/${I.ROPSTEN}.webp`,testnet:!0,blockExplorer:{name:"Etherscan (Ropsten)",rootUrl:"https://ropsten.etherscan.io/"},nativeToken:{symbol:"roETH",name:"Ropsten Ether",decimals:18},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",deprecated:!0},[I.RINKEBY]:{chainId:I.RINKEBY,type:de.TESTNET,name:"rinkeby",title:"Rinkeby",logoURI:`https://assets.sequence.info/images/networks/medium/${I.RINKEBY}.webp`,testnet:!0,blockExplorer:{name:"Etherscan (Rinkeby)",rootUrl:"https://rinkeby.etherscan.io/"},nativeToken:{symbol:"rETH",name:"Rinkeby Ether",decimals:18},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",deprecated:!0},[I.GOERLI]:{chainId:I.GOERLI,type:de.TESTNET,name:"goerli",title:"Goerli",logoURI:`https://assets.sequence.info/images/networks/medium/${I.GOERLI}.webp`,testnet:!0,blockExplorer:{name:"Etherscan (Goerli)",rootUrl:"https://goerli.etherscan.io/"},nativeToken:{symbol:"gETH",name:"Goerli Ether",decimals:18},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",deprecated:!0},[I.KOVAN]:{chainId:I.KOVAN,type:de.TESTNET,name:"kovan",title:"Kovan",logoURI:`https://assets.sequence.info/images/networks/medium/${I.KOVAN}.webp`,testnet:!0,blockExplorer:{name:"Etherscan (Kovan)",rootUrl:"https://kovan.etherscan.io/"},nativeToken:{symbol:"kETH",name:"Kovan Ether",decimals:18},deprecated:!0},[I.SEPOLIA]:{chainId:I.SEPOLIA,type:de.TESTNET,name:"sepolia",title:"Sepolia",logoURI:`https://assets.sequence.info/images/networks/medium/${I.SEPOLIA}.webp`,testnet:!0,blockExplorer:{name:"Etherscan (Sepolia)",rootUrl:"https://sepolia.etherscan.io/"},nativeToken:{symbol:"sETH",name:"Sepolia Ether",decimals:18}},[I.POLYGON]:{chainId:I.POLYGON,type:de.MAINNET,name:"polygon",title:"Polygon",logoURI:`https://assets.sequence.info/images/networks/medium/${I.POLYGON}.webp`,blockExplorer:{name:"Polygonscan",rootUrl:"https://polygonscan.com/"},nativeToken:{symbol:"POL",name:"POL",decimals:18}},[I.POLYGON_MUMBAI]:{chainId:I.POLYGON_MUMBAI,type:de.TESTNET,name:"mumbai",title:"Polygon Mumbai",logoURI:`https://assets.sequence.info/images/networks/medium/${I.POLYGON_MUMBAI}.webp`,testnet:!0,blockExplorer:{name:"Polygonscan (Mumbai)",rootUrl:"https://mumbai.polygonscan.com/"},nativeToken:{symbol:"mMATIC",name:"Mumbai Polygon",decimals:18},deprecated:!0},[I.POLYGON_AMOY]:{chainId:I.POLYGON_AMOY,type:de.TESTNET,name:"amoy",title:"Polygon Amoy",logoURI:`https://assets.sequence.info/images/networks/medium/${I.POLYGON_AMOY}.webp`,testnet:!0,blockExplorer:{name:"OKLink (Amoy)",rootUrl:"https://www.oklink.com/amoy/"},nativeToken:{symbol:"aPOL",name:"Amoy POL",decimals:18}},[I.POLYGON_ZKEVM]:{chainId:I.POLYGON_ZKEVM,type:de.MAINNET,name:"polygon-zkevm",title:"Polygon zkEVM",logoURI:`https://assets.sequence.info/images/networks/medium/${I.POLYGON_ZKEVM}.webp`,blockExplorer:{name:"Polygonscan (zkEVM)",rootUrl:"https://zkevm.polygonscan.com/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.BSC]:{chainId:I.BSC,type:de.MAINNET,name:"bsc",title:"BNB Smart Chain",logoURI:`https://assets.sequence.info/images/networks/medium/${I.BSC}.webp`,blockExplorer:{name:"BSCScan",rootUrl:"https://bscscan.com/"},nativeToken:{symbol:"BNB",name:"BNB",decimals:18}},[I.BSC_TESTNET]:{chainId:I.BSC_TESTNET,type:de.TESTNET,name:"bsc-testnet",title:"BNB Smart Chain Testnet",logoURI:`https://assets.sequence.info/images/networks/medium/${I.BSC_TESTNET}.webp`,testnet:!0,blockExplorer:{name:"BSCScan (Testnet)",rootUrl:"https://testnet.bscscan.com/"},nativeToken:{symbol:"tBNB",name:"Testnet BNB",decimals:18}},[I.OPTIMISM]:{chainId:I.OPTIMISM,type:de.MAINNET,name:"optimism",title:"Optimism",logoURI:`https://assets.sequence.info/images/networks/medium/${I.OPTIMISM}.webp`,blockExplorer:{name:"Etherscan (Optimism)",rootUrl:"https://optimistic.etherscan.io/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.OPTIMISM_KOVAN]:{chainId:I.OPTIMISM_KOVAN,type:de.TESTNET,name:"optimism-kovan",title:"Optimism Kovan",logoURI:`https://assets.sequence.info/images/networks/medium/${I.OPTIMISM_KOVAN}.webp`,testnet:!0,blockExplorer:{name:"Etherscan (Optimism Kovan)",rootUrl:"https://kovan-optimistic.etherscan.io/"},nativeToken:{symbol:"kETH",name:"Kovan Ether",decimals:18},deprecated:!0},[I.OPTIMISM_GOERLI]:{chainId:I.OPTIMISM_GOERLI,type:de.TESTNET,name:"optimism-goerli",title:"Optimism Goerli",logoURI:`https://assets.sequence.info/images/networks/medium/${I.OPTIMISM_GOERLI}.webp`,testnet:!0,blockExplorer:{name:"Etherscan (Optimism Goerli)",rootUrl:"https://goerli-optimistic.etherscan.io/"},nativeToken:{symbol:"gETH",name:"Goerli Ether",decimals:18},deprecated:!0},[I.OPTIMISM_SEPOLIA]:{chainId:I.OPTIMISM_SEPOLIA,type:de.TESTNET,name:"optimism-sepolia",title:"Optimism Sepolia",logoURI:`https://assets.sequence.info/images/networks/medium/${I.OPTIMISM_SEPOLIA}.webp`,testnet:!0,blockExplorer:{name:"Etherscan (Optimism Sepolia)",rootUrl:"https://sepolia-optimistic.etherscan.io/"},nativeToken:{symbol:"sETH",name:"Sepolia Ether",decimals:18}},[I.ARBITRUM]:{chainId:I.ARBITRUM,type:de.MAINNET,name:"arbitrum",title:"Arbitrum One",logoURI:`https://assets.sequence.info/images/networks/medium/${I.ARBITRUM}.webp`,blockExplorer:{name:"Arbiscan",rootUrl:"https://arbiscan.io/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.ARBITRUM_GOERLI]:{chainId:I.ARBITRUM_GOERLI,type:de.TESTNET,name:"arbitrum-goerli",title:"Arbitrum Goerli",logoURI:`https://assets.sequence.info/images/networks/medium/${I.ARBITRUM_GOERLI}.webp`,testnet:!0,blockExplorer:{name:"Arbiscan (Goerli Testnet)",rootUrl:"https://testnet.arbiscan.io/"},nativeToken:{symbol:"gETH",name:"Goerli Ether",decimals:18},deprecated:!0},[I.ARBITRUM_SEPOLIA]:{chainId:I.ARBITRUM_SEPOLIA,type:de.TESTNET,name:"arbitrum-sepolia",title:"Arbitrum Sepolia",logoURI:`https://assets.sequence.info/images/networks/medium/${I.ARBITRUM_SEPOLIA}.webp`,testnet:!0,blockExplorer:{name:"Arbiscan (Sepolia Testnet)",rootUrl:"https://sepolia.arbiscan.io/"},nativeToken:{symbol:"sETH",name:"Sepolia Ether",decimals:18}},[I.ARBITRUM_NOVA]:{chainId:I.ARBITRUM_NOVA,type:de.MAINNET,name:"arbitrum-nova",title:"Arbitrum Nova",logoURI:`https://assets.sequence.info/images/networks/medium/${I.ARBITRUM_NOVA}.webp`,blockExplorer:{name:"Arbiscan Nova",rootUrl:"https://nova.arbiscan.io/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.AVALANCHE]:{chainId:I.AVALANCHE,type:de.MAINNET,name:"avalanche",title:"Avalanche",logoURI:`https://assets.sequence.info/images/networks/medium/${I.AVALANCHE}.webp`,blockExplorer:{name:"Snowtrace",rootUrl:"https://subnets.avax.network/c-chain/"},nativeToken:{symbol:"AVAX",name:"AVAX",decimals:18}},[I.AVALANCHE_TESTNET]:{chainId:I.AVALANCHE_TESTNET,type:de.TESTNET,name:"avalanche-testnet",title:"Avalanche Testnet",logoURI:`https://assets.sequence.info/images/networks/medium/${I.AVALANCHE_TESTNET}.webp`,testnet:!0,blockExplorer:{name:"Snowtrace (Testnet)",rootUrl:"https://subnets-test.avax.network/c-chain/"},nativeToken:{symbol:"tAVAX",name:"Testnet AVAX",decimals:18}},[I.GNOSIS]:{chainId:I.GNOSIS,type:de.MAINNET,name:"gnosis",title:"Gnosis Chain",logoURI:`https://assets.sequence.info/images/networks/medium/${I.GNOSIS}.webp`,blockExplorer:{name:"Gnosis Chain Explorer",rootUrl:"https://blockscout.com/xdai/mainnet/"},nativeToken:{symbol:"XDAI",name:"XDAI",decimals:18}},[I.BASE]:{chainId:I.BASE,type:de.MAINNET,name:"base",title:"Base (Coinbase)",logoURI:`https://assets.sequence.info/images/networks/medium/${I.BASE}.webp`,blockExplorer:{name:"Base Explorer",rootUrl:"https://basescan.org/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.BASE_GOERLI]:{chainId:I.BASE_GOERLI,type:de.TESTNET,name:"base-goerli",title:"Base Goerli",logoURI:`https://assets.sequence.info/images/networks/medium/${I.BASE_GOERLI}.webp`,testnet:!0,blockExplorer:{name:"Base Goerli Explorer",rootUrl:"https://goerli.basescan.org/"},nativeToken:{symbol:"gETH",name:"Goerli Ether",decimals:18},deprecated:!0},[I.BASE_SEPOLIA]:{chainId:I.BASE_SEPOLIA,type:de.TESTNET,name:"base-sepolia",title:"Base Sepolia",logoURI:`https://assets.sequence.info/images/networks/medium/${I.BASE_SEPOLIA}.webp`,testnet:!0,blockExplorer:{name:"Base Sepolia Explorer",rootUrl:"https://base-sepolia.blockscout.com/"},nativeToken:{symbol:"sETH",name:"Sepolia Ether",decimals:18}},[I.HOMEVERSE]:{chainId:I.HOMEVERSE,type:de.MAINNET,name:"homeverse",title:"Oasys Homeverse",logoURI:`https://assets.sequence.info/images/networks/medium/${I.HOMEVERSE}.webp`,blockExplorer:{name:"Oasys Homeverse Explorer",rootUrl:"https://explorer.oasys.homeverse.games/"},nativeToken:{symbol:"OAS",name:"OAS",decimals:18}},[I.HOMEVERSE_TESTNET]:{chainId:I.HOMEVERSE_TESTNET,type:de.TESTNET,name:"homeverse-testnet",title:"Oasys Homeverse Testnet",logoURI:`https://assets.sequence.info/images/networks/medium/${I.HOMEVERSE_TESTNET}.webp`,testnet:!0,blockExplorer:{name:"Oasys Homeverse Explorer (Testnet)",rootUrl:"https://explorer.testnet.oasys.homeverse.games/"},nativeToken:{symbol:"tOAS",name:"Testnet OAS",decimals:18}},[I.XAI]:{chainId:I.XAI,type:de.MAINNET,name:"xai",title:"Xai",logoURI:`https://assets.sequence.info/images/networks/medium/${I.XAI}.webp`,blockExplorer:{name:"Xai Explorer",rootUrl:"https://explorer.xai-chain.net/"},nativeToken:{symbol:"XAI",name:"XAI",decimals:18}},[I.XAI_SEPOLIA]:{chainId:I.XAI_SEPOLIA,type:de.TESTNET,name:"xai-sepolia",title:"Xai Sepolia",logoURI:`https://assets.sequence.info/images/networks/medium/${I.XAI_SEPOLIA}.webp`,testnet:!0,blockExplorer:{name:"Xai Sepolia Explorer",rootUrl:"https://testnet-explorer-v2.xai-chain.net/"},nativeToken:{symbol:"sXAI",name:"Sepolia XAI",decimals:18}},[I.XR_SEPOLIA]:{chainId:I.XR_SEPOLIA,type:de.TESTNET,name:"xr-sepolia",title:"XR Sepolia",logoURI:`https://assets.sequence.info/images/networks/medium/${I.XR_SEPOLIA}.webp`,testnet:!0,blockExplorer:{name:"XR Sepolia Explorer",rootUrl:"https://xr-sepolia-testnet.explorer.caldera.xyz/"},nativeToken:{symbol:"tXR",name:"Sepolia XR",decimals:18}},[I.B3]:{chainId:I.B3,type:de.MAINNET,name:"b3",title:"B3",logoURI:`https://assets.sequence.info/images/networks/medium/${I.B3}.webp`,testnet:!1,blockExplorer:{name:"B3 Explorer",rootUrl:"https://explorer.b3.fun/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.B3_SEPOLIA]:{chainId:I.B3_SEPOLIA,type:de.TESTNET,name:"b3-sepolia",title:"B3 Sepolia",logoURI:`https://assets.sequence.info/images/networks/medium/${I.B3_SEPOLIA}.webp`,testnet:!0,blockExplorer:{name:"B3 Sepolia Explorer",rootUrl:"https://sepolia.explorer.b3.fun/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.APECHAIN]:{chainId:I.APECHAIN,type:de.MAINNET,name:"apechain",title:"APE Chain",logoURI:`https://assets.sequence.info/images/networks/medium/${I.APECHAIN}.webp`,testnet:!1,blockExplorer:{name:"APE Chain Explorer",rootUrl:"https://apechain.calderaexplorer.xyz/"},nativeToken:{symbol:"APE",name:"ApeCoin",decimals:18}},[I.APECHAIN_TESTNET]:{chainId:I.APECHAIN_TESTNET,type:de.TESTNET,name:"apechain-testnet",title:"APE Chain Testnet",logoURI:`https://assets.sequence.info/images/networks/medium/${I.APECHAIN_TESTNET}.webp`,testnet:!0,blockExplorer:{name:"APE Chain Explorer",rootUrl:"https://curtis.explorer.caldera.xyz/"},nativeToken:{symbol:"APE",name:"ApeCoin",decimals:18}},[I.BLAST]:{chainId:I.BLAST,type:de.MAINNET,name:"blast",title:"Blast",logoURI:`https://assets.sequence.info/images/networks/medium/${I.BLAST}.webp`,blockExplorer:{name:"Blast Explorer",rootUrl:"https://blastscan.io/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.BLAST_SEPOLIA]:{chainId:I.BLAST_SEPOLIA,type:de.TESTNET,name:"blast-sepolia",title:"Blast Sepolia",logoURI:`https://assets.sequence.info/images/networks/medium/${I.BLAST_SEPOLIA}.webp`,testnet:!0,blockExplorer:{name:"Blast Sepolia Explorer",rootUrl:"https://sepolia.blastexplorer.io/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.TELOS]:{chainId:I.TELOS,type:de.MAINNET,name:"telos",title:"Telos",logoURI:`https://assets.sequence.info/images/networks/medium/${I.TELOS}.webp`,blockExplorer:{name:"Telos Explorer",rootUrl:"https://www.teloscan.io/"},nativeToken:{symbol:"TLOS",name:"TLOS",decimals:18}},[I.TELOS_TESTNET]:{chainId:I.TELOS_TESTNET,type:de.TESTNET,name:"telos-testnet",title:"Telos Testnet",logoURI:`https://assets.sequence.info/images/networks/medium/${I.TELOS_TESTNET}.webp`,blockExplorer:{name:"Telos Testnet Explorer",rootUrl:"https://testnet.teloscan.io/"},nativeToken:{symbol:"TLOS",name:"TLOS",decimals:18}},[I.BORNE_TESTNET]:{chainId:I.BORNE_TESTNET,type:de.TESTNET,name:"borne-testnet",title:"Borne Testnet",logoURI:`https://assets.sequence.info/images/networks/medium/${I.BORNE_TESTNET}.webp`,testnet:!0,blockExplorer:{name:"Borne Testnet Explorer",rootUrl:"https://subnets-test.avax.network/bornegfdn"},nativeToken:{symbol:"BORNE",name:"BORNE",decimals:18}},[I.SKALE_NEBULA]:{chainId:I.SKALE_NEBULA,type:de.MAINNET,name:"skale-nebula",title:"SKALE Nebula Gaming Hub",logoURI:`https://assets.sequence.info/images/networks/medium/${I.SKALE_NEBULA}.webp`,testnet:!1,blockExplorer:{name:"SKALE Nebula Gaming Hub Explorer",rootUrl:"https://green-giddy-denebola.explorer.mainnet.skalenodes.com/"},nativeToken:{symbol:"sFUEL",name:"SKALE Fuel",decimals:18}},[I.SKALE_NEBULA_TESTNET]:{chainId:I.SKALE_NEBULA_TESTNET,type:de.TESTNET,name:"skale-nebula-testnet",title:"SKALE Nebula Gaming Hub Testnet",logoURI:`https://assets.sequence.info/images/networks/medium/${I.SKALE_NEBULA_TESTNET}.webp`,testnet:!0,blockExplorer:{name:"SKALE Nebula Gaming Hub Testnet Explorer",rootUrl:"https://lanky-ill-funny-testnet.explorer.testnet.skalenodes.com/"},nativeToken:{symbol:"sFUEL",name:"SKALE Fuel",decimals:18}},[I.SONEIUM]:{chainId:I.SONEIUM,type:de.MAINNET,name:"soneium",title:"Soneium",logoURI:`https://assets.sequence.info/images/networks/medium/${I.SONEIUM}.webp`,testnet:!1,blockExplorer:{name:"Soneium Explorer",rootUrl:"https://soneium.blockscout.com/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.SONEIUM_MINATO]:{chainId:I.SONEIUM_MINATO,type:de.TESTNET,name:"soneium-minato",title:"Soneium Minato (Testnet)",logoURI:`https://assets.sequence.info/images/networks/medium/${I.SONEIUM_MINATO}.webp`,testnet:!0,blockExplorer:{name:"Soneium Minato Explorer",rootUrl:"https://explorer-testnet.soneium.org/"},nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.TOY_TESTNET]:{chainId:I.TOY_TESTNET,type:de.TESTNET,name:"toy-testnet",title:"TOY (Testnet)",logoURI:`https://assets.sequence.info/images/networks/medium/${I.TOY_TESTNET}.webp`,testnet:!0,blockExplorer:{name:"TOY Testnet Explorer",rootUrl:"https://toy-chain-testnet.explorer.caldera.xyz/"},nativeToken:{symbol:"TOY",name:"TOY",decimals:18}},[I.IMMUTABLE_ZKEVM]:{chainId:I.IMMUTABLE_ZKEVM,type:de.MAINNET,name:"immutable-zkevm",title:"Immutable zkEVM",logoURI:`https://assets.sequence.info/images/networks/medium/${I.IMMUTABLE_ZKEVM}.webp`,testnet:!1,blockExplorer:{name:"Immutable zkEVM Explorer",rootUrl:"https://explorer.immutable.com/"},nativeToken:{symbol:"IMX",name:"IMX",decimals:18}},[I.IMMUTABLE_ZKEVM_TESTNET]:{chainId:I.IMMUTABLE_ZKEVM_TESTNET,type:de.TESTNET,name:"immutable-zkevm-testnet",title:"Immutable zkEVM Testnet",logoURI:`https://assets.sequence.info/images/networks/medium/${I.IMMUTABLE_ZKEVM_TESTNET}.webp`,testnet:!0,blockExplorer:{name:"Immutable zkEVM Testnet Explorer",rootUrl:"https://explorer.testnet.immutable.com/"},nativeToken:{symbol:"IMX",name:"IMX",decimals:18}},[I.ROOT_NETWORK]:{chainId:I.ROOT_NETWORK,type:de.MAINNET,name:"rootnet",title:"The Root Network",logoURI:`https://assets.sequence.info/images/networks/medium/${I.ROOT_NETWORK}.webp`,testnet:!1,blockExplorer:{name:"The Root Network Explorer",rootUrl:"https://rootscan.io/"},nativeToken:{symbol:"XRP",name:"XRP",decimals:18}},[I.ROOT_NETWORK_PORCINI]:{chainId:I.ROOT_NETWORK_PORCINI,type:de.TESTNET,name:"rootnet-porcini",title:"The Root Network Porcini Testnet",logoURI:`https://assets.sequence.info/images/networks/medium/${I.ROOT_NETWORK_PORCINI}.webp`,testnet:!0,blockExplorer:{name:"The Root Network Porcini Testnet Explorer",rootUrl:"https://porcini.rootscan.io/"},nativeToken:{symbol:"XRP",name:"XRP",decimals:18}},[I.LAOS]:{chainId:I.LAOS,type:de.MAINNET,name:"laos",title:"LAOS",logoURI:`https://assets.sequence.info/images/networks/medium/${I.LAOS}.webp`,testnet:!1,blockExplorer:{name:"LAOS Explorer",rootUrl:"https://blockscout.laos.laosfoundation.io/"},nativeToken:{symbol:"LAOS",name:"LAOS",decimals:18}},[I.LAOS_SIGMA_TESTNET]:{chainId:I.LAOS_SIGMA_TESTNET,type:de.TESTNET,name:"laos-sigma-testnet",title:"LAOS Sigma Testnet",logoURI:`https://assets.sequence.info/images/networks/medium/${I.LAOS_SIGMA_TESTNET}.webp`,testnet:!0,blockExplorer:{name:"LAOS Sigma Testnet Explorer",rootUrl:"https://sigma.explorer.laosnetwork.io/"},nativeToken:{symbol:"SIGMA",name:"SIGMA",decimals:18}},[I.HARDHAT]:{chainId:I.HARDHAT,name:"hardhat",title:"Hardhat (local testnet)",nativeToken:{symbol:"ETH",name:"Ether",decimals:18}},[I.HARDHAT_2]:{chainId:I.HARDHAT_2,name:"hardhat2",title:"Hardhat (local testnet)",nativeToken:{symbol:"ETH",name:"Ether",decimals:18}}},_U=t=>{const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);if(r[0]!==1)throw new Error("UnsupportedVersion");const s=r.slice(1,9);return s[7]|s[6]<<8|s[5]<<16|s[4]<<24|s[3]<<32|s[2]<<40|s[1]<<48|s[0]<<56},LS=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),DS=t=>t!=null&&(typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Re(t)||typeof t=="bigint"),ja=t=>{const e=t.toString(16);return`${e.length%2===0?"0x":"0x0"}${e}`},US=(t,e=18)=>{let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)n=`${Math.round(+`${n}.${r}`)}`,r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+1n}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)},BU=t=>US(t,18),FS=(t,e=18)=>{let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");const s=n.slice(0,n.length-e);let i=n.slice(n.length-e);return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`},MU=t=>FS(t,18),Kr=(t,e)=>typeof e=="bigint"?{$bigint:e.toString()}:e,bg=(t,e)=>e!==null&&typeof e=="object"&&"$bigint"in e&&typeof e.$bigint=="string"?BigInt(e.$bigint):e!==null&&typeof e=="object"&&e.type==="BigNumber"&&Re(e.hex)?BigInt(e.hex):e,LU=t=>ic.encode(t,!0),m1=t=>ic.encode(JSON.stringify(t,Kr),!0),DU=t=>{if(t!=null)return ic.decode(t)},y1=t=>{if(t!=null)return JSON.parse(ic.decode(t),bg)},b1=t=>$(typeof t=="string"?dn(t):me(t)),$S=(t,e,n)=>we(["string","uint256","address","bytes32"],["",e,t,n]),rx=(t,e,n)=>me($S(t,e,n)),WS=()=>typeof window>"u"&&typeof process=="object",UU=()=>!WS(),HS=t=>{const e=t.split(".");if(e.length!==3)throw new Error("invalid jwt");return JSON.parse(ic.decode(e[1]))};function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(null,arguments)}var Or=function(t){return t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.DISABLED=5]="DISABLED",t}(Or||{});class jS{constructor(e){this.config=e,this.logLevel=void 0,this.configure(e)}configure(e){switch(this.config=Ap({},this.config,e),this.config.logLevel){case"DEBUG":this.logLevel=Or.DEBUG;break;case"INFO":this.logLevel=Or.INFO;break;case"WARN":this.logLevel=Or.WARN;break;case"ERROR":this.logLevel=Or.ERROR;break;case"DISABLED":this.logLevel=Or.DISABLED;break;default:this.logLevel=Or.INFO;break}this.config.silence===void 0&&(this.config.silence=!1)}debug(e,...n){this.config.silence!==!0&&this.logLevel===Or.DEBUG&&console.log(e,...n)}info(e,...n){this.config.silence!==!0&&this.logLevel<=Or.INFO&&console.log(e,...n)}warn(e,...n){this.config.silence!==!0&&this.logLevel<=Or.WARN&&(console.warn(e,...n),this.config.onwarn&&this.config.onwarn(e,n))}error(e,...n){this.config.silence!==!0&&this.logLevel<=Or.ERROR&&(console.error(e,...n),this.config.onerror&&this.config.onerror(e,n))}}const fe=new jS({logLevel:"INFO",silence:!0}),FU=t=>fe.configure(t);class vt{static bufferIndexOf(e,n,r=!1){if(r)return vt.binarySearch(e,n,vt.compare);const s=(i,o)=>{if(i===o)return!0;if(i.length!==o.length)return!1;for(let a=0;a<i.length;a++)if(i[a]!==o[a])return!1;return!0};return vt.linearSearch(e,n,s)}static binarySearch(e,n,r){let s=0,i=e.length-1;for(;s<=i;){const o=Math.floor((s+i)/2),a=r(e[o],n);if(a===0){for(let c=o-1;c>=0;c--)if(r(e[c],n)!==0)return c+1;return 0}else a<0?s=o+1:i=o-1}return-1}static compare(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++)if(e[s]!==n[s])return e[s]-n[s];return e.length-n.length}static linearSearch(e,n,r){for(let s=0;s<e.length;s++)if(r(e[s],n))return s;return-1}static bufferify(e){return typeof e=="string"?$(e):e}static isHexString(e){return typeof e=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(e)}static bufferToHex(e,n=!0){const r=L(e);return n?r:r.substring(2)}static bufferifyFn(e){return n=>vt.bufferify(e(n))}}class $U extends vt{constructor(e,n={}){super(),this.hashFn=void 0,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sortLeaves=!!n.sortLeaves,this.sortPairs=!!n.sortPairs,this.hashFn=vt.bufferifyFn(me),this.processLeaves(e)}getOptions(){return{sortLeaves:this.sortLeaves,sortPairs:this.sortPairs}}processLeaves(e){this.leaves=e.map(vt.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(vt.compare)),this.createHashes(this.leaves)}createHashes(e){for(this.layers=[e];e.length>1;){const n=this.layers.length;this.layers.push([]);const r=e.length;for(let s=0;s<e.length;s+=2){if(s>=r){this.layers[n].push(...e.slice(r));break}else if(s+1===e.length&&e.length%2===1){this.layers[n].push(e[s]);continue}const i=e[s],o=s+1===e.length?i:e[s+1],a=[i,o];this.sortPairs&&a.sort(vt.compare);const c=this.hashFn(Ae(a));this.layers[n].push(c)}e=this.layers[n]}}getRoot(){return this.layers.length===0?Uint8Array.from([]):this.layers[this.layers.length-1][0]||Uint8Array.from([])}getHexRoot(){return vt.bufferToHex(this.getRoot())}getProof(e,n){if(typeof e>"u")throw new Error("leaf is required");e=vt.bufferify(e);const r=[];if(!Number.isInteger(n)){n=-1;for(let s=0;s<this.leaves.length;s++)vt.compare(e,this.leaves[s])===0&&(n=s)}if(n=n,n<=-1)return[];for(let s=0;s<this.layers.length;s++){const i=this.layers[s],o=n%2,a=o?n-1:n+1;a<i.length&&r.push({position:o?"left":"right",data:i[a]}),n=n/2|0}return r}getHexProof(e,n){return this.getProof(e,n).map(r=>vt.bufferToHex(r.data))}verify(e,n,r){let s=vt.bufferify(n);if(r=vt.bufferify(r),!Array.isArray(e)||!n||!r)return!1;for(let i=0;i<e.length;i++){const o=e[i];let a,c;if(typeof o=="string")a=vt.bufferify(o),c=!0;else if(o instanceof Object)a=o.data,c=o.position==="left";else throw new Error("Expected node to be of type string or object");const u=[];this.sortPairs?(vt.compare(s,a)<0?u.push(s,a):u.push(a,s),s=this.hashFn(Ae(u))):(u.push(s),u[c?"unshift":"push"](a),s=this.hashFn(Ae(u)))}return vt.compare(s,r)===0}}class WU{constructor(e,n){this.elements=void 0,this.toLeaf=void 0,this.tree=void 0,this.elements=e,this.toLeaf=n}generateTree(){const e=this.elements.map(n=>this.toLeaf(n));return new $U(e,{sortPairs:!0,sortLeaves:!0})}generateRoot(){return this.tree||(this.tree=this.generateTree()),this.tree.getHexRoot()}generateProof(e){if(!this.elements.includes(e))throw new Error("Element not found");return this.tree||(this.tree=this.generateTree()),this.tree.getHexProof(this.toLeaf(e))}verifyProof(e,n){if(!this.elements.includes(e))throw new Error("Element not found");return this.tree||(this.tree=this.generateTree()),this.tree.verify(n,this.toLeaf(e),this.generateRoot())}}const HU=t=>ui(["address","uint256"],[t.address.toLowerCase(),t.tokenId]),wd=(t,e,n)=>{const r=new Ot(t);return n&&r.setHeader("Authorization",`BEARER ${n}`),e&&r.setHeader("X-Access-Key",e),r};let jU=class{constructor(){this.cache=void 0,this.cache=new Map}do(e,n,r,...s){e=`${e}:${dn(JSON.stringify(s,GU))}`;let i=this.cache.get(e);if(i&&i.expiration&&new Date>=i.expiration&&(i=void 0,this.cache.delete(e)),!i){const o={promise:r(...s)};n!==void 0&&(o.promise=o.promise.then(a=>(o.expiration=new Date(Date.now()+n),a))),i=o,this.cache.set(e,i)}return i.promise}};function GU(t,e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).sort()):e}function VU(t,e){return function(...n){const r=Array.prototype.slice.call(n);return new Promise(async(s,i)=>{try{r.push((o,a)=>o?i(o):s(a)),await t.apply(e,r)}catch(o){i(o)}})}}function zU(t,e){const n=encodeURIComponent(t),r=encodeURIComponent(JSON.stringify(e));return`${n}=${r}`}function KU(t){const e=t.split("&"),n={};for(const r of e){const s=r.split("=");n[decodeURIComponent(s[0])]=JSON.parse(decodeURIComponent(s[1]))}return n}const qU=(t=0,e=Number.MAX_SAFE_INTEGER)=>(t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t),GS=t=>{if(!t||typeof t!="string")return"";const e=t.match(/[\d.]+/);return e&&e.length>0?e[0].trim():""},VS=t=>{if(!t||typeof t!="string")return"";const e=t.match(/[\w\s\d]+/);return e&&e.length>0?e[0].trim():""},zS=t=>{if(!t||typeof t!="string")return"";const e=t.match(/[\w\d.\-:\/]+/);return e&&e.length>0?e[0].trim():""},QU=t=>new Promise(e=>{const n=setTimeout(()=>{clearTimeout(n),e()},t)}),KS=t=>{const e=Ap({},t.types);return delete e.EIP712Domain,Zr.hash(t.domain,e,t.message)},_l=t=>$(KS(t)),{defineProperties:JU,resolveProperties:YU}=mU,XU=t=>t.replace(/([^:]\/)\/+/g,"$1"),ZU=Object.freeze(Object.defineProperty({__proto__:null,Logger:jS,MAX_UINT_256:LS,MerkleTreeGenerator:WU,PromiseCache:jU,base64Decode:DU,base64DecodeObject:y1,base64Encode:LU,base64EncodeObject:m1,bigintReplacer:Kr,bigintReviver:bg,configureLogger:FU,defineProperties:JU,encodeMessageDigest:b1,encodeTypedDataDigest:_l,encodeTypedDataHash:KS,extractProjectIdFromAccessKey:_U,formatEther:MU,formatUnits:FS,getFetchRequest:wd,getRandomInt:qU,getSaleItemsLeaf:HU,isBigNumberish:DS,isBrowser:UU,isNode:WS,jwtDecodeClaims:HS,logger:fe,packMessageData:$S,parseEther:BU,parseUnits:US,promisify:VU,queryStringFromObject:zU,queryStringToObject:KU,resolveProperties:YU,sanitizeAlphanumeric:VS,sanitizeHost:zS,sanitizeNumberString:GS,sleep:QU,subDigestOf:rx,toHexString:ja,urlClean:XU},Symbol.toStringTag,{value:"Module"}));function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(null,arguments)}function eF(t){return t&&t.chainId!==void 0&&t.name!==void 0&&t.rpcUrl!==void 0&&t.relayer!==void 0}const qS=t=>typeof t=="number"?t:t.chainId?t.chainId:Number(t),tF=t=>{if(t)return qS(t)},QS=(t,e=!1,n=!1)=>{if(!t)throw new Error("invalid network config: empty config");const r=[];if(Array.isArray(t)?r.push(...t):r.push(t),r.length===0){if(e)throw new Error("invalid network config: empty config");return!1}const s=r.map(u=>u.chainId).sort(),i=s.filter((u,l)=>s.indexOf(u)!==l);if(i.length>0){if(e)throw new Error(`invalid network config: duplicate chainIds ${i}`);return!1}r.forEach(u=>u.name=u.name.toLowerCase());const o=r.map(u=>u.name).sort(),a=o.filter((u,l)=>o.indexOf(u)!==l);if(a.length>0){if(e)throw new Error(`invalid network config: duplicate network names ${a}`);return!1}let c=!1;for(let u=0;u<r.length;u++){const l=r[u];if((!l.rpcUrl||l.rpcUrl==="")&&!l.provider){if(e)throw new Error(`invalid network config for chainId ${l.chainId}: rpcUrl or provider must be provided`);return!1}if(!n&&!l.relayer){if(e)throw new Error(`invalid network config for chainId ${l.chainId}: relayer must be provided`);return!1}if(l.isDefaultChain){if(c){if(e)throw new Error(`invalid network config for chainId ${l.chainId}: DefaultChain is already set by another config`);return!1}c=!0}}if(!c){if(e)throw new Error("invalid network config: DefaultChain must be set");return!1}return!0},JS=(t,e=!1)=>(QS(t,!0,e),t),nF=(t,e=!0)=>{const n=t.map(s=>s.chainId).sort(),r=n.filter((s,i)=>n.indexOf(s)!==i);if(r.length>0){if(e)throw new Error(`invalid network config: duplicate chainIds ${r}`);return!1}return!0},rF=(t,e)=>{if(!(!t||!e)){if(!t.chainId&&!t.name)throw new Error("failed to update network config: source config is missing chainId or name");if(t.chainId!==e.chainId&&t.name!==e.name)throw new Error("failed to update network config: one of chainId or name must match");t.rpcUrl&&(e.rpcUrl=t.rpcUrl,e.provider=void 0),t.provider&&(e.provider=t.provider),t.relayer&&(e.relayer=t.relayer)}},YS=t=>JS(XS(t)),Ar=(t,e)=>{if(typeof e=="string")if(e.startsWith("0x")){const n=Number(e);return t.find(r=>r.chainId===n)}else return t.find(n=>n.name===e||`${n.chainId}`===e);else{if(typeof e=="number")return t.find(n=>n.chainId===e);if(e.chainId)return t.find(n=>n.chainId===e.chainId);if(typeof e=="bigint"){const n=Number(e);return t.find(r=>r.chainId===n)}else return}},sF=(t,e)=>t?t.name===e||t.chainId===e:!1,iF=t=>{const e={};for(let n=0;n<t.length;n++)e[t[n].name]=t[n];return e},XS=t=>{if(!t)return[];const e=t.sort((r,s)=>r.chainId===s.chainId?0:r.chainId<s.chainId?-1:1),n=e.findIndex(r=>r.isDefaultChain);return n>0&&e.splice(0,0,e.splice(n,1)[0]),e},xg=(t,e)=>typeof t=="string"?(e=e||{},t.replace(/\$\{\s*([$#@\-\d\w]+)\s*\}/gim,function(n,r){let s=e[r];return typeof s=="function"?s=s():s==null?s="":typeof s=="object"||typeof s=="symbol"?s=s.toString():s=s.valueOf(),s})):"",ZS=t=>xg("https://${network}-indexer.sequence.app",{network:t}),ek=t=>xg("https://${network}-relayer.sequence.app",{network:t}),tk=t=>xg("https://nodes.sequence.app/${network}",{network:t});function x1(t){return Ar(ah,t)}function nk(t){return typeof t=="bigint"?t:DS(t)?BigInt(t):BigInt(t.chainId)}const pe=(t,e)=>{const n=xd[t];if(!n)throw new Error(`Network with chainId ${t} not found`);const r=tk(n.name);return El({},n,{rpcUrl:r,indexerUrl:ZS(n.name),relayer:{url:ek(n.name),provider:{url:r}}},e)},rk=[El({},xd[I.HARDHAT],{rpcUrl:"http://localhost:8545",relayer:{url:"http://localhost:3000",provider:{url:"http://localhost:8545"}}}),El({},xd[I.HARDHAT_2],{rpcUrl:"http://localhost:9545",relayer:{url:"http://localhost:3000",provider:{url:"http://localhost:9545"}}})],ah=YS([El({},pe(I.POLYGON),{isDefaultChain:!0,isAuthChain:!0}),pe(I.MAINNET),pe(I.BSC),pe(I.AVALANCHE),pe(I.ARBITRUM),pe(I.ARBITRUM_NOVA),pe(I.OPTIMISM),pe(I.OPTIMISM_SEPOLIA),pe(I.POLYGON_ZKEVM),pe(I.GNOSIS),pe(I.RINKEBY,{disabled:!0}),pe(I.GOERLI,{disabled:!0}),pe(I.SEPOLIA),pe(I.POLYGON_MUMBAI,{disabled:!0}),pe(I.POLYGON_AMOY),pe(I.BSC_TESTNET),pe(I.ARBITRUM_SEPOLIA),pe(I.BASE),pe(I.BASE_SEPOLIA),pe(I.HOMEVERSE),pe(I.HOMEVERSE_TESTNET),pe(I.XAI),pe(I.XAI_SEPOLIA),pe(I.AVALANCHE_TESTNET),pe(I.XR_SEPOLIA),pe(I.B3),pe(I.B3_SEPOLIA),pe(I.APECHAIN),pe(I.APECHAIN_TESTNET),pe(I.BLAST),pe(I.BLAST_SEPOLIA),pe(I.TELOS),pe(I.TELOS_TESTNET),pe(I.BORNE_TESTNET),pe(I.SKALE_NEBULA),pe(I.SKALE_NEBULA_TESTNET),pe(I.SONEIUM),pe(I.SONEIUM_MINATO),pe(I.TOY_TESTNET),pe(I.IMMUTABLE_ZKEVM),pe(I.IMMUTABLE_ZKEVM_TESTNET),pe(I.ROOT_NETWORK),pe(I.ROOT_NETWORK_PORCINI),pe(I.LAOS),pe(I.LAOS_SIGMA_TESTNET),...rk]);class sk{constructor(e,n){this.sender=void 0,this.handler=void 0,this.sender=n,e&&this.setMiddleware(e)}setMiddleware(e){this.handler=ik(e,this.sender)}request(e){return this.handler.request(e)}}const ik=(t,e)=>{if(t.length===0)return e;const n=s=>s.requestHandler?s.requestHandler:s;let r;r=n(t[t.length-1])(e.request);for(let s=t.length-2;s>=0;s--)r=n(t[s])(r);return{request:r}};function ok(t){return t!==void 0&&t.send!==void 0&&t.constructor.defaultUrl!==void 0&&t.detectNetwork!==void 0&&t.getSigner!==void 0&&t.perform!==void 0}function ak(t){return t!==void 0&&t.send!==void 0}class ck{constructor(e,n){this.provider=void 0,this.defaultChainId=void 0,this.request=r=>(r.chainId||(r.chainId=this.defaultChainId),this.provider(r)),ak(e)?this.provider=r=>e.send(r.method,r.params,r.chainId):ok(e)?this.provider=r=>e.send(r.method,r.params||[]):this.provider=e,this.defaultChainId=n}send(e,n,r){const s={method:e,params:n,chainId:r};return this.request(s)}}class oF{constructor(e){this.requestHandler=void 0,this.isAllowedFunc=void 0,e?this.isAllowedFunc=e:this.isAllowedFunc=n=>!0,this.requestHandler=sx(this.isAllowedFunc)}setIsAllowedFunc(e){this.isAllowedFunc=e,this.requestHandler=sx(this.isAllowedFunc)}}const sx=t=>e=>n=>{if(!t(n))throw new Error("allowProvider middleware precondition is unmet.");return e(n)};class w1{constructor(e){var n=this;this.cachableJsonRpcMethods=["net_version","eth_chainId","eth_accounts","sequence_getWalletContext","sequence_getNetworks"],this.cachableJsonRpcMethodsByBlock=["eth_call","eth_getCode"],this.cache=void 0,this.cacheByBlock=void 0,this.cacheByBlockResetLock=!1,this.onUpdateCallback=void 0,this.defaultChainId=void 0,this.requestHandler=r=>async function(s){if(n.cachableJsonRpcMethods.includes(s.method)||n.cachableJsonRpcMethodsByBlock.includes(s.method)){const o=n.cacheKey(s.method,s.params,s.chainId||n.defaultChainId),a=n.getCacheValue(o);if(a&&a!=="")return{id:s.id,result:a}}const i=await r(s);if((n.cachableJsonRpcMethods.includes(s.method)||n.cachableJsonRpcMethodsByBlock.includes(s.method))&&i&&n.shouldCacheResponse(s,i)){const o=n.cacheKey(s.method,s.params,s.chainId||n.defaultChainId);n.cachableJsonRpcMethods.includes(s.method)?n.setCacheValue(o,i):n.setCacheByBlockValue(o,i)}return i},this.cacheKey=(r,s,i)=>{let o="";return i?o=`${i}:${r}:`:o=`:${r}:`,!s||s.length===0?o+"[]":o+JSON.stringify(s)},this.getCache=()=>this.cache,this.setCache=r=>{this.cache=r,this.onUpdateCallback&&this.onUpdateCallback()},this.getCacheValue=r=>{if(this.cache[r])return this.cache[r];if(this.cacheByBlock[r])return this.cacheByBlock[r]},this.setCacheValue=(r,s)=>{this.cache[r]=s,this.onUpdateCallback&&this.onUpdateCallback(r,s)},this.setCacheByBlockValue=(r,s)=>{this.cacheByBlock[r]=s,this.cacheByBlockResetLock||(this.cacheByBlockResetLock=!0,setTimeout(()=>{this.cacheByBlockResetLock=!1,this.cacheByBlock={}},1500))},this.shouldCacheResponse=(r,s)=>!(!s||r.method==="eth_getCode"&&s.length<=2),this.clearCache=()=>{this.cache={},this.cacheByBlock={}},this.cache={},this.cacheByBlock={},this.defaultChainId=e==null?void 0:e.defaultChainId,e!=null&&e.blockCache?(e==null?void 0:e.blockCache)!==!0&&(this.cachableJsonRpcMethodsByBlock=e==null?void 0:e.blockCache):this.cachableJsonRpcMethodsByBlock=[]}onUpdate(e){this.onUpdateCallback=e}}class uk{constructor(e){var n=this;this.options=void 0,this.requestHandler=r=>async function(s){switch(s.method){case"net_version":if(n.options.chainId)return`${n.options.chainId}`;break;case"eth_chainId":if(n.options.chainId)return Qt(n.options.chainId);break;case"eth_accounts":if(n.options.accountAddress)return[le(n.options.accountAddress)];break;case"sequence_getWalletContext":if(n.options.walletContext)return n.options.walletContext;break}return r(s)},this.options=e}}const lk=t=>async e=>{try{return await t(e)}catch(n){throw typeof n=="string"?new Error(n):new Error(n.message)}},fk=t=>async e=>{const n=e.chainId?` chainId:${e.chainId}`:"";fe.info(`[provider request]${n} id:${e.id} method:${e.method} params:`,e.params);try{const r=await t(e);return fe.info(`[provider response]${n} id:${e.id} method:${e.method} params:`,e.params,"result:",r),r}catch(r){fe.warn(`[provider response]${n} id:${e.id} method:${e.method} params:`,e.params,"error:",r)}},aF=t=>e=>async n=>{const r=t(n);switch(n.method){case"net_version":return`${r}`;case"eth_chainId":return Qt(r)}return e(n)},dk=["personal_sign","eth_sign","eth_signTypedData","eth_signTypedData_v4","eth_sendTransaction","eth_sendRawTransaction","sequence_sign","sequence_signTypedData_v4","sequence_getWalletContext","sequence_getWalletConfig","sequence_getWalletState","sequence_getNetworks","sequence_updateConfig","sequence_publishConfig","sequence_gasRefundOptions","sequence_getNonce","sequence_relay","eth_decrypt","eth_getEncryptionPublicKey","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];class cF{constructor(e){this.provider=void 0,this.requestHandler=n=>r=>dk.includes(r.method)?this.provider.request(r):n(r),this.provider=e}}class uF{constructor(e){this.privateJsonRpcMethods=["net_version","eth_chainId","eth_accounts",...dk],this.provider=void 0,this.rpcUrl=void 0,this.requestHandler=n=>r=>this.provider&&!this.privateJsonRpcMethods.includes(r.method)?this.provider.send(r.method,r.params||[]):(fe.debug("[public-provider] sending request to signer window",r.method),n(r)),e&&this.setRpcUrl(e)}getRpcUrl(){return this.rpcUrl}setRpcUrl(e){!e||e===""?(this.rpcUrl=void 0,this.provider=void 0):(this.rpcUrl=e,this.provider=new It(e))}}class hk{constructor(){var e=this;this.singleflightJsonRpcMethods=["eth_chainId","net_version","eth_call","eth_getCode","eth_blockNumber","eth_getBalance","eth_getStorageAt","eth_getTransactionCount","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getBlockByHash","eth_getBlockByNumber","eth_getTransactionByHash","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getLogs"],this.inflight=void 0,this.requestHandler=n=>async function(r){if(!e.singleflightJsonRpcMethods.includes(r.method))return n(r);const s=e.requestKey(r.method,r.params||[],r.chainId);if(!e.inflight[s])e.inflight[s]=[];else return new Promise((i,o)=>{e.inflight[s].push({id:r.id,callback:(a,c)=>{a?o(a):i(c)}})});try{const i=await n(r);return e.inflight[s].forEach(({callback:o})=>o(void 0,i)),i}catch(i){throw e.inflight[s].forEach(({callback:o})=>o(i,void 0)),i}finally{delete e.inflight[s]}},this.requestKey=(n,r,s)=>{let i="";return s?i=`${s}:${n}:`:i=`:${n}:`,!r||r.length===0?i+"[]":i+JSON.stringify(r)},this.inflight={}}}function xc(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var lF=0;function E1(t){return"__private_"+lF+++"_"+t}var zo=E1("chainId"),ty=E1("nextId"),Ql=E1("sender");class pk extends It{constructor(e,n,r){var s;super(e,n==null?void 0:n.chainId,r),s=this,this.url=e,Object.defineProperty(this,zo,{writable:!0,value:void 0}),Object.defineProperty(this,ty,{writable:!0,value:1}),Object.defineProperty(this,Ql,{writable:!0,value:void 0}),this.fetch=async function(u){if(s.url===void 0)throw new Error("missing provider URL");const{method:l,params:f}=u,d={method:l,params:f,id:xc(s,ty)[ty]++,jsonrpc:"2.0"},p=typeof s.url=="string"?new Ot(s.url):s.url;p.body=JSON.stringify(d);try{const y=await p.send();if(y.body)try{const g=JSON.parse(Xr(y.body));return fF(g)}catch{throw new Error("invalid JSON response")}return null}catch(y){throw y}};const i=n==null?void 0:n.chainId,o=n==null?void 0:n.middlewares,a=n==null?void 0:n.blockCache;xc(this,zo)[zo]=i;const c=new sk(o??[new uk({chainId:i}),new hk,new w1({defaultChainId:i,blockCache:a})],new ck(this.fetch,i));xc(this,Ql)[Ql]=c}async request(e){return xc(this,Ql)[Ql].request(e)}async send(e,n,r){return this.request({method:e,params:n,chainId:r})}async getNetwork(){const e=xc(this,zo)[zo];if(e){const n=xd[e],r=(n==null?void 0:n.name)||"",s=n==null?void 0:n.ensAddress;return qe.from({name:r,chainId:e,ensAddress:s})}else{const n=await this.send("eth_chainId",[]);return xc(this,zo)[zo]=Number(n),this.getNetwork()}}}function fF(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}const dF=Object.freeze(Object.defineProperty({__proto__:null,AllowProvider:oF,CachedProvider:w1,ChainId:I,EagerProvider:uk,JsonRpcHandler:ck,JsonRpcProvider:pk,JsonRpcRouter:sk,NetworkType:de,PublicProvider:uF,SigningProvider:cF,SingleflightMiddleware:hk,allNetworks:ah,allowProviderMiddleware:sx,checkNetworkConfig:sF,createJsonRpcMiddlewareStack:ik,ensureUniqueNetworks:nF,ensureValidNetworks:JS,exceptionProviderMiddleware:lk,findNetworkConfig:Ar,findSupportedNetwork:x1,getChainId:qS,hardhatNetworks:rk,indexerURL:ZS,isJsonRpcProvider:ok,isJsonRpcSender:ak,isNetworkConfig:eF,isValidNetworkConfig:QS,loggingProviderMiddleware:fk,maybeChainId:tF,networkProviderMiddleware:aF,networks:xd,networksIndex:iF,nodesURL:tk,relayerURL:ek,sortNetworks:XS,stringTemplate:xg,toChainIdNumber:nk,updateNetworkConfig:rF,validateAndSortNetworks:YS},Symbol.toStringTag,{value:"Module"}));function Jt(){return Jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jt.apply(null,arguments)}function ch(t){return ui(["bytes","uint256","address","bytes32"],["0x1901",t.chainId,t.address,t.digest])}function gk(t){return t.digest!==void 0&&t.chainId!==void 0&&t.address!==void 0}var hF=Object.freeze({__proto__:null,subdigestOf:ch,isSignedPayload:gk});const pF="0x1626ba7e",gF=[{inputs:[{internalType:"bytes32",type:"bytes32"},{internalType:"bytes",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",type:"bytes4"}],stateMutability:"view",type:"function"}];async function mk(t,e,n,r){return await new vn(t,gF,r).isValidSignature(e,n)===pF}var mF=Object.freeze({__proto__:null,isValidEIP1271Signature:mk});let Io=function(t){return t[t.EIP712=1]="EIP712",t[t.ETH_SIGN=2]="ETH_SIGN",t[t.WALLET_BYTES32=3]="WALLET_BYTES32",t}({});function yF(t){const e=$(t),n=e[e.length-1];return n===Io.EIP712||n===Io.ETH_SIGN}function uh(t,e){const n=$(e),r=$(t),s=n[n.length-1],i=L(n.slice(0,32)),o=L(n.slice(32,64)),a=Number(L(n.slice(64,65))),c={r:i,s:o,v:a};if(s===Io.EIP712)return hl(r,c);if(s===Io.ETH_SIGN)return hl(fg(r),c);throw new Error(`Unsupported signature type: ${s}`)}function v1(t,e,n,r){const s=$(n),i=s[s.length-1];if(i===Io.EIP712||i===Io.ETH_SIGN)return t===uh(e,n);if(i===Io.WALLET_BYTES32)return mk(t,L(e),s.slice(0,-1),r);throw new Error(`Unsupported signature type: ${i}`)}function bF(t,e){const n=$(e);if(n.length===66)try{return uh(t,n)}catch{}}var xF=Object.freeze({__proto__:null,SigType:Io,canRecover:yF,recoverSigner:uh,isValidSignature:v1,tryRecoverSigner:bF});let Ga=function(t){return t[t.EOASignature=0]="EOASignature",t[t.Address=1]="Address",t[t.DynamicSignature=2]="DynamicSignature",t}({});function A1(t){return t.address!==void 0&&!yk(t)}function yk(t){return t.signature!==void 0&&t.weight!==void 0&&t.isDynamic!==void 0}function bk(t){return t.threshold!==void 0&&t.signers!==void 0}function xk(t){const e=$(t),n=e[0]<<8|e[1],r=[];for(let s=2;s<e.length;){const i=e[s++],o=e[s++];switch(i){case Ga.EOASignature:r.push({unrecovered:!0,weight:o,signature:L(e.slice(s,s+66)),isDynamic:!1}),s+=66;break;case Ga.Address:r.push({weight:o,address:le(L(e.slice(s,s+20)))}),s+=20;break;case Ga.DynamicSignature:const a=le(L(e.slice(s,s+20)));s+=20;const c=e[s]<<8|e[s+1];s+=2,r.push({unrecovered:!0,weight:o,signature:L(e.slice(s,s+c)),address:a,isDynamic:!0}),s+=c;break;default:throw new Error(`Unknown signature part type: ${i}`)}}return{version:1,threshold:n,signers:r}}function S1(t){if(Cs(t))return L(t);const{signers:e,threshold:n}=bk(t)?t:t.config,r=e.map(s=>{if(A1(s))return we(["uint8","uint8","address"],[Ga.Address,s.weight,s.address]);if(s.isDynamic){const i=$(s.signature);return we(["uint8","uint8","address","uint16","bytes"],[Ga.DynamicSignature,s.weight,s.address,i.length,i])}return we(["uint8","uint8","bytes"],[Ga.EOASignature,s.weight,s.signature])});return we(["uint16",...new Array(r.length).fill("bytes")],[n,...r])}async function wk(t,e,n){const r=ch(e),s=await Promise.all(t.signers.map(async i=>{if(A1(i))return i;if(i.isDynamic){if(!i.address)throw new Error("Dynamic signature part must have address");if(!v1(i.address,r,i.signature,n))throw new Error(`Invalid dynamic signature part ${i.address}`);return{address:i.address,weight:i.weight,signature:i.signature}}else return{address:uh(r,i.signature),weight:i.weight,signature:i.signature}}));return{version:1,payload:e,subdigest:r,config:{version:1,threshold:t.threshold,signers:s}}}function If(t,e,n,r){if(n.length!==0)throw new Error("Explicit subdigests not supported on v1");let s=0n;const i=t.signers.map(a=>{if(!e.has(a.address))return a;const c=e.get(a.address),u=$(c.signature);return s+=BigInt(a.weight),c.isDynamic||u.length!==66?Jt({},a,{isDynamic:!0,signature:c.signature,address:a.address}):Jt({},a,{isDynamic:!1,signature:c.signature})});return{encoded:S1({version:1,threshold:t.threshold,signers:i}),weight:s}}const k1={decode:t=>xk(t),encode:t=>S1(t),trim:async t=>t,supportsNoChainId:!0,recover:(t,e,n)=>wk(t,e,n),encodeSigners:(t,e,n,r)=>If(t,e,n),hasEnoughSigningPower:(t,e)=>{const{weight:n}=k1.encodeSigners(t,e,[],0);return n>=BigInt(t.threshold)},chainSignatures:(t,e)=>{throw new Error("Signature chaining not supported on v1")},hashSetImageHash:function(t){throw new Error("Image hash not supported on v1")},signaturesOf(t){return t.signers.filter(e=>e.signature!==void 0).map(e=>({address:e.address,signature:e.signature}))},signaturesOfDecoded:function(t){return t.signers.map(e=>e.signature).filter(e=>e!==void 0)}};var wF=Object.freeze({__proto__:null,SignaturePartType:Ga,isAddressMember:A1,isUnrecoveredSignatureMember:yk,isUnrecoveredSignature:bk,decodeSignature:xk,encodeSignature:S1,recoverSignature:wk,encodeSigners:If,SignatureCoder:k1});const T1={isWalletConfig:t=>t.version===1&&t.threshold!==void 0&&t.signers!==void 0,imageHashOf:t=>t.signers.reduce((e,n)=>me(Ct.defaultAbiCoder().encode(["bytes32","uint8","address"],[e,n.weight,n.address])),we(["uint256"],[t.threshold])),hasSubdigest:(t,e)=>!1,isComplete:t=>!0,checkpointOf:t=>0n,signersOf:t=>t.signers.map(e=>({address:e.address,weight:Number(e.weight)})),fromSimple:t=>{if(BigInt(t.checkpoint)!==0n)throw new Error("v1 wallet config does not support checkpoint");if(t.subdigests&&t.subdigests.length>0)throw new Error("v1 wallet config does not support subdigests");return{version:1,threshold:t.threshold,signers:t.signers}},update:{isKindUsed:!0,buildTransaction:(t,e,n,r)=>{const s=new Et([...Tt.mainModule.abi,...Tt.mainModuleUpgradable.abi]),i=[];return(!r||r==="first")&&i.push({to:t,data:s.encodeFunctionData(s.getFunction("updateImplementation"),[n.mainModuleUpgradable]),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}),i.push({to:t,data:s.encodeFunctionData(s.getFunction("updateImageHash"),[T1.imageHashOf(e)]),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}),{entrypoint:t,transactions:i}},decodeTransaction:function(t){throw new Error("Function not implemented.")}},toJSON:function(t){const e=t.signers.map(n=>({weight:BigInt(n.weight).toString(),address:n.address}));return JSON.stringify({version:t.version,threshold:BigInt(t.threshold).toString(),signers:e})},fromJSON:function(t){const e=JSON.parse(t),n=e.signers.map(r=>({weight:BigInt(r.weight),address:r.address}));return{version:e.version,threshold:BigInt(e.threshold),signers:n}},editConfig:function(t,e){var n;const r=t.signers.slice();if(e.checkpoint&&BigInt(e.checkpoint)!==0n)throw new Error("v1 wallet config does not support checkpoint");if(e.add)for(const s of e.add)r.find(i=>i.address===s.address)||r.push({weight:s.weight,address:s.address});if(e.remove)for(const s of e.remove){const i=r.findIndex(o=>o.address===s);i>=0&&r.splice(i,1)}return{version:t.version,threshold:(n=e.threshold)!=null?n:t.threshold,signers:r}},buildStubSignature:function(t,e){const n=new Map;for(const[s,i]of e.entries()){n.set(s,{signature:i,isDynamic:!0});const{encoded:o,weight:a}=If(t,n,[]);if(a>=BigInt(t.threshold))return o}const r=t.signers;for(const{address:s}of r.sort(({weight:i},{weight:o})=>Number(i)-Number(o))){n.set(s,{signature:"0x4e82f02f388a12b5f9d29eaf2452dd040c0ee5804b4e504b4dd64e396c6c781f2c7624195acba242dd825bfd25a290912e3c230841fd55c9a734c4de8d9899451b02",isDynamic:!1});const{encoded:o,weight:a}=If(t,n,[]);if(a>=BigInt(t.threshold))return o}return If(t,n,[]).encoded}};var EF=Object.freeze({__proto__:null,ConfigCoder:T1}),vF=Object.freeze({__proto__:null});const Ek=1,vk={version:Ek,factory:"0xf9D09D634Fb818b05149329C1dcCFAeA53639d96",guestModule:"0x02390F3E6E5FD1C6786CB78FD3027C117a9955A7",mainModule:"0xd01F11855bCcb95f88D7A48492F66410d4637313",mainModuleUpgradable:"0x7EFE6cE415956c5f80C6530cC6cc81b4808F6118",walletCreationCode:"0x603a600e3d39601a805130553df3363d3d373d3d3d363d30545af43d82803e903d91601857fd5bf3"};var ni=Object.freeze({__proto__:null,config:EF,context:vF,signature:wF,version:Ek,DeployedWalletContext:vk});const I1="0x8713a7c4465f6fbee2b6e9d6646d1d9f83fec929edfc4baf661f3c865bdd04d1";function Ak(t){return me(Sk(t))}function Sk(t){return we(["bytes32","bytes32"],[I1,t])}function kk(t){const e=$(t);if(e.length===64&&L(e.slice(0,32))===I1)return L(e.slice(32,64))}function AF(t){return kk(t)!==void 0}var SF=Object.freeze({__proto__:null,SetImageHashPrefix:I1,hashSetImageHash:Ak,messageSetImageHash:Sk,decodeMessageSetImageHash:kk,isMessageSetImageHash:AF});let Bt=function(t){return t[t.Legacy=0]="Legacy",t[t.Dynamic=1]="Dynamic",t[t.NoChainIdDynamic=2]="NoChainIdDynamic",t[t.Chained=3]="Chained",t}({}),dt=function(t){return t[t.Signature=0]="Signature",t[t.Address=1]="Address",t[t.DynamicSignature=2]="DynamicSignature",t[t.Node=3]="Node",t[t.Branch=4]="Branch",t[t.Subdigest=5]="Subdigest",t[t.Nested=6]="Nested",t}({});const Sp=66;function oc(t){return t.left!==void 0&&t.right!==void 0}function Bl(t){return t.tree!==void 0}function lh(t){return t.unrecovered&&t.signature!==void 0&&t.isDynamic!==void 0}function kp(t){let e=$(t),n;const r=(s,i)=>s?s.right?{left:s,right:i}:{left:s.left,right:i}:{left:i};for(;e.length>0;){const s=e[0];switch(e=e.slice(1),s){case dt.Signature:{const i=e[0],o=L(e.slice(1,Sp+1));n=r(n,{signature:o,weight:i,unrecovered:!0,isDynamic:!1}),e=e.slice(Sp+1)}break;case dt.Address:{const i=e[0],o=le(L(e.slice(1,21)));n=r(n,{address:o,weight:i}),e=e.slice(21)}break;case dt.DynamicSignature:{const i=e[0],o=le(L(e.slice(1,21))),a=e[21]<<16|e[22]<<8|e[23],c=L(e.slice(24,24+a));n=r(n,{address:o,signature:c,weight:i,unrecovered:!0,isDynamic:!0}),e=e.slice(24+a)}break;case dt.Node:{const i=L(e.slice(0,32));n=r(n,{nodeHash:i}),e=e.slice(32)}break;case dt.Branch:{const i=e[0]<<16|e[1]<<8|e[2],o=kp(e.slice(3,3+i));n=r(n,o),e=e.slice(3+i)}break;case dt.Subdigest:{const i=L(e.slice(0,32));n=r(n,{subdigest:i}),e=e.slice(32)}break;case dt.Nested:{const i=e[0],o=e[1]<<8|e[2],a=e[3]<<16|e[4]<<8|e[5],c=kp(e.slice(6,6+a));n=r(n,{weight:i,threshold:o,tree:c}),e=e.slice(6+a)}break;default:throw new Error(`Unknown signature part type: ${s}: ${L(e)}`)}}if(!n)throw new Error("Empty signature tree");return n.right?n:n.left}class Tk extends Error{constructor(e){super(`Invalid signature leaf: ${JSON.stringify(e)}`),this.leaf=e}}async function Va(t,e,n){if(oc(t)){const[r,s]=await Promise.all([Va(t.left,e,n),Va(t.right,e,n)]);return{left:r,right:s}}if(Bl(t))return{weight:t.weight,threshold:t.threshold,tree:await Va(t.tree,e,n)};if(lh(t))if(t.isDynamic){if(!t.address)throw new Error("Dynamic signature leaf without address");if(!await v1(t.address,e,t.signature,n))throw new Tk(t);return{weight:t.weight,address:t.address,signature:t.signature,subdigest:e}}else return{weight:t.weight,address:uh(e,t.signature),signature:t.signature,subdigest:e};return t}const sn={concat:(t,e)=>we(["bytes","bytes"],[t,e]),node:t=>we(["uint8","bytes32"],[dt.Node,t]),branch:t=>{const e=$(t);return we(["uint8","uint24","bytes"],[dt.Branch,e.length,e])},nested:(t,e,n)=>{const r=$(n);return we(["uint8","uint8","uint16","uint24","bytes"],[dt.Nested,t,e,r.length,r])},subdigest:t=>we(["uint8","bytes32"],[dt.Subdigest,t]),signature:(t,e)=>we(["uint8","uint8","bytes"],[dt.Signature,t,e]),dynamicSignature:(t,e,n)=>{const r=$(n);return we(["uint8","uint8","address","uint24","bytes"],[dt.DynamicSignature,t,e,r.length,r])},address:(t,e)=>we(["uint8","uint8","address"],[dt.Address,t,e])};function Of(t,e,n,r,s={}){const i=Cf(t.tree,e,n,s);return BigInt(r)===0n?{encoded:we(["uint8","uint16","uint32","bytes"],[Bt.NoChainIdDynamic,t.threshold,t.checkpoint,i.encoded]),weight:i.weight}:BigInt(t.threshold)>255n?{encoded:we(["uint8","uint16","uint32","bytes"],[Bt.Dynamic,t.threshold,t.checkpoint,i.encoded]),weight:i.weight}:{encoded:we(["uint8","uint8","uint32","bytes"],[Bt.Legacy,t.threshold,t.checkpoint,i.encoded]),weight:i.weight}}function Cf(t,e,n,r={}){const s=!r.disableTrim;if(ts(t)){const i=Cf(t.left,e,n),o=Cf(t.right,e,n),a=An(t.left),c=An(t.right);return s&&i.weight===0n&&o.weight===0n&&!a&&!c?{encoded:sn.node(xr(t)),weight:0n}:s&&o.weight===0n&&!c?{encoded:sn.concat(i.encoded,sn.node(xr(t.right))),weight:i.weight}:s&&i.weight===0n&&!a?{encoded:sn.concat(sn.node(xr(t.left)),sn.branch(o.encoded)),weight:o.weight}:{encoded:sn.concat(i.encoded,sn.branch(o.encoded)),weight:i.weight+o.weight}}if(Si(t)){const i=Cf(t.tree,e,n);return s&&i.weight===0n?{encoded:sn.node(xr(t)),weight:0n}:{encoded:sn.nested(t.weight,t.threshold,i.encoded),weight:i.weight}}if(ki(t))return{encoded:sn.node(xr(t)),weight:0n};if(Ai(t)){const i=n.includes(t.subdigest);return{encoded:sn.subdigest(t.subdigest),weight:i?LS:0n}}if(An(t))if(e.has(t.address)){const o=e.get(t.address),a=o.signature;return r.forceDynamicEncoding||o.isDynamic?{encoded:sn.dynamicSignature(t.weight,t.address,a),weight:BigInt(t.weight)}:{encoded:sn.signature(t.weight,a),weight:BigInt(t.weight)}}else return{encoded:sn.address(t.weight,t.address),weight:0n};throw new Error(`Invalid topology - unknown error: ${JSON.stringify(t)}`)}function O1(t){return N1(t)?O1(t.suffix[t.suffix.length-1]):t.config}function C1(t){return t.type!==void 0&&t.decoded!==void 0&&t.version!==void 0&&t.version===2}function fh(t){return t.suffix!==void 0&&Array.isArray(t.suffix)&&t.suffix.every(C1)}function Ik(t){return t.type!==void 0&&t.config!==void 0&&t.digest!==void 0&&t.version!==void 0&&t.version===2}function N1(t){return t.chain!==void 0&&Array.isArray(t.chain)&&t.chain.every(Ik)}function wg(t){const e=$(t),n=e[0];switch(n){case Bt.Legacy:return{version:2,type:Bt.Legacy,decoded:P0(e)};case Bt.Dynamic:return{version:2,type:Bt.Dynamic,decoded:P0(e.slice(1))};case Bt.NoChainIdDynamic:return{version:2,type:Bt.NoChainIdDynamic,decoded:P0(e.slice(1))};case Bt.Chained:return Ok(e);default:throw new Error(`Invalid signature type: ${n}`)}}function P0(t){const e=$(t),n=e[0]<<8|e[1],r=e[2]<<24|e[3]<<16|e[4]<<8|e[5],s=kp(e.slice(6));return{threshold:n,checkpoint:r,tree:s}}function Ok(t){const e=$(t),n=e[0];if(n!==Bt.Chained)throw new Error(`Expected chained signature type: ${n}`);const r=[];let s=1;for(;s<e.length;){const a=e[s]<<16|e[s+1]<<8|e[s+2];s+=3;const c=wg(e.slice(s,s+a));r.push(c),s+=a}const i=r[0];if(fh(i))throw new Error("Expected first link of chained signature to be a simple signature (not chained)");const o=r.slice(1);return Jt({},i,{suffix:o})}function Ck(t){return we(["bytes32","bytes32"],[ui(["string"],["SetImageHash(bytes32 imageHash)"]),t])}async function P1(t,e,n){const r=e.subdigest===void 0?e:void 0;t.type===Bt.NoChainIdDynamic&&r&&(r.chainId=0);const i=r?ch(r):e.subdigest;if(!fh(t)){const l=await Va(t.decoded.tree,i,n);return{version:2,type:t.type,subdigest:i,config:Jt({version:2},t.decoded,{tree:l})}}if(!gk(r))throw new Error("Chained signature recovery requires detailed signed payload, subdigest is not enough");const o=[];let a=r;for(const l of[Jt({},t,{suffix:void 0}),...t.suffix]){const f=await P1(l,a,n);o.unshift(f);const d=Ck(_1(O1(f)));a=Jt({},a,{message:d,digest:me(d)})}const c=o[0],u=o.slice(1);return Jt({},c,{suffix:u})}function Eg(t,e){const r=[t,...e||[]].map(i=>$(Oo(i))),s=we(r.map(()=>["uint24","bytes"]).flat(),r.map(i=>[i.length,i]).flat());return we(["uint8","bytes"],[Bt.Chained,s])}function Oo(t){if(Cs(t))return L(t);if(fh(t)||N1(t))return Eg(Oo(t),(t.suffix||[]).map(Oo));const e=C1(t)?t.decoded:t.config;switch(t.type){case Bt.Legacy:if(BigInt(e.threshold)>255n)throw new Error(`Legacy signature threshold is too large: ${e.threshold} (max 255)`);return ix(e);case Bt.NoChainIdDynamic:case Bt.Dynamic:return we(["uint8","bytes"],[t.type,ix(e)]);case Bt.Chained:throw new Error("Unreachable code: Chained signature should be handled above");default:throw new Error(`Invalid signature type: ${t.type}`)}}function ix(t){return we(["uint16","uint32","bytes"],[t.threshold,t.checkpoint,Nf(t.tree)])}function Nf(t){if(ts(t)||oc(t)){const e=$(Nf(t.right)),n=$(Nf(t.left));return ts(t.right)||oc(t.right)?we(["bytes","uint8","uint24","bytes"],[n,dt.Branch,e.length,e]):we(["bytes","bytes"],[n,e])}if(Si(t)||Bl(t)){const e=$(Nf(t.tree));return we(["uint8","uint8","uint16","uint24","bytes"],[dt.Nested,t.weight,t.threshold,e.length,e])}if(lh(t)||An(t)&&t.signature!==void 0){const e=$(t.signature);if(t.isDynamic||e.length!==Sp){if(!t.address)throw new Error("Dynamic signature leaf must have address");return we(["uint8","uint8","address","uint24","bytes"],[dt.DynamicSignature,t.weight,t.address,e.length,e])}else return we(["uint8","uint8","bytes"],[dt.Signature,t.weight,e])}if(An(t))return we(["uint8","uint8","address"],[dt.Address,t.weight,t.address]);if(ki(t))return we(["uint8","bytes32"],[dt.Node,t.nodeHash]);if(Ai(t))return we(["uint8","bytes32"],[dt.Subdigest,t.subdigest]);throw new Error(`Unknown signature tree type: ${t}`)}function Pf(t){return ts(t)?[...Pf(t.left),...Pf(t.right)]:Si(t)?Pf(t.tree):An(t)&&t.signature?[{address:t.address,signature:t.signature}]:[]}function Rf(t){return oc(t)?[...Rf(t.left),...Rf(t.right)]:Bl(t)?Rf(t.tree):lh(t)?[t.signature]:[]}function R0(t){return oc(t)?[...R0(t.left),...R0(t.right)]:Bl(t)?R0(t.tree):Ai(t)?[t.subdigest]:[]}async function Tp(t){const e=typeof t=="string"?wg(t):t;if(fh(e)){const r=await Promise.all([Tp(Jt({},e,{suffix:void 0})),...e.suffix.map(s=>Tp(s))]);return Eg(r[0],r.slice(1))}const{trimmed:n}=await _f(e.decoded.tree);return Oo(Jt({},e,{decoded:Jt({},e.decoded,{tree:n})}))}async function _f(t,e=!0){if(oc(t)){const[n,r]=await Promise.all([_f(t.left),_f(t.right)]);if(n.weight===0&&r.weight===0)try{const s=await Va(t,id,void 0);return{weight:0,trimmed:{nodeHash:xr(s)}}}catch{}else return{weight:n.weight+r.weight,trimmed:{left:n.trimmed,right:r.trimmed}}}if(Bl(t)){const n=await _f(t.tree);if(n.weight===0)try{const r=await Va(t,id,void 0);return{weight:0,trimmed:{nodeHash:xr(r)}}}catch{}return{weight:n.weight,trimmed:{weight:t.weight,threshold:t.threshold,tree:n.trimmed}}}return ki(t)&&Rk(t.nodeHash)?{weight:0,trimmed:Jt({},Pk(t.nodeHash))}:lh(t)||An(t)&&t.signature!==void 0?{weight:Number(t.weight),trimmed:t}:!e&&Ai(t)?{weight:1/0,trimmed:t}:{weight:0,trimmed:t}}const vg={decode:t=>wg(t),encode:t=>Oo(t),trim:t=>Tp(t),supportsNoChainId:!0,recover:(t,e,n)=>P1(t,e,n),encodeSigners:(t,e,n,r)=>Of(t,e,n,r),hasEnoughSigningPower:(t,e)=>{const{weight:n}=vg.encodeSigners(t,e,[],0);return n>=BigInt(t.threshold)},chainSignatures:(t,e)=>{const n=e.reverse(),r=Cs(t)?t:Oo(t),s=n.map(i=>Cs(i)?i:Oo(i));return Eg(r,s)},hashSetImageHash:function(t){return Ak(t)},signaturesOf(t){return Pf(t.tree)},signaturesOfDecoded:function(t){return Rf(t.decoded.tree)}};var kF=Object.freeze({__proto__:null,SignatureType:Bt,SignaturePartType:dt,SignaturePartTypeLength:Sp,isUnrecoveredNode:oc,isUnrecoveredNestedLeaf:Bl,isUnrecoveredSignatureLeaf:lh,decodeSignatureTree:kp,InvalidSignatureLeafError:Tk,recoverTopology:Va,partEncoder:sn,encodeSigners:Of,encodeTree:Cf,deepestConfigOfSignature:O1,isUnrecoveredSignature:C1,isUnrecoveredChainedSignature:fh,isSignature:Ik,isChainedSignature:N1,decodeSignature:wg,decodeSignatureBody:P0,decodeChainedSignature:Ok,setImageHashStruct:Ck,recoverSignature:P1,encodeChain:Eg,encodeSignature:Oo,encodeSignatureBody:ix,encodeSignatureTree:Nf,signaturesOf:Pf,signaturesOfDecoded:Rf,subdigestsOfDecoded:R0,trimSignature:Tp,trimUnrecoveredTree:_f,SignatureCoder:vg});function An(t){return t.address!==void 0&&t.weight!==void 0}function Ai(t){return t.subdigest!==void 0&&t.address===void 0}function Bf(t){return ts(t)?JSON.stringify({left:Bf(t.left),right:Bf(t.right)}):Si(t)?JSON.stringify({weight:BigInt(t.weight).toString(),threshold:BigInt(t.threshold).toString(),tree:Bf(t.tree)}):An(t)?JSON.stringify({address:t.address,weight:BigInt(t.weight).toString()}):JSON.stringify(t)}function Mf(t){const e=typeof t=="string"?JSON.parse(t):t;return e.left!==void 0&&e.right!==void 0?{left:Mf(e.left),right:Mf(e.right)}:e.weight!==void 0&&e.threshold!==void 0&&e.tree!==void 0?{weight:BigInt(e.weight),threshold:BigInt(e.threshold),tree:Mf(e.tree)}:e.address!==void 0&&e.weight!==void 0?{address:e.address,weight:BigInt(e.weight)}:e}function Si(t){return t.tree!==void 0&&t.weight!==void 0&&t.threshold!==void 0}function ki(t){return t.nodeHash!==void 0}function R1(t){return An(t)||Ai(t)||Si(t)||ki(t)}function ts(t){return t.left!==void 0&&t.right!==void 0}function TF(t){return ts(t)||R1(t)}function Nk(t){return we(["uint96","address"],[t.weight,t.address])}function Pk(t){const e=$(t);if(e.length!==32)throw new Error("Invalid encoded string length");const n=BigInt(L(e.slice(0,12))),r=le(L(e.slice(12)));return{weight:n,address:r}}function Rk(t){const e=$(t);return e.length!==32?!1:e.slice(0,11).every(r=>r===0)}function xr(t){if(An(t))return Nk(t);if(Ai(t))return ui(["string","bytes32"],[`Sequence static digest:
`,t.subdigest]);if(Si(t)){const e=xr(t.tree);return ui(["string","bytes32","uint256","uint256"],[`Sequence nested config:
`,e,t.threshold,t.weight])}return ki(t)?t.nodeHash:ui(["bytes32","bytes32"],[xr(t.left),xr(t.right)])}function IF(t){const e=[];let n=t;for(;!R1(n);)e.unshift(n.right),n=n.left;return e.unshift(n),e}function OF(t){return t.threshold!==void 0&&t.checkpoint!==void 0&&t.tree!==void 0&&t.version!==void 0&&t.version===2}function _1(t){return ui(["bytes32","uint256"],[ui(["bytes32","uint256"],[xr(t.tree),t.threshold]),t.checkpoint])}function _k(t){return t.threshold!==void 0&&t.weight!==void 0&&t.members!==void 0}function su(t){return An(t)||Ai(t)?[t]:Si(t)?[{threshold:t.threshold,weight:t.weight,members:su(t.tree)}]:ki(t)?[]:[...su(t.left),...su(t.right)]}function ox(t){return ki(t)?!0:ts(t)?ox(t.left)||ox(t.right):!1}function CF(t){return{threshold:t.threshold,checkpoint:t.checkpoint,members:su(t.tree)}}const Bk=(t,e)=>t.map(n=>_k(n)?{tree:e(n.members),threshold:n.threshold,weight:n.weight}:n);function B1(t){if(t.length===0)throw new Error("Empty members array");return Bk(t,B1).reduce((n,r)=>({left:n,right:r}))}function M1(t){if(t.length===0)throw new Error("Empty members array");const e=Bk(t,M1);for(let n=e.length;n>1;n=n/2)for(let r=0;r<n/2;r++){const s=r*2,i=s+1;i>=n?e[r]=e[s]:e[r]={left:e[s],right:e[i]}}return e[0]}function L1(t){return t.length>8?M1(t):B1(t)}function Mk(t,e=L1){return{version:2,threshold:t.threshold,checkpoint:t.checkpoint,tree:e(t.members)}}function Ip(t,e){return Ai(t)?t.subdigest===e:ts(t)?Ip(t.left,e)||Ip(t.right,e):!1}function ax(t){const e=[t],n=new Set;for(;e.length>0;){const r=e.pop();Si(r)?e.push(r.tree):ts(r)?(e.push(r.left),e.push(r.right)):An(r)&&n.add({address:r.address,weight:Number(r.weight)})}return Array.from(n)}function Op(t){return ts(t)?Op(t.left)&&Op(t.right):!ki(t)}const Ag={isWalletConfig:t=>t.version===2&&t.threshold!==void 0&&t.tree!==void 0,imageHashOf:t=>_1(t),hasSubdigest:(t,e)=>Ip(t.tree,e),checkpointOf:t=>BigInt(t.checkpoint),signersOf:t=>ax(t.tree),fromSimple:t=>{var e;return Mk(Jt({},t,{members:[...t.signers,...((e=t.subdigests)!=null?e:[]).map(n=>({subdigest:n}))]}))},isComplete:t=>Op(t.tree),update:{isKindUsed:!0,buildTransaction:(t,e,n,r)=>{const s=new Et(Tt.mainModuleUpgradable.abi);return{entrypoint:t,transactions:[{to:t,data:s.encodeFunctionData(s.getFunction("updateImageHash"),[Ag.imageHashOf(e)]),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}]}},decodeTransaction:function(t){var e,n,r,s;const i=new Et(Tt.mainModuleUpgradable.abi);if(t.transactions.length!==1)throw new Error("Invalid transaction bundle, expected 1 transaction");const o=t.transactions[0].data;if(!o)throw new Error("Invalid transaction bundle, expected data");const a=i.decodeFunctionData(i.getFunction("updateImageHash"),o);if(!a)throw new Error("Invalid transaction bundle, expected valid data");if(t.transactions[0].to!==t.entrypoint)throw new Error("Invalid transaction bundle, expected to be sent to entrypoint");if(t.transactions[0].delegateCall)throw new Error("Invalid transaction bundle, expected not to be a delegateCall");if(!t.transactions[0].revertOnError)throw new Error("Invalid transaction bundle, expected revertOnError");if(BigInt((e=(n=t.transactions[0])==null?void 0:n.value)!=null?e:0)!==0n)throw new Error("Invalid transaction bundle, expected value to be 0");if(BigInt((r=(s=t.transactions[0])==null?void 0:s.gasLimit)!=null?r:0)!==0n)throw new Error("Invalid transaction bundle, expected value to be 0");return{address:t.entrypoint,newImageHash:a[0],kind:void 0}}},toJSON:function(t){return JSON.stringify({version:t.version,threshold:BigInt(t.threshold).toString(),checkpoint:BigInt(t.checkpoint).toString(),tree:Bf(t.tree)})},fromJSON:function(t){const e=JSON.parse(t);return{version:e.version,threshold:BigInt(e.threshold),checkpoint:BigInt(e.checkpoint),tree:Mf(e.tree)}},editConfig:function(t,e){var n,r;const s=su(t.tree);if(e.add)for(const i of e.add)s.find(o=>An(o)&&o.address===i.address)||s.push({address:i.address,weight:i.weight});if(e.remove)for(const i of e.remove){const o=s.findIndex(a=>An(a)&&a.address===i);o>=0&&s.splice(o,1)}return{version:t.version,threshold:(n=e.threshold)!=null?n:t.threshold,checkpoint:(r=e.checkpoint)!=null?r:t.checkpoint,tree:L1(s)}},buildStubSignature:function(t,e){const n=new Map;for(const[s,i]of e.entries()){n.set(s,{signature:i,isDynamic:!0});const{encoded:o,weight:a}=Of(t,n,[],0);if(a>=BigInt(t.threshold))return o}const r=ax(t.tree);for(const{address:s}of r.sort(({weight:i},{weight:o})=>i-o)){n.set(s,{signature:"0x4e82f02f388a12b5f9d29eaf2452dd040c0ee5804b4e504b4dd64e396c6c781f2c7624195acba242dd825bfd25a290912e3c230841fd55c9a734c4de8d9899451b02",isDynamic:!1});const{encoded:o,weight:a}=Of(t,n,[],0);if(a>=BigInt(t.threshold))return o}return Of(t,n,[],0).encoded}};var NF=Object.freeze({__proto__:null,isSignerLeaf:An,isSubdigestLeaf:Ai,topologyToJSON:Bf,topologyFromJSON:Mf,isNestedLeaf:Si,isNodeLeaf:ki,isLeaf:R1,isNode:ts,isTopology:TF,encodeSignerLeaf:Nk,decodeSignerLeaf:Pk,isEncodedSignerLeaf:Rk,hashNode:xr,leftFace:IF,isWalletConfig:OF,imageHash:_1,isSimpleNestedMember:_k,topologyToMembers:su,hasUnknownNodes:ox,toSimpleWalletConfig:CF,legacyTopologyBuilder:B1,merkleTopologyBuilder:M1,optimized2SignersTopologyBuilder:L1,toWalletConfig:Mk,hasSubdigest:Ip,signersOf:ax,isComplete:Op,ConfigCoder:Ag}),PF=Object.freeze({__proto__:null});const RF={config:Ag,signature:vg},Lk=2,Dk={version:Lk,factory:"0xFaA5c0b14d1bED5C888Ca655B9a8A5911F78eF4A",guestModule:"0xfea230Ee243f88BC698dD8f1aE93F8301B6cdfaE",mainModule:"0xfBf8f1A5E00034762D928f46d438B947f5d4065d",mainModuleUpgradable:"0x4222dcA3974E39A8b41c411FeDDE9b09Ae14b911",walletCreationCode:"0x603a600e3d39601a805130553df3363d3d373d3d3d363d30545af43d82803e903d91601857fd5bf3",proxyImplementationHook:"0x1f56dbAD5e8319F0DE9a323E24A31b5077dEB1a4"};var ge=Object.freeze({__proto__:null,config:NF,signature:kF,context:PF,chained:SF,coders:RF,version:Lk,DeployedWalletContext:Dk}),_F=Object.freeze({__proto__:null});function cx(t,e){const n=me(we(["bytes","bytes32"],[t.walletCreationCode,vr(t.mainModule,32)])),r=me(we(["bytes1","address","bytes32","bytes32"],["0xff",t.factory,e,n]));return le(Ve(r,12))}async function BF(t,e,n,r,s,i){return(await Promise.all(Qk.map(async a=>{try{const c=a.signature.SignatureCoder.decode(L(n)),u=await a.signature.SignatureCoder.recover(c,{address:t,digest:L(e),chainId:r},s),l=a.config.ConfigCoder.imageHashOf(u.config);if(cx(i[a.version],l).toLowerCase()===t.toLowerCase())return!0;const d=await a.signature.SignatureCoder.recover(c,{address:t,digest:L(e),chainId:r},s),p=a.config.ConfigCoder.imageHashOf(d.config);return cx(i[a.version],p).toLowerCase()===t.toLowerCase()}catch{}return!1}))).some(a=>a)}function MF(t){const e=Object.keys(t).length;for(let n=1;n<=e;n++){const r=t[n];if(!r||r.version!==n)return!1}return!0}function LF(t){const e=Object.keys(t).length;return t[e]}const DF={1:vk,2:Dk};var UF=Object.freeze({__proto__:null,addressOf:cx,isValidCounterfactual:BF,isValidVersionedContext:MF,latestContext:LF,defaultContexts:DF});const Sg=`tuple(
  bool delegateCall,
  bool revertOnError,
  uint256 gasLimit,
  address target,
  uint256 value,
  bytes data
)[]`;function FF(t,e,n,r){return Jt({},t,{chainId:n,intent:{id:r,wallet:e}})}function $F(t){return me(Ct.defaultAbiCoder().encode(["address","uint256","bytes32"],[t.intent.wallet,t.chainId,t.intent.id]))}function WF(t){const e=Ct.defaultAbiCoder().decode(["uint256",Sg],t);if(e.length!==2||!e[0]||!e[1])throw new Error("Invalid meta transaction data");return[e[0],e[1]]}function Uk(t,e){return Ct.defaultAbiCoder().encode(["uint256",Sg],[t,Ed(e)])}function Fk(t,e){return me(Uk(t,e))}function HF(t,e,n,r){return ch({address:t,chainId:e,digest:Fk(n,r)})}function jF(t,e,n){return ch({address:t,chainId:e,digest:me(Ct.defaultAbiCoder().encode(["string",Sg],["guest:",Ed(n)]))})}function $k(t,e){return e.map(n=>D1(t,n))}function D1(t,e){if(e.to&&e.to!==mi)return{nonce:Lf(e.nonce)?void 0:BigInt(e.nonce),transaction:{delegateCall:!1,revertOnError:!1,gasLimit:Lf(e.gasLimit)?void 0:BigInt(e.gasLimit),to:e.to,value:BigInt(e.value||0),data:e.data||"0x"}};{const n=new Et(Tt.mainModule.abi),r=n.encodeFunctionData(n.getFunction("createContract"),[e.data]);return{nonce:typeof e.nonce=="number"?BigInt(e.nonce):void 0,transaction:{delegateCall:!1,revertOnError:!1,gasLimit:Lf(e.gasLimit)?void 0:BigInt(e.gasLimit),to:t,value:BigInt(e.value||0),data:r}}}}function kg(t){return t.delegateCall!==void 0||t.revertOnError!==void 0}function Wk(t){return t.every(kg)}function Ed(t){return t.map(e=>{var n;return{delegateCall:e.delegateCall===!0,revertOnError:e.revertOnError===!0,gasLimit:Lf(e.gasLimit)?0n:BigInt(e.gasLimit),target:(n=e.to)!=null?n:mi,value:Lf(e.value)?0n:e.value,data:e.data||"0x"}})}function GF(t){return t.map(e=>({delegateCall:e.delegateCall,revertOnError:e.revertOnError,gasLimit:e.gasLimit,to:e.target,value:e.value,data:e.data}))}function VF(t,e){const n=BigInt(t),r=BigInt(e),s=2n**96n;if(r/s!==0n)throw new Error("Space already encoded");return r+n*s}function zF(t){const e=BigInt(t),n=2n**96n;return[e/n,e%n]}function KF(t,e){return Array.isArray(e)?Wk(e)?e:$k(t,e).map(r=>r.transaction):kg(e)?[e]:[D1(t,e).transaction]}function Hk(t){return t!==void 0&&t.entrypoint!==void 0&&t.chainId!==void 0&&t.transactions!==void 0&&t.nonce!==void 0&&t.intent!==void 0&&t.intent.id!==void 0&&t.intent.wallet!==void 0&&Array.isArray(t.transactions)&&t.transactions.reduce((e,n)=>e&&kg(n),!0)}function jk(t){return t!==void 0&&t.signature!==void 0&&t.signature!==""&&Hk(t)}function qF(t){const e=new Et(Tt.mainModule.abi);return e.encodeFunctionData(e.getFunction("execute"),jk(t)?[Ed(t.transactions),t.nonce,t.signature]:[Ed(t.transactions),0,new Uint8Array([])])}const Gk="0x61c2926c",Vk=`tuple(
  bool delegateCall,
  bool revertOnError,
  uint256 gasLimit,
  address target,
  uint256 value,
  bytes data
)[]`,ux=(t,e)=>{const n=[],r=new Et(Tt.mainModule.abi);for(const s of e){const i=$(s.data||"0x");if(s.to===t&&L(i.slice(0,4))===Gk){const o=i.slice(4),a=Ct.defaultAbiCoder().decode([Vk],o)[0];n.push(...ux(s.to,a.map(c=>Jt({},c,{to:c.target}))))}else try{const o=r.decodeFunctionData("execute",i)[0],a=ux(t,o.map(c=>Jt({},c.toObject(),{to:c.target})));n.push(...a)}catch{n.push(s)}}return n},Lf=t=>t==null;var QF=Object.freeze({__proto__:null,MetaTransactionsType:Sg,intendTransactionBundle:FF,intendedTransactionID:$F,unpackMetaTransactionsData:WF,packMetaTransactionsData:Uk,digestOfTransactions:Fk,subdigestOfTransactions:HF,subdigestOfGuestModuleTransactions:jF,toSequenceTransactions:$k,toSequenceTransaction:D1,isSequenceTransaction:kg,hasSequenceTransactions:Wk,sequenceTxAbiEncode:Ed,fromTxAbiEncode:GF,encodeNonce:VF,decodeNonce:zF,fromTransactionish:KF,isTransactionBundle:Hk,isSignedTransactionBundle:jk,encodeBundleExecData:qF,selfExecuteSelector:Gk,selfExecuteAbi:Vk,unwind:ux});const zk="0x608060405234801561001057600080fd5b5060405161124a38038061124a83398101604081905261002f91610124565b600060405161003d906100dd565b604051809103906000f080158015610059573d6000803e3d6000fd5b5090506000816001600160a01b0316638f0684308686866040518463ffffffff1660e01b815260040161008e939291906101fb565b6020604051808303816000875af11580156100ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100d19190610244565b9050806000526001601ff35b610fdc8061026e83390190565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561011b578181015183820152602001610103565b50506000910152565b60008060006060848603121561013957600080fd5b83516001600160a01b038116811461015057600080fd5b6020850151604086015191945092506001600160401b038082111561017457600080fd5b818601915086601f83011261018857600080fd5b81518181111561019a5761019a6100ea565b604051601f8201601f19908116603f011681019083821181831017156101c2576101c26100ea565b816040528281528960208487010111156101db57600080fd5b6101ec836020830160208801610100565b80955050505050509250925092565b60018060a01b0384168152826020820152606060408201526000825180606084015261022e816080850160208701610100565b601f01601f191691909101608001949350505050565b60006020828403121561025657600080fd5b8151801515811461026657600080fd5b939250505056fe608060405234801561001057600080fd5b50610fbc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100675760003560e01c806376be4cea1161005057806376be4cea146100a65780638f068430146100b957806398ef1ed8146100cc57600080fd5b80631c6453271461006c5780633d787b6314610093575b600080fd5b61007f61007a366004610ad4565b6100df565b604051901515815260200160405180910390f35b61007f6100a1366004610ad4565b61023d565b61007f6100b4366004610b3e565b61031e565b61007f6100c7366004610ad4565b6108e1565b61007f6100da366004610ad4565b61096e565b6040517f76be4cea00000000000000000000000000000000000000000000000000000000815260009030906376be4cea9061012890889088908890889088908190600401610bc3565b6020604051808303816000875af1925050508015610181575060408051601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820190925261017e91810190610c45565b60015b610232573d8080156101af576040519150601f19603f3d011682016040523d82523d6000602084013e6101b4565b606091505b508051600181900361022757816000815181106101d3576101d3610c69565b6020910101517fff00000000000000000000000000000000000000000000000000000000000000167f0100000000000000000000000000000000000000000000000000000000000000149250610235915050565b600092505050610235565b90505b949350505050565b6040517f76be4cea00000000000000000000000000000000000000000000000000000000815260009030906376be4cea906102879088908890889088906001908990600401610bc3565b6020604051808303816000875af19250505080156102e0575060408051601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01682019092526102dd91810190610c45565b60015b610232573d80801561030e576040519150601f19603f3d011682016040523d82523d6000602084013e610313565b606091505b506000915050610235565b600073ffffffffffffffffffffffffffffffffffffffff87163b6060827f64926492649264926492649264926492649264926492649264926492649264928888610369602082610c98565b610375928b9290610cd8565b61037e91610d02565b1490508015610484576000606089828a610399602082610c98565b926103a693929190610cd8565b8101906103b39190610e18565b955090925090508415806103c45750865b1561047d576000808373ffffffffffffffffffffffffffffffffffffffff16836040516103f19190610eb2565b6000604051808303816000865af19150503d806000811461042e576040519150601f19603f3d011682016040523d82523d6000602084013e610433565b606091505b50915091508161047a57806040517f9d0d6e2d0000000000000000000000000000000000000000000000000000000081526004016104719190610f18565b60405180910390fd5b50505b50506104be565b87878080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509294505050505b80806104ca5750600083115b156106bb576040517f1626ba7e00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8b1690631626ba7e90610523908c908690600401610f2b565b602060405180830381865afa92505050801561057a575060408051601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820190925261057791810190610f44565b60015b61060f573d8080156105a8576040519150601f19603f3d011682016040523d82523d6000602084013e6105ad565b606091505b50851580156105bc5750600084115b156105db576105d08b8b8b8b8b600161031e565b9450505050506108d7565b806040517f6f2a95990000000000000000000000000000000000000000000000000000000081526004016104719190610f18565b7fffffffff0000000000000000000000000000000000000000000000000000000081167f1626ba7e000000000000000000000000000000000000000000000000000000001480158161065f575086155b801561066b5750600085115b1561068b5761067f8c8c8c8c8c600161031e565b955050505050506108d7565b841580156106965750825b80156106a0575087155b156106af57806000526001601ffd5b94506108d79350505050565b6041871461074b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152603a60248201527f5369676e617475726556616c696461746f72237265636f7665725369676e657260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610471565b600061075a6020828a8c610cd8565b61076391610d02565b90506000610775604060208b8d610cd8565b61077e91610d02565b905060008a8a604081811061079557610795610c69565b919091013560f81c915050601b81148015906107b557508060ff16601c14155b15610842576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602d60248201527f5369676e617475726556616c696461746f723a20696e76616c6964207369676e60448201527f617475726520762076616c7565000000000000000000000000000000000000006064820152608401610471565b6040805160008152602081018083528e905260ff831691810191909152606081018490526080810183905273ffffffffffffffffffffffffffffffffffffffff8e169060019060a0016020604051602081039080840390855afa1580156108ad573d6000803e3d6000fd5b5050506020604051035173ffffffffffffffffffffffffffffffffffffffff161496505050505050505b9695505050505050565b6040517f76be4cea00000000000000000000000000000000000000000000000000000000815260009030906376be4cea9061092b9088908890889088906001908990600401610bc3565b6020604051808303816000875af115801561094a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102329190610c45565b6040517f76be4cea00000000000000000000000000000000000000000000000000000000815260009030906376be4cea906109b790889088908890889088908190600401610bc3565b6020604051808303816000875af1925050508015610a10575060408051601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168201909252610a0d91810190610c45565b60015b610232573d808015610a3e576040519150601f19603f3d011682016040523d82523d6000602084013e610a43565b606091505b5080516001819003610a6257816000815181106101d3576101d3610c69565b8082fd5b73ffffffffffffffffffffffffffffffffffffffff81168114610a8857600080fd5b50565b60008083601f840112610a9d57600080fd5b50813567ffffffffffffffff811115610ab557600080fd5b602083019150836020828501011115610acd57600080fd5b9250929050565b60008060008060608587031215610aea57600080fd5b8435610af581610a66565b935060208501359250604085013567ffffffffffffffff811115610b1857600080fd5b610b2487828801610a8b565b95989497509550505050565b8015158114610a8857600080fd5b60008060008060008060a08789031215610b5757600080fd5b8635610b6281610a66565b955060208701359450604087013567ffffffffffffffff811115610b8557600080fd5b610b9189828a01610a8b565b9095509350506060870135610ba581610b30565b91506080870135610bb581610b30565b809150509295509295509295565b73ffffffffffffffffffffffffffffffffffffffff8716815285602082015260a060408201528360a0820152838560c0830137600060c085830181019190915292151560608201529015156080820152601f9092017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016909101019392505050565b600060208284031215610c5757600080fd5b8151610c6281610b30565b9392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b81810381811115610cd2577f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b92915050565b60008085851115610ce857600080fd5b83861115610cf557600080fd5b5050820193919092039150565b80356020831015610cd2577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff602084900360031b1b1692915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600082601f830112610d7e57600080fd5b813567ffffffffffffffff80821115610d9957610d99610d3e565b604051601f83017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0908116603f01168101908282118183101715610ddf57610ddf610d3e565b81604052838152866020858801011115610df857600080fd5b836020870160208301376000602085830101528094505050505092915050565b600080600060608486031215610e2d57600080fd5b8335610e3881610a66565b9250602084013567ffffffffffffffff80821115610e5557600080fd5b610e6187838801610d6d565b93506040860135915080821115610e7757600080fd5b50610e8486828701610d6d565b9150509250925092565b60005b83811015610ea9578181015183820152602001610e91565b50506000910152565b60008251610ec4818460208701610e8e565b9190910192915050565b60008151808452610ee6816020860160208601610e8e565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b602081526000610c626020830184610ece565b8281526040602082015260006102356040830184610ece565b600060208284031215610f5657600080fd5b81517fffffffff0000000000000000000000000000000000000000000000000000000081168114610c6257600080fdfea26469706673582212201a72aed4b15ffb05b6502997a9bb655992e06590bd26b336dfbb153d7ff6f34b64736f6c63430008120033",JF="0x6492649264926492649264926492649264926492649264926492649264926492";async function Kk(t,e,n,r){try{return await t.call({data:Ae([zk,Ct.defaultAbiCoder().encode(["address","bytes32","bytes"],[e,n,r])])})==="0x01"}catch{return!1}}var YF=Object.freeze({__proto__:null,EIP_6492_OFFCHAIN_DEPLOY_CODE:zk,EIP_6492_SUFFIX:JF,validateEIP6492Offchain:Kk});class XF{constructor(e){this.provider=e,this.isDeployedCache=new Set}module(e){return new vn(e,[...Tt.mainModuleUpgradable.abi,...Tt.mainModule.abi,...Tt.erc1271.abi],this.provider)}async isDeployed(e){if(this.isDeployedCache.has(e))return!0;const r=(await this.provider.getCode(e).then(s=>$(s))).length!==0;return r&&this.isDeployedCache.add(e),r}async implementation(e){const n=Ct.defaultAbiCoder().encode(["address"],[e]),r=await this.provider.getStorage(e,n).then(s=>$(s));if(r.length===20)return le(L(r));if(r.length===32)return Ct.defaultAbiCoder().decode(["address"],r)[0]}async imageHash(e){try{return await this.module(e).imageHash()}catch{}}async nonce(e,n=0){try{return await this.module(e).readNonce(n)}catch(r){if(!await this.isDeployed(e))return 0;throw r}}async isValidSignature(e,n,r){return Kk(this.provider,e,n,r)}}var ZF=Object.freeze({__proto__:null,OnChainReader:XF});function e$(t){return t&&t.address&&t.digest&&t.chainId!==void 0&&t.config}var Y=Object.freeze({__proto__:null,config:_F,signature:hF,context:UF,signer:xF,EIP1271:mF,transaction:QF,reader:ZF,EIP6492:YF,isWalletSignRequestMetadata:e$});const lx=[{config:T1,signature:k1},{config:Ag,signature:vg}];function qk(t){const e=t-1;if(e<0||e>=lx.length)throw new Error(`No coder for version: ${t}`);return lx[e]}function t$(t){return qk(t)}var Mt=Object.freeze({__proto__:null,ALL_CODERS:lx,coderFor:qk,genericCoderFor:t$});const yn="2.2.7",Qk=[ni,ge],n$=Object.freeze(Object.defineProperty({__proto__:null,VERSION:yn,allVersions:Qk,commons:Y,universal:Mt,v1:ni,v2:ge},Symbol.toStringTag,{value:"Module"}));function r$(t,e,n){for(let r=0;r<n.length;r++)if(Y.context.addressOf(n[r],e)===t)return n[r].version;throw new Error("Could not find version for counterfactual address")}var Jk=Object.freeze({__proto__:null,counterfactualVersion:r$});class s${constructor(){this.version=2,this.configCoder=ge.config.ConfigCoder,this.signatureCoder=ge.signature.SignatureCoder}buildTransaction(e,n,r){if(!ge.config.ConfigCoder.isWalletConfig(r)){const c=ge.config.toWalletConfig({threshold:r.threshold,members:r.signers,checkpoint:0});return this.buildTransaction(e,n,c)}const s=n[2],i=new Et(Tt.mainModule.abi),o=ge.config.ConfigCoder.update.buildTransaction(e,r,s,"first");return{tx:{entrypoint:e,nonce:Y.transaction.encodeNonce(fx,0),transactions:[{to:e,value:0,gasLimit:0,revertOnError:!0,delegateCall:!1,data:i.encodeFunctionData(i.getFunction("updateImplementation"),[s.mainModuleUpgradable])},...o.transactions]},fromVersion:this.version-1,toVersion:this.version,toConfig:r}}decodeTransaction(e,n){const r=e.entrypoint;if(e.transactions.length<2)throw new Error("Invalid transaction bundle size");if(!e.nonce||Y.transaction.encodeNonce(fx,0)!==BigInt(e.nonce))throw new Error("Invalid transaction bundle nonce");if(e.transactions[0].to!==r||e.transactions[1].to!==r||e.transactions[0].delegateCall||e.transactions[1].delegateCall||!e.transactions[0].revertOnError||!e.transactions[1].revertOnError||e.transactions[0].value&&BigInt(e.transactions[0].value)!==0n||e.transactions[1].value&&BigInt(e.transactions[1].value)!==0n||e.transactions[0].gasLimit&&BigInt(e.transactions[0].gasLimit)!==0n||e.transactions[1].gasLimit&&BigInt(e.transactions[1].gasLimit)!==0n)throw new Error("Invalid transaction bundle format");const s=n[2],i=new Et(Tt.mainModule.abi),o=L(e.transactions[0].data||new Uint8Array),a=L(i.encodeFunctionData(i.getFunction("updateImplementation"),[s.mainModuleUpgradable]));if(o!==a)throw new Error("Invalid new implementation on transaction");const c=ge.config.ConfigCoder.update.decodeTransaction({entrypoint:r,transactions:[e.transactions[1]]});if(c.address!==r)throw new Error("Invalid transaction bundle address");return c}}const fx="0xa04263acf755e8bd19c0d7e20eea39a9ff3729eb",Yk=new s$;var Xk=Object.freeze({__proto__:null,MIGRATION_NONCE_SPACE:fx,v1v2:Yk});function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dx.apply(null,arguments)}function i$(t){for(const[e,n]of Object.entries(t))if(e!==String(n.version-1))throw new Error(`Migration with key ${e} has version ${n.version}, expected version to be key + 1`)}class o${constructor(e,n,r){this.tracker=e,this.migrations=n,this.contexts=r,i$(n)}lastMigration(){let e;for(const n of Object.values(this.migrations))(e===void 0||n.version>e.version)&&(e=n);if(e===void 0)throw new Error("No migrations");return e}async getAllMigratePresignedTransaction(e){const{address:n,fromImageHash:r,fromVersion:s,chainId:i}=e;let o=r,a=s;const c=Object.values(this.contexts),u=[];for(let l=1;l<c.length;l++){const f=await this.tracker.getMigration(n,o,a,i);if(!f)return{signedMigrations:u,missing:!0,lastImageHash:o,lastVersion:a};u.push(f);const d=this.migrations[a];if(!d)throw new Error(`No migration found for version ${a}`);const p=d.decodeTransaction(f.tx,this.contexts);if(p.address!==n)throw new Error("Migration transaction address does not match expected address");o=p.newImageHash,a+=1}return{signedMigrations:u,missing:!1,lastImageHash:o,lastVersion:a}}async signNextMigration(e,n,r,s){const i=this.migrations[n];if(!i)return;const o=i.buildTransaction(e,this.contexts,s),a=await r.signTransactionBundle(o.tx);return dx({},o,{tx:a})}}var hx=Object.freeze({__proto__:null,Migrator:o$});const a$={1:Yk};var px=Object.freeze({__proto__:null,DefaultMigrations:a$});const c$=Object.freeze(Object.defineProperty({__proto__:null,defaults:px,migration:Xk,migrator:hx,version:Jk},Symbol.toStringTag,{value:"Module"}));function fi(){return fi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fi.apply(null,arguments)}const Qv=800000n,Zk={waitPollRate:1e3,deltaBlocksLog:12,fromBlockLog:-1024};function u$(t){return typeof t=="object"&&l$(t.provider)}class eT{constructor(e){this.provider=void 0,this.waitPollRate=void 0,this.deltaBlocksLog=void 0,this.fromBlockLog=void 0;const n=fi({},Zk,e);this.provider=n.provider,this.waitPollRate=n.waitPollRate,this.deltaBlocksLog=n.deltaBlocksLog,this.fromBlockLog=n.fromBlockLog}async simulate(e,...n){var r=this;return(await Promise.all(n.map(async function(s){if(s.gasLimit&&BigInt(s.gasLimit||0)!==0n)return s.gasLimit;if(s.delegateCall||s.to===e&&await r.provider.getCode(e).then(i=>$(i).length===0))return Qv;if(!r.provider)throw new Error("signer.provider is not set, but is required");return r.provider.estimateGas({from:e,to:s.to,data:s.data,value:s.value})}))).map(s=>({executed:!0,succeeded:!0,gasUsed:Number(s),gasLimit:Number(s)}))}async getNonce(e,n,r){if(!this.provider)throw new Error("provider is not set");if(await this.provider.getCode(e)==="0x")return 0;n===void 0&&(n=0);const i=await new vn(e,Tt.mainModule.abi,this.provider).readNonce(n,{blockTag:r});return Y.transaction.encodeNonce(n,i)}async wait(e,n,r=this.waitPollRate,s=5){var i=this;typeof e!="string"&&(e=Y.transaction.intendedTransactionID(e));let o=!1;const a=async function(l,f){let d=0;for(;!o;){try{return await l()}catch(p){if(d++,s!==void 0&&d>=s)throw fe.error(`giving up after ${d} failed attempts${f?`: ${f}`:""}`,p),p;fe.warn(`attempt #${d} failed${f?`: ${f}`:""}`,p)}r>0&&await new Promise(p=>setTimeout(p,r))}throw new Error(`timed out after ${d} failed attempts${f?`: ${f}`:""}`)},c=async function(){let l=i.fromBlockLog;if(l<0&&(l=await a(()=>i.provider.getBlockNumber(),"unable to get latest block number")+l),typeof e!="string")throw new Error("impossible");const f=e.replace("0x","");for(;!o;){const d=await a(()=>i.provider.getBlockNumber(),"unable to get latest block number"),p=await a(()=>i.provider.getLogs({fromBlock:Math.max(0,l-i.deltaBlocksLog),toBlock:d,topics:["0x1f180c27086c7a39ea2a7b25239d1ab92348f07ca7bb59d1438fcf527568f881"]}),`unable to get NonceChange logs for blocks ${Math.max(0,l-i.deltaBlocksLog)} to ${d}`);l=d;const g=(await Promise.all(p.map(A=>a(()=>i.provider.getTransactionReceipt(A.transactionHash),`unable to get receipt for transaction ${A.transactionHash}`)))).find(A=>A==null?void 0:A.logs.find(m=>m.topics.length===0&&m.data.replace("0x","")===f||m.topics.length===1&&m.topics[0]==="0x3dbd1590ea96dd3253a91f24e64e3a502e1225d602a5731357bc12643070ccd7"&&m.data.length>=64&&m.data.replace("0x","").startsWith(f)));if(g){const A=await a(()=>i.provider.getTransaction(g.hash),`unable to get transaction ${g.hash}`);if(!A)throw new Error(`Transaction response not found for  ${e}`);const m=A;return m.receipt=g,m}o||await new Promise(A=>setTimeout(A,r))}throw new Error(`Timeout waiting for transaction receipt ${e}`)};return n!==void 0?Promise.race([c(),new Promise((u,l)=>setTimeout(()=>{o=!0,l(`Timeout waiting for transaction receipt ${e}`)},n))]):c()}}function l$(t){return t&&typeof t=="object"&&typeof t.getNetwork=="function"&&typeof t.getBlockNumber=="function"}function f$(t){return typeof t=="object"&&gx(t.signer)}class d$ extends eT{constructor(e){if(super(gx(e)?{provider:e.provider}:fi({},e,{provider:e.signer.provider})),this.signer=void 0,this.txnOptions=void 0,this.signer=gx(e)?e:e.signer,!this.signer.provider)throw new Error("Signer must have a provider")}async getFeeOptions(e,...n){return{options:[]}}async getFeeOptionsRaw(e,n,r){return{options:[]}}async gasRefundOptions(e,...n){const{options:r}=await this.getFeeOptions(e,...n);return r}setTransactionOptions(e){this.txnOptions=e}async relay(e,n,r=!0){n!==void 0&&fe.warn("LocalRelayer doesn't accept fee quotes");const s=Y.transaction.encodeBundleExecData(e),i=this.signer.sendTransaction(fi({to:e.entrypoint,data:s},this.txnOptions,{gasLimit:9e6}));if(r){const o=await i;return o.receipt=await o.wait(),o}else return i}async getMetaTransactions(e,n){return{page:{page:0,pageSize:100},transactions:[]}}async getTransactionCost(e,n,r){return{cost:0}}}function gx(t){return t&&typeof t=="object"&&typeof t.provider=="object"&&typeof t.getAddress=="function"&&typeof t.connect=="function"}const h$="v1",p$="v0.4.1",g$="dd95e21fa884c6564199bc3dd5f588534827ffe2";let po=function(t){return t.UNKNOWN="UNKNOWN",t.DROPPED="DROPPED",t.QUEUED="QUEUED",t.SENT="SENT",t.SUCCEEDED="SUCCEEDED",t.PARTIALLY_FAILED="PARTIALLY_FAILED",t.FAILED="FAILED",t}({}),m$=function(t){return t.SEND="SEND",t.RECEIVE="RECEIVE",t.BRIDGE_DEPOSIT="BRIDGE_DEPOSIT",t.BRIDGE_WITHDRAW="BRIDGE_WITHDRAW",t.BURN="BURN",t.UNKNOWN="UNKNOWN",t}({}),y$=function(t){return t.UNKNOWN="UNKNOWN",t.ERC20_TOKEN="ERC20_TOKEN",t.ERC1155_TOKEN="ERC1155_TOKEN",t}({}),b$=function(t){return t.DESC="DESC",t.ASC="ASC",t}({});class tT{constructor(e,n){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Relayer/",this.ping=(r,s)=>this.fetch(this.url("Ping"),Ce({},r,s)).then(i=>Ne(i).then(o=>({status:o.status})),i=>{throw Ie.new({cause:`fetch(): ${i.message||""}`})}),this.version=(r,s)=>this.fetch(this.url("Version"),Ce({},r,s)).then(i=>Ne(i).then(o=>({version:o.version})),i=>{throw Ie.new({cause:`fetch(): ${i.message||""}`})}),this.runtimeStatus=(r,s)=>this.fetch(this.url("RuntimeStatus"),Ce({},r,s)).then(i=>Ne(i).then(o=>({status:o.status})),i=>{throw Ie.new({cause:`fetch(): ${i.message||""}`})}),this.getSequenceContext=(r,s)=>this.fetch(this.url("GetSequenceContext"),Ce({},r,s)).then(i=>Ne(i).then(o=>({data:o.data})),i=>{throw Ie.new({cause:`fetch(): ${i.message||""}`})}),this.getChainID=(r,s)=>this.fetch(this.url("GetChainID"),Ce({},r,s)).then(i=>Ne(i).then(o=>({chainID:o.chainID})),i=>{throw Ie.new({cause:`fetch(): ${i.message||""}`})}),this.sendMetaTxn=(r,s,i)=>this.fetch(this.url("SendMetaTxn"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({status:a.status,txnHash:a.txnHash})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.getMetaTxnNonce=(r,s,i)=>this.fetch(this.url("GetMetaTxnNonce"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({nonce:a.nonce})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.getMetaTxnReceipt=(r,s,i)=>this.fetch(this.url("GetMetaTxnReceipt"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({receipt:a.receipt})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.simulate=(r,s,i)=>this.fetch(this.url("Simulate"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({results:a.results})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.updateMetaTxnGasLimits=(r,s,i)=>this.fetch(this.url("UpdateMetaTxnGasLimits"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({payload:a.payload})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.feeTokens=(r,s)=>this.fetch(this.url("FeeTokens"),Ce({},r,s)).then(i=>Ne(i).then(o=>({isFeeRequired:o.isFeeRequired,tokens:o.tokens})),i=>{throw Ie.new({cause:`fetch(): ${i.message||""}`})}),this.feeOptions=(r,s,i)=>this.fetch(this.url("FeeOptions"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({options:a.options,sponsored:a.sponsored,quote:a.quote})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.getMetaTxnNetworkFeeOptions=(r,s,i)=>this.fetch(this.url("GetMetaTxnNetworkFeeOptions"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({options:a.options})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.getMetaTransactions=(r,s,i)=>this.fetch(this.url("GetMetaTransactions"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({page:a.page,transactions:a.transactions})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.getTransactionCost=(r,s,i)=>this.fetch(this.url("GetTransactionCost"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({cost:a.cost})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.sentTransactions=(r,s,i)=>this.fetch(this.url("SentTransactions"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({page:a.page,transactions:a.transactions})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.pendingTransactions=(r,s,i)=>this.fetch(this.url("PendingTransactions"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({page:a.page,transactions:a.transactions})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.getGasTank=(r,s,i)=>this.fetch(this.url("GetGasTank"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({gasTank:a.gasTank})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.addGasTank=(r,s,i)=>this.fetch(this.url("AddGasTank"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({status:a.status,gasTank:a.gasTank})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.updateGasTank=(r,s,i)=>this.fetch(this.url("UpdateGasTank"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({status:a.status,gasTank:a.gasTank})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.getGasSponsor=(r,s,i)=>this.fetch(this.url("GetGasSponsor"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({gasSponsor:a.gasSponsor})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.addressGasSponsors=(r,s,i)=>this.fetch(this.url("AddressGasSponsors"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({page:a.page,gasSponsors:a.gasSponsors})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.listGasSponsors=(r,s,i)=>this.fetch(this.url("ListGasSponsors"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({page:a.page,gasSponsors:a.gasSponsors})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.addGasSponsor=(r,s,i)=>this.fetch(this.url("AddGasSponsor"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({status:a.status,gasSponsor:a.gasSponsor})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.updateGasSponsor=(r,s,i)=>this.fetch(this.url("UpdateGasSponsor"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({status:a.status,gasSponsor:a.gasSponsor})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.removeGasSponsor=(r,s,i)=>this.fetch(this.url("RemoveGasSponsor"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({status:a.status})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.reportGasSponsorUsage=(r,s,i)=>this.fetch(this.url("ReportGasSponsorUsage"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({gasSponsorUsage:a.gasSponsorUsage})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.nextGasTankBalanceAdjustmentNonce=(r,s,i)=>this.fetch(this.url("NextGasTankBalanceAdjustmentNonce"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({nonce:a.nonce})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.adjustGasTankBalance=(r,s,i)=>this.fetch(this.url("AdjustGasTankBalance"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({status:a.status,adjustment:a.adjustment})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.getGasTankBalanceAdjustment=(r,s,i)=>this.fetch(this.url("GetGasTankBalanceAdjustment"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({adjustment:a.adjustment})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.listGasTankBalanceAdjustments=(r,s,i)=>this.fetch(this.url("ListGasTankBalanceAdjustments"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({page:a.page,adjustments:a.adjustments})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.getProjectBalance=(r,s,i)=>this.fetch(this.url("GetProjectBalance"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({balance:a.balance})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.adjustProjectBalance=(r,s,i)=>this.fetch(this.url("AdjustProjectBalance"),Ce(r,s,i)).then(o=>Ne(o).then(a=>({balance:a.balance})),o=>{throw Ie.new({cause:`fetch(): ${o.message||""}`})}),this.hostname=e.replace(/\/*$/,""),this.fetch=(r,s)=>n(r,s)}url(e){return this.hostname+this.path+e}}const Ce=(t={},e={},n=null)=>({method:"POST",headers:fi({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{}),signal:n}),Ne=t=>t.text().then(e=>{let n;try{n=JSON.parse(e)}catch(r){let s="";throw r instanceof Error&&(s=r.message),U1.new({status:t.status,cause:`JSON.parse(): ${s}: response text: ${e}`})}if(!t.ok){const r=typeof n.code=="number"?n.code:0;throw(w$[r]||it).new(n)}return n});let it=class nT extends Error{constructor(e,n,r,s,i){super(r),this.name=void 0,this.code=void 0,this.message=void 0,this.status=void 0,this.cause=void 0,this.msg=void 0,this.name=e||"WebrpcError",this.code=typeof n=="number"?n:0,this.message=r||`endpoint error ${this.code}`,this.msg=this.message,this.status=typeof s=="number"?s:0,this.cause=i,Object.setPrototypeOf(this,nT.prototype)}static new(e){return new this(e.error,e.code,e.message||e.msg,e.status,e.cause)}},rT=class sT extends it{constructor(e="WebrpcEndpoint",n=0,r="endpoint error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,sT.prototype)}},Ie=class iT extends it{constructor(e="WebrpcRequestFailed",n=-1,r="request failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,iT.prototype)}},oT=class aT extends it{constructor(e="WebrpcBadRoute",n=-2,r="bad route",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,aT.prototype)}},cT=class uT extends it{constructor(e="WebrpcBadMethod",n=-3,r="bad method",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,uT.prototype)}},lT=class fT extends it{constructor(e="WebrpcBadRequest",n=-4,r="bad request",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,fT.prototype)}},U1=class dT extends it{constructor(e="WebrpcBadResponse",n=-5,r="bad response",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,dT.prototype)}},hT=class pT extends it{constructor(e="WebrpcServerPanic",n=-6,r="server panic",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,pT.prototype)}},gT=class mT extends it{constructor(e="WebrpcInternalError",n=-7,r="internal error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,mT.prototype)}},yT=class bT extends it{constructor(e="WebrpcClientDisconnected",n=-8,r="client disconnected",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,bT.prototype)}},xT=class wT extends it{constructor(e="WebrpcStreamLost",n=-9,r="stream lost",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,wT.prototype)}},ET=class vT extends it{constructor(e="WebrpcStreamFinished",n=-10,r="stream finished",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,vT.prototype)}},AT=class ST extends it{constructor(e="Unauthorized",n=1e3,r="Unauthorized access",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,ST.prototype)}},kT=class TT extends it{constructor(e="PermissionDenied",n=1001,r="Permission denied",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,TT.prototype)}},IT=class OT extends it{constructor(e="MethodNotFound",n=1003,r="Method not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,OT.prototype)}},CT=class NT extends it{constructor(e="RequestConflict",n=1004,r="Conflict with target resource",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,NT.prototype)}},PT=class RT extends it{constructor(e="Aborted",n=1005,r="Request aborted",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,RT.prototype)}},_T=class BT extends it{constructor(e="Geoblocked",n=1006,r="Geoblocked region",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,BT.prototype)}},MT=class LT extends it{constructor(e="InvalidArgument",n=2001,r="Invalid argument",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,LT.prototype)}},DT=class UT extends it{constructor(e="Unavailable",n=2002,r="Unavailable resource",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,UT.prototype)}},FT=class $T extends it{constructor(e="QueryFailed",n=2003,r="Query failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,$T.prototype)}},WT=class HT extends it{constructor(e="NotFound",n=3e3,r="Resource not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,HT.prototype)}};class Tg extends it{constructor(e="InsufficientFee",n=3004,r="Insufficient fee",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Tg.prototype)}}let x$=function(t){return t.WebrpcEndpoint="WebrpcEndpoint",t.WebrpcRequestFailed="WebrpcRequestFailed",t.WebrpcBadRoute="WebrpcBadRoute",t.WebrpcBadMethod="WebrpcBadMethod",t.WebrpcBadRequest="WebrpcBadRequest",t.WebrpcBadResponse="WebrpcBadResponse",t.WebrpcServerPanic="WebrpcServerPanic",t.WebrpcInternalError="WebrpcInternalError",t.WebrpcClientDisconnected="WebrpcClientDisconnected",t.WebrpcStreamLost="WebrpcStreamLost",t.WebrpcStreamFinished="WebrpcStreamFinished",t.Unauthorized="Unauthorized",t.PermissionDenied="PermissionDenied",t.MethodNotFound="MethodNotFound",t.RequestConflict="RequestConflict",t.Aborted="Aborted",t.Geoblocked="Geoblocked",t.InvalidArgument="InvalidArgument",t.Unavailable="Unavailable",t.QueryFailed="QueryFailed",t.NotFound="NotFound",t.InsufficientFee="InsufficientFee",t}({});const w$={0:rT,[-1]:Ie,[-2]:oT,[-3]:cT,[-4]:lT,[-5]:U1,[-6]:hT,[-7]:gT,[-8]:yT,[-9]:xT,[-10]:ET,1e3:AT,1001:kT,1003:IT,1004:CT,1005:PT,1006:_T,2001:MT,2002:DT,2003:FT,3e3:WT,3004:Tg};var vl=Object.freeze({__proto__:null,WebRPCVersion:h$,WebRPCSchemaVersion:p$,WebRPCSchemaHash:g$,ETHTxnStatus:po,TransferType:m$,FeeTokenType:y$,SortOrder:b$,Relayer:tT,WebrpcError:it,WebrpcEndpointError:rT,WebrpcRequestFailedError:Ie,WebrpcBadRouteError:oT,WebrpcBadMethodError:cT,WebrpcBadRequestError:lT,WebrpcBadResponseError:U1,WebrpcServerPanicError:hT,WebrpcInternalErrorError:gT,WebrpcClientDisconnectedError:yT,WebrpcStreamLostError:xT,WebrpcStreamFinishedError:ET,UnauthorizedError:AT,PermissionDeniedError:kT,MethodNotFoundError:IT,RequestConflictError:CT,AbortedError:PT,GeoblockedError:_T,InvalidArgumentError:MT,UnavailableError:DT,QueryFailedError:FT,NotFoundError:WT,InsufficientFeeError:Tg,errors:x$});const E$=[po.DROPPED,po.SUCCEEDED,po.PARTIALLY_FAILED,po.FAILED],v$=[po.DROPPED,po.PARTIALLY_FAILED,po.FAILED];function A$(t){return t.url!==void 0&&typeof t.url=="string"&&t.provider!==void 0&&GT(t.provider)}class jT{constructor(e){if(this.options=e,this.service=void 0,this.provider=void 0,this._fetch=(n,r)=>{const s={},{jwtAuth:i,projectAccessKey:o}=this.options;return i&&i.length>0&&(s.Authorization=`BEARER ${i}`),o&&o.length>0&&(s["X-Access-Key"]=o),r.headers=fi({},s,r.headers),fetch(n,r)},this.service=new tT(e.url,this._fetch),GT(e.provider))this.provider=e.provider;else{const{jwtAuth:n,projectAccessKey:r}=this.options,s=wd(e.provider.url,r,n);this.provider=new It(s,void 0,{staticNetwork:!0})}}async waitReceipt(e,n=1e3,r=5,s){typeof e!="string"&&(e=Y.transaction.intendedTransactionID(e)),fe.info(`[rpc-relayer/waitReceipt] waiting for ${e}`);let i=0;for(;s===void 0||!s();){try{const{receipt:o}=await this.service.getMetaTxnReceipt({metaTxID:e});if(o&&o.txnReceipt&&o.txnReceipt!=="null"&&E$.includes(o.status))return{receipt:o}}catch(o){if(i++,i===r)throw o}(s===void 0||!s())&&await new Promise(o=>setTimeout(o,n))}throw new Error(`Cancelled waiting for transaction receipt ${e}`)}async simulate(e,...n){const s=Ct.defaultAbiCoder().encode([Y.transaction.MetaTransactionsType],[Y.transaction.sequenceTxAbiEncode(n)]);return(await this.service.simulate({wallet:e,transactions:s})).results}async getFeeOptions(e,...n){const r=await this.service.feeTokens();if(r.isFeeRequired){const s=r.tokens.map(c=>c.symbol).join(", ");fe.info(`[rpc-relayer/getFeeOptions] relayer fees are required, accepted tokens are ${s}`);const i=await this.getNonce(e);if(!this.provider)throw fe.warn("[rpc-relayer/getFeeOptions] provider not set, needed for stub signature"),new Error("provider is not set");const{options:o,quote:a}=await this.service.feeOptions({wallet:e,to:e,data:Y.transaction.encodeBundleExecData({entrypoint:e,transactions:n,nonce:i})});return fe.info(`[rpc-relayer/getFeeOptions] got refund options ${JSON.stringify(o,Kr)}`),{options:o,quote:{_tag:"FeeQuote",_quote:a}}}else return fe.info("[rpc-relayer/getFeeOptions] relayer fees are not required"),{options:[]}}async getFeeOptionsRaw(e,n,r){const{options:s,quote:i}=await this.service.feeOptions({wallet:e,to:e,data:L(n),simulate:r==null?void 0:r.simulate},fi({},r!=null&&r.projectAccessKey?{"X-Access-Key":r.projectAccessKey}:void 0));return{options:s,quote:{_tag:"FeeQuote",_quote:i}}}async gasRefundOptions(e,...n){const{options:r}=await this.getFeeOptions(e,...n);return r}async getNonce(e,n){fe.info(`[rpc-relayer/getNonce] get nonce for wallet ${e} space: ${n}`);const r=n!==void 0?ja(BigInt(n)):void 0,s=await this.service.getMetaTxnNonce({walletContractAddress:e,space:r}),i=BigInt(s.nonce),[o,a]=Y.transaction.decodeNonce(i);return fe.info(`[rpc-relayer/getNonce] got next nonce for wallet ${e} ${a} space: ${o}`),i}async relay(e,n,r=!0,s){var i=this;fe.info(`[rpc-relayer/relay] relaying signed meta-transactions ${JSON.stringify(e,Kr)} with quote ${JSON.stringify(n,Kr)}`);let o;if(n!==void 0&&(typeof n._quote=="string"?o=n._quote:fe.warn("[rpc-relayer/relay] ignoring invalid fee quote")),!this.provider)throw fe.warn("[rpc-relayer/relay] provider not set, failed relay"),new Error("provider is not set");const a=Y.transaction.encodeBundleExecData(e),c=await this.service.sendMetaTxn({call:{walletAddress:e.intent.wallet,contract:e.entrypoint,input:a},quote:o},fi({},s?{"X-Access-Key":s}:void 0));if(fe.info(`[rpc-relayer/relay] got relay result ${JSON.stringify(c,Kr)}`),r)return this.wait(e.intent.id);{const u={hash:e.intent.id,confirmations:0,from:e.intent.wallet,wait:f=>Promise.reject(new Error("impossible"))},l=async function(d){var p;if(!i.provider)throw new Error("cannot wait for receipt, relayer has no provider set");const y=await i.wait(e.intent.id),g=(p=y.receipt)==null?void 0:p.transactionHash;if(!g)throw new Error("cannot wait for receipt, unknown native transaction hash");return Object.assign(u,y),i.provider.waitForTransaction(g,d)};return u.wait=l,u}}async wait(e,n,r=1e3,s=5){var i=this;let o=!1;const{receipt:a}=await(n!==void 0?Promise.race([this.waitReceipt(e,r,s,()=>o),new Promise((u,l)=>setTimeout(()=>{o=!0,l(`Timeout waiting for transaction receipt ${e}`)},n))]):this.waitReceipt(e,r,s));if(!a.txnReceipt||v$.includes(a.status))throw new S$(a);const c=JSON.parse(a.txnReceipt);return{blockHash:c.blockHash,blockNumber:Number(c.blockNumber),confirmations:1,from:typeof e=="string"?void 0:e.intent.wallet,hash:c.transactionHash,raw:a.txnReceipt,receipt:c,wait:async function(u){return i.provider.waitForTransaction(c.transactionHash,u)}}}async getMetaTransactions(e,n){return this.service.getMetaTransactions({projectId:e,page:n})}async getTransactionCost(e,n,r){return this.service.getTransactionCost({projectId:e,from:n,to:r})}}class S${constructor(e){this.receipt=e}}function GT(t){return t&&typeof t=="object"&&typeof t.getNetwork=="function"&&typeof t.getBlockNumber=="function"}function VT(t){return typeof t=="object"&&typeof t.simulate=="function"&&typeof t.getFeeOptions=="function"&&typeof t.gasRefundOptions=="function"&&typeof t.getNonce=="function"&&typeof t.relay=="function"&&typeof t.wait=="function"}const k$=Object.freeze(Object.defineProperty({__proto__:null,LocalRelayer:d$,ProviderRelayer:eT,ProviderRelayerDefaults:Zk,RpcRelayer:jT,RpcRelayerProto:vl,isLocalRelayerOptions:f$,isProviderRelayerOptions:u$,isRelayer:VT,isRpcRelayerOptions:A$,proto:vl},Symbol.toStringTag,{value:"Module"}));function zT(t){return t.getAddress!==void 0&&t.buildDeployTransaction!==void 0&&t.predecorateSignedTransactions!==void 0&&t.decorateTransactions!==void 0&&t.sign!==void 0&&t.notifyStatusChange!==void 0}class KT{constructor(e,n=!0){this.signer=e,this.eoa=n}getAddress(){return this.signer.getAddress()}async buildDeployTransaction(e){}async predecorateSignedTransactions(e){return[]}async decorateTransactions(e,n){return e}sign(e){return this.signer.signMessage(e)}notifyStatusChange(e,n,r){}suffix(){return new Uint8Array([2])}}var mx=Object.freeze({__proto__:null,isSapientSigner:zT,SignerWrapper:KT});let go=function(t){return t[t.INITIAL=0]="INITIAL",t[t.SIGNING=1]="SIGNING",t[t.SIGNED=2]="SIGNED",t[t.ERROR=3]="ERROR",t}({});function qT(t){return t===void 0||t.state===go.INITIAL||t.state===go.SIGNING}class Ig{constructor(e,n=Ig.randomTag()){this.tag=n,this.observers=[],this.signers=[],this.count=0,this.setSigners(e)}static randomTag(){return`default-${L(ln(8)).slice(2)}`}pullId(){return`${this.tag}-${this.count++}`}setSigners(e){this.signers=e.map(n=>zT(n)?n:new KT(n))}async getSigners(){return Promise.all(this.signers.map(async function(e){return e.getAddress()}))}subscribe(e){return this.observers.push(e),()=>{this.observers=this.observers.filter(n=>n!==e)}}async notifyObservers(e,n,r){await Promise.all([...this.signers.map(async function(s){return s.notifyStatusChange(e,n,r)}),...this.observers.map(async function(s){return s(n,r)})])}async buildDeployTransaction(e){let n;for(const r of this.signers){const s=await r.buildDeployTransaction(e);n===void 0?n=s:s!=null&&s.transactions&&(n.transactions=s.transactions.concat(n.transactions))}return n}async predecorateSignedTransactions(e){const n=[];for(const r of this.signers)n.push(...await r.predecorateSignedTransactions(e??{}));return n}async decorateTransactions(e,n){for(const r of this.signers)e=await r.decorateTransactions(e,n??{});return e}signMessage(e){var n=this;const r=this.pullId();return new Promise(async function(s){const{message:i,metadata:o,callback:a,candidates:c}=e,u={ended:!1,message:i,signers:{}};let l=o??{};const f=g=>{l=g,n.notifyObservers(r,u,l)},d=()=>{try{n.notifyObservers(r,u,l);const g=Object.entries(u.signers).filter(([A,m])=>qT(m));if(a&&a(u,f)||g.length===0){u.ended=!0,s(u),n.notifyObservers(r,u,l);return}}catch(g){console.error("Error while notifying observers",g)}};let p=n.signers;if(c){const g=await Promise.all(n.signers.map(async function(A){return A.getAddress()}));p=n.signers.filter((A,m)=>c.includes(g[m]))}const y=await Promise.allSettled(p.map(async function(g){const A=await g.getAddress();u.signers[A]={state:go.SIGNING,request:g.sign(i,o??{}).then(m=>{const x=g.suffix();return u.signers[A]={state:go.SIGNED,signature:m,suffix:x},d(),m}).catch(m=>{throw u.signers[A]={state:go.ERROR,error:m},d(),m})}}));for(let g=0;g<y.length;g++){const A=n.signers[g],m=y[g];if(m.status==="rejected"){const x=await A.getAddress();console.warn(`signer ${x} rejected the request: ${m.reason}`),u.signers[x]={state:go.ERROR,error:new Error(`signer ${x} rejected the request: ${m.reason}`)}}}d()})}}const T$=Object.freeze(Object.defineProperty({__proto__:null,Orchestrator:Ig,SignerState:go,isSignerStatusPending:qT,signers:mx},Symbol.toStringTag,{value:"Module"}));function Fi(){return Fi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fi.apply(null,arguments)}async function Jv(t){return Array.isArray(t)?Promise.all(t.map(e=>ft(e))):ft(t)}const Yv=t=>{const e=new Map;for(const n of Object.keys(t.signers)){const r=t.signers[n];if(r.state===go.SIGNED){const s=$(r.suffix),i=we(["bytes","bytes"],[r.signature,s]);e.set(n,{signature:i,isDynamic:s.length!==1||s[0]!==2})}}return e};class iu extends Pl{constructor(e){var n;const r=BigInt(e.chainId);if(r===0n&&!e.coders.signature.supportsNoChainId)throw new Error(`Sequence version ${e.config.version} doesn't support chainId 0`);super((n=e.provider)!=null?n:null),this.context=void 0,this.config=void 0,this.address=void 0,this.chainId=void 0,this.relayer=void 0,this.coders=void 0,this.orchestrator=void 0,this._reader=void 0,this.context=e.context,this.config=e.config,this.orchestrator=e.orchestrator,this.coders=e.coders,this.address=e.address,this.chainId=r,this.relayer=e.relayer,this._reader=e.reader}static newWallet(e){const n=Y.context.addressOf(e.context,e.coders.config.imageHashOf(e.config));return new iu(Fi({},e,{address:n}))}reader(){if(this._reader)return this._reader;if(!this.provider)throw new Error("Wallet status provider requires a provider");return new Y.reader.OnChainReader(this.provider)}setConfig(e){this.config=e}setOrchestrator(e){this.orchestrator=e}setAddress(e){this.address=e}getSigners(){return this.orchestrator.getSigners()}async getAddress(){return this.address}async decorateTransactions(e){const n=await this.orchestrator.decorateTransactions(e);if(await this.reader().isDeployed(this.address))return n;const r=[{to:n.entrypoint,data:Y.transaction.encodeBundleExecData(n),revertOnError:!0}],s=await this.buildDeployTransaction();return s&&r.unshift(...s.transactions),{entrypoint:this.context.guestModule,chainId:this.chainId,intent:n.intent,transactions:r}}async buildDeployTransaction(e){if(e!=null&&e.ignoreDeployed&&await this.reader().isDeployed(this.address))return;const n=this.coders.config.imageHashOf(this.config);if(Y.context.addressOf(this.context,n)!==this.address)throw new Error(`First address of config ${n} doesn't match wallet address ${this.address}`);let r;switch(this.chainId){case BigInt(I.SKALE_NEBULA):r=10000000n;break}const s=iu.buildDeployTransaction(this.context,n,r);if(e!=null&&e.includeChildren){const i=await this.orchestrator.buildDeployTransaction(e);i&&(s.transactions=i.transactions.concat(s.transactions))}return s}async deploy(e){const n=await this.buildDeployTransaction(e);if(n!==void 0){if(!this.relayer)throw new Error("Wallet deploy requires a relayer");return this.relayer.relay(Fi({},n,{chainId:this.chainId,intent:{id:L(ln(32)),wallet:this.address}}))}}static buildDeployTransaction(e,n,r=100000n){const s=new Et(Tt.factory.abi);return{entrypoint:e.guestModule,transactions:[{to:e.factory,data:s.encodeFunctionData(s.getFunction("deploy"),[e.mainModule,n]),gasLimit:r,delegateCall:!1,revertOnError:!0,value:0}]}}async buildUpdateConfigurationTransaction(e){if(this.coders.config.update.isKindUsed){const n=await this.reader().implementation(this.address),r=n&&n===this.context.mainModuleUpgradable;return this.coders.config.update.buildTransaction(this.address,e,this.context,r?"later":"first")}return this.coders.config.update.buildTransaction(this.address,e,this.context)}async getNonce(e=0){const n=await this.reader().nonce(this.address,e);if(n===void 0)throw new Error("Unable to determine nonce");return Number(n)}async signDigest(e,n){const r=rx(this.address,this.chainId,e);if(this.coders.config.hasSubdigest(this.config,r))return this.coders.signature.encodeSigners(this.config,new Map,[r],this.chainId).encoded;const s=Fi({},n,{digest:e,chainId:this.chainId,address:this.address,config:this.config}),i=$(r),o=await this.orchestrator.signMessage({candidates:this.coders.config.signersOf(this.config).map(c=>c.address),message:i,metadata:s,callback:(c,u)=>{const l=Yv(c),f=Fi({},s,{parts:l});return u(f),this.coders.signature.hasEnoughSigningPower(this.config,l)}}),a=Yv(o);return this.coders.signature.encodeSigners(this.config,a,[],this.chainId).encoded}signMessage(e){return this.signDigest(me(e),{message:e})}signTypedData(e,n,r){const s=_l({domain:e,types:n,message:r});return this.signDigest(s)}signTransactionBundle(e){if(e.entrypoint!==this.address)throw new Error(`Invalid entrypoint: ${e.entrypoint} !== ${this.address}`);return this.signTransactions(e.transactions,e.nonce)}async fetchNonceOrSpace(e){let n;if(e&&e.space!==void 0)n=BigInt(e.space);else{if(e===void 0)return this.randomNonce();if(e&&e.serial===!0)n=0;else return e}const r=await this.reader().nonce(this.address,n);if(r===void 0)throw new Error("Unable to determine nonce");return Y.transaction.encodeNonce(n,r)}randomNonce(){const e=BigInt(L(ln(12)));return Y.transaction.encodeNonce(e,0)}async signTransactions(e,n,r){const s=await Jv(e),i=Y.transaction.fromTransactionish(this.address,s);i.length===0&&i.push({to:this.address,data:"0x",value:0,gasLimit:0,delegateCall:!1,revertOnError:!0});const o=await this.fetchNonceOrSpace(n),a=Y.transaction.digestOfTransactions(o,i),c=Fi({digest:a,transactions:i},r),u=await this.signDigest(a,c);return{intent:{id:rx(this.address,this.chainId,a),wallet:this.address},chainId:this.chainId,transactions:i,entrypoint:this.address,nonce:o,signature:u}}async sendSignedTransaction(e,n){if(!this.relayer)throw new Error("Wallet sendTransaction requires a relayer");return this.relayer.relay(e,n)}async sendTransaction(e,n){let r;(n==null?void 0:n.nonce)!==void 0?r=n.nonce:n!=null&&n.serial?r={serial:!0}:r=this.randomNonce();const s=await this.signTransactions(e,r),i=await this.decorateTransactions(s);return this.sendSignedTransaction(i,n==null?void 0:n.quote)}async fillGasLimits(e){const n=await Jv(e),r=Y.transaction.fromTransactionish(this.address,n),s=this.relayer;if(!s)throw new Error("Wallet fillGasLimits requires a relayer");const i=await s.simulate(this.address,...r);return r.map((o,a)=>{const c=o.gasLimit?Number(o.gasLimit):i[a].gasLimit;return Fi({},o,i[a],{gasLimit:c})})}connect(e,n){return new iu({coders:this.coders,context:this.context,config:this.config,chainId:this.chainId,address:this.address,orchestrator:this.orchestrator,reader:this._reader,provider:e,relayer:n??this.relayer})}signTransaction(e){throw new Error("Method not implemented.")}}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fs.apply(null,arguments)}function I$(t){if(!t)return[];const e=BigInt(t.value);switch(t.token.type){case vl.FeeTokenType.UNKNOWN:return[{delegateCall:!1,revertOnError:!0,gasLimit:t.gasLimit,to:t.to,value:ja(e),data:"0x"}];case vl.FeeTokenType.ERC20_TOKEN:if(!t.token.contractAddress)throw new Error("No contract address for ERC-20 fee option");return[{delegateCall:!1,revertOnError:!0,gasLimit:t.gasLimit,to:t.token.contractAddress,value:0,data:new Et([{constant:!1,inputs:[{type:"address"},{type:"uint256"}],name:"transfer",outputs:[],type:"function"}]).encodeFunctionData("transfer",[t.to,ja(e)])}];default:throw new Error(`Unhandled fee token type ${t.token.type}`)}}class O${constructor(e,n,r){this.account=e,this.chainId=n,this.options=r}get provider(){return this.account.providerFor(this.chainId)}async getAddress(){return this.account.address}signMessage(e){var n,r;return this.account.signMessage(e,this.chainId,(n=(r=this.options)==null?void 0:r.cantValidateBehavior)!=null?n:"throw")}signTypedData(e,n,r){var s,i;return this.account.signTypedData(e,n,r,this.chainId,(s=(i=this.options)==null?void 0:i.cantValidateBehavior)!=null?s:"throw")}async defaultSelectFee(e,n){if(n.length===0)return;const r=[{constant:!0,inputs:[{type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],type:"function"}];for(const s of n)if(s.token.type===vl.FeeTokenType.UNKNOWN){if(await this.getBalance()>=BigInt(s.value))return s}else if(s.token.contractAddress&&s.token.type===vl.FeeTokenType.ERC20_TOKEN&&await new vn(s.token.contractAddress,r,this.provider).balanceOf(this.account.address)>=BigInt(s.value))return s;throw new Error("No fee option available - not enough balance")}async sendTransaction(e,n){var r,s,i,o,a;const c=await this.account.prepareTransactions({txs:e,chainId:this.chainId,stubSignatureOverrides:(r=(s=this.options)==null?void 0:s.stubSignatureOverrides)!=null?r:new Map,simulateForFeeOptions:n==null?void 0:n.simulateForFeeOptions}),l=await((i=(o=this.options)==null?void 0:o.selectFee)!=null?i:this.defaultSelectFee.bind(this))(e,c.feeOptions),f=[...c.transactions,...I$(l)];return this.account.sendTransaction(f,this.chainId,c.feeQuote,void 0,void 0,((a=this.options)==null?void 0:a.nonceSpace)!==void 0?{nonceSpace:this.options.nonceSpace}:void 0)}getBalance(e){return this.provider.getBalance(this.account.address,e)}call(e,n){return this.provider.call(fs({},e,{blockTag:n}))}async resolveName(e){const n=await this.provider.resolveName(e);if(!n)throw new Error(`Could not resolve name ${e}`);return n}connect(e){throw new Error("Method not implemented.")}signTransaction(e){throw new Error("Method not implemented.")}getTransactionCount(e){throw new Error("Method not implemented.")}estimateGas(e){throw new Error("Method not implemented.")}getChainId(){return Promise.resolve(Number(this.chainId))}getGasPrice(){throw new Error("Method not implemented.")}getFeeData(){throw new Error("Method not implemented.")}getNonce(e){throw new Error("Method not implemented.")}populateCall(e){throw new Error("Method not implemented.")}checkTransaction(e){throw new Error("Method not implemented.")}async populateTransaction(e){throw new Error("Method not implemented.")}_checkProvider(e){throw new Error("Method not implemented.")}}class C${async isDeployed(e){return!1}async implementation(e){}async imageHash(e){}async nonce(e,n){return 0n}async isValidSignature(e,n,r){throw new Error("Method not supported.")}}class ii{constructor(e){this.address=void 0,this.networks=void 0,this.tracker=void 0,this.contexts=void 0,this.migrator=void 0,this.migrations=void 0,this.orchestrator=void 0,this.jwt=void 0,this.projectAccessKey=void 0,this.address=le(e.address),this.contexts=e.contexts,this.tracker=e.tracker,this.networks=e.networks,this.orchestrator=e.orchestrator,this.jwt=e.jwt,this.projectAccessKey=e.projectAccessKey,this.migrations=e.migrations||px.DefaultMigrations,this.migrator=new hx.Migrator(e.tracker,this.migrations,this.contexts)}getSigner(e,n){return new O$(this,e,n)}static async new(e){var n;const s=new hx.Migrator(e.tracker,(n=e.migrations)!=null?n:px.DefaultMigrations,e.contexts).lastMigration(),i=s.configCoder,o=i.fromSimple(e.config),a=i.imageHashOf(o),c=e.contexts[s.version],u=Y.context.addressOf(c,a);return await e.tracker.saveCounterfactualWallet({config:o,context:Object.values(e.contexts)}),new ii({address:u,tracker:e.tracker,contexts:e.contexts,networks:e.networks,orchestrator:e.orchestrator,migrations:e.migrations,projectAccessKey:e.projectAccessKey})}getAddress(){return Promise.resolve(this.address)}get version(){return this.migrator.lastMigration().version}get coders(){const e=this.migrator.lastMigration();return{signature:e.signatureCoder,config:e.configCoder}}network(e){const n=BigInt(e),r=this.networks.find(s=>n===BigInt(s.chainId));if(!r)throw new Error(`Network not found for chainId ${e}`);return r}providerFor(e){const n=this.network(e);if(!n.provider&&!n.rpcUrl)throw new Error(`Provider not found for chainId ${e}`);const r=new qe(n.name,n.chainId);return n.provider||new It(wd(n.rpcUrl,this.projectAccessKey,this.jwt),r,{staticNetwork:r})}reader(e){return BigInt(e)===0n?new C$:new Y.reader.OnChainReader(this.providerFor(e))}relayer(e){const n=this.network(e);if(!n.relayer)throw new Error(`Relayer not found for chainId ${e}`);return VT(n.relayer)?n.relayer:new jT(fs({},n.relayer,{projectAccessKey:this.projectAccessKey,jwtAuth:this.jwt}))}setOrchestrator(e){this.orchestrator=e}setJwt(e){this.jwt=e}contextFor(e){const n=this.contexts[e];if(!n)throw new Error(`Context not found for version ${e}`);return n}walletForStatus(e,n){const r=Mt.coderFor(n.version);return this.walletFor(e,this.contextFor(n.version),n.config,r)}walletFor(e,n,r,s){const i=BigInt(e)===0n;return new iu({config:r,context:n,chainId:e,coders:s,relayer:i?void 0:this.relayer(e),address:this.address,orchestrator:this.orchestrator,reader:this.reader(e)})}async status(e,n=!1){var r=this;const s=this.reader(e).isDeployed(this.address),i=this.tracker.imageHashOfCounterfactualWallet({wallet:this.address}).then(O=>{if(!O)throw new Error(`Counterfactual imageHash not found for wallet ${this.address}`);return O}),o=i.then(O=>Jk.counterfactualVersion(this.address,O.imageHash,Object.values(this.contexts))),a=async function(){if(!await s)return o;const B=await r.reader(e).implementation(r.address);if(!B)throw new Error(`Implementation not found for wallet ${r.address}`);const M=Object.values(r.contexts);for(let R=0;R<M.length;R++)if(M[R].mainModule===B||M[R].mainModuleUpgradable===B)return M[R].version;throw new Error(`Version not found for implementation ${B}`)}(),c=async function(){const O=await r.reader(e).imageHash(r.address);if(O)return O;const B=await i;if(B)return B.imageHash;throw new Error(`On-chain imageHash not found for wallet ${r.address}`)}(),u=async function(){const O=await c,B=await r.tracker.configOfImageHash({imageHash:O});if(B)return B;throw new Error(`On-chain config not found for imageHash ${O}`)}(),l=await a,f=await c;let d=f,p=l,y=[];if(l!==this.version){const O=await this.migrator.getAllMigratePresignedTransaction({address:this.address,fromImageHash:f,fromVersion:l,chainId:e});d=O.lastImageHash,p=O.lastVersion,y=O.signedMigrations}const g=await this.tracker.loadPresignedConfiguration({wallet:this.address,fromImageHash:d,longestPath:n}),A=g&&g.length>0?g[g.length-1].nextImageHash:d,m=await this.tracker.configOfImageHash({imageHash:A});if(!m)throw new Error(`Config not found for imageHash ${A}`);const x=await s,w=await i,C=Mt.coderFor(p).config.checkpointOf(m);return{original:fs({},w,{version:await o}),onChain:{imageHash:f,config:await u,version:l,deployed:x},fullyMigrated:p===this.version,signedMigrations:y,version:p,presignedConfigurations:g,imageHash:A,config:m,checkpoint:C,canOnchainValidate:l===this.version&&x}}mustBeFullyMigrated(e){if(!e.fullyMigrated)throw new Error(`Wallet ${this.address} is not fully migrated`)}async predecorateSignedTransactions(e,n){const r=await this.orchestrator.predecorateSignedTransactions({chainId:n}),s=await this.predecorateTransactions([],e,n);return Y.transaction.fromTransactionish(this.address,s).length>0&&r.push(await this.signTransactions(s,n)),r}async predecorateTransactions(e,n,r){if(e=Array.isArray(e)?e:[e],n.onChain.imageHash!==n.imageHash){const o=await this.walletForStatus(r,n).buildUpdateConfigurationTransaction(n.config);e=[...e,...o.transactions]}const{proxyImplementationHook:s}=this.contexts[n.config.version];if(s&&(r===I.IMMUTABLE_ZKEVM||r===I.IMMUTABLE_ZKEVM_TESTNET)){const i=this.providerFor(r);if(i){const o=new vn(this.address,Tt.walletProxyHook.abi,i);let a;try{a=await o.PROXY_getImplementation()}catch(c){console.log("Error getting implementation address",c)}if(!a||a===mi){console.log("Adding wallet proxy hook");const c=new Et(Tt.moduleHooks.abi);e=[{to:this.address,data:c.encodeFunctionData(c.getFunction("addHook"),["0x90611127",s]),gasLimit:5e4,delegateCall:!1,revertOnError:!1,value:0},...e]}}}return e}async decorateTransactions(e,n,r){var s,i;if(!Array.isArray(e))return this.decorateTransactions([e],n,r);r=(s=r)!=null?s:e[0].chainId;const o=await this.buildBootstrapTransactions(n,r),a=o.transactions.length>0;if(!a&&e.length===1)return e[0];const{entrypoint:c}=a?o:e[0],u={entrypoint:c,chainId:r,intent:(i=e[0])==null?void 0:i.intent,transactions:[...o.transactions,...e.map(l=>({to:l.entrypoint,data:Y.transaction.encodeBundleExecData(l),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}))]};if(!n.onChain.deployed){const l=Y.transaction.subdigestOfGuestModuleTransactions(this.contexts[this.version].guestModule,r,u.transactions);u.intent===void 0?u.intent={id:l,wallet:this.address}:u.intent.id=l}return u}async decorateSignature(e,n){if(!n.presignedConfigurations||n.presignedConfigurations.length===0)return e;const r=this.coders.signature,s=n.presignedConfigurations.map(o=>o.signature),i=r.chainSignatures(e,s);return r.trim(i)}async publishWitnessFor(e,n=0){const r=dn(`This is a Sequence account woo! ${Date.now()}`),s=await this.status(n),i=this.coders.config.fromSimple({threshold:e.length,checkpoint:0,signers:e.map(l=>({address:l,weight:1}))}),a=await this.walletFor(n,s.original.context,i,this.coders).signDigest(r),c=this.coders.signature.decode(a),u=this.coders.signature.signaturesOfDecoded(c);if(u.length===0)throw new Error("No signatures found");return this.tracker.saveWitnesses({wallet:this.address,digest:r,chainId:n,signatures:u})}async publishWitness(){const e=dn(`This is a Sequence account woo! ${Date.now()}`),n=await this.signDigest(e,0,!1),r=this.coders.signature.decode(n),s=this.coders.signature.signaturesOfDecoded(r);return this.tracker.saveWitnesses({wallet:this.address,digest:e,chainId:0,signatures:s})}async signDigest(e,n,r=!0,s="ignore",i){const o=BigInt(n)===0n?this.networks[0].chainId:n,a=await this.status(o);if(this.mustBeFullyMigrated(a),!a.canOnchainValidate&&s==="throw")throw new Error("Wallet cannot validate onchain");const u=await this.walletForStatus(n,a).signDigest(e,i),l=r?this.decorateSignature(u,a):u;if(!a.canOnchainValidate)switch(s){case"ignore":return l;case"eip6492":return this.buildEIP6492Signature(await l,a,n)}return l}buildOnChainSignature(e){const n=Y.signature.subdigestOf({digest:L(e),chainId:0,address:this.address}),r=L(n),s=this.coders.config.fromSimple({threshold:32768,checkpoint:0,signers:[],subdigests:[r]}),i=new Et(Tt.mainModule.abi),o={entrypoint:this.address,transactions:[{to:this.address,data:i.encodeFunctionData("setExtraImageHash",[this.coders.config.imageHashOf(s),"57896044618658097711785492504343953926634992332820282019728792003956564819968"]),gasLimit:25e4}]};this.tracker.saveWalletConfig({config:s});const a=this.coders.signature.encodeSigners(s,new Map,[r],0).encoded;return{bundle:o,signature:a}}async buildEIP6492Signature(e,n,r){const s=await this.buildBootstrapTransactions(n,r);if(s.transactions.length===0)throw new Error("Cannot build EIP-6492 signature without bootstrap transactions");const i=Ct.defaultAbiCoder().encode(["address","bytes","bytes"],[s.entrypoint,Y.transaction.encodeBundleExecData(s),e]);return we(["bytes","bytes32"],[i,Y.EIP6492.EIP_6492_SUFFIX])}async editConfig(e){const n=await this.status(0).then(s=>s.config),r=this.coders.config.editConfig(n,fs({},e,{checkpoint:this.coders.config.checkpointOf(n)+1n}));return this.updateConfig(r)}async updateConfig(e){if(!this.coders.config.isWalletConfig(e))throw new Error(`Invalid config for wallet ${this.address}`);const n=this.coders.config.imageHashOf(e),r=this.coders.signature.hashSetImageHash(n),s=await this.signDigest(r,0,!1);await this.tracker.savePresignedConfiguration({wallet:this.address,nextConfig:e,signature:s,referenceChainId:1});const i=await this.tracker.configOfImageHash({imageHash:n,noCache:!0});if(!i||this.coders.config.imageHashOf(i)!==n)throw Error(`Reverse lookup failed for imageHash ${n}`)}async buildBootstrapTransactions(e,n){var r;const s=await this.orchestrator.buildDeployTransaction({chainId:n}),i=(r=s==null?void 0:s.transactions)!=null?r:[];if(!e.onChain.deployed){let c;switch(BigInt(n)){case BigInt(I.SKALE_NEBULA):c=10000000n;break}const u=iu.buildDeployTransaction(e.original.context,e.original.imageHash,c);i.push(...u.transactions)}i.push(...e.signedMigrations.map(c=>({to:c.tx.entrypoint,data:Y.transaction.encodeBundleExecData(c.tx),value:0,gasLimit:0,revertOnError:!0,delegateCall:!1})));const o=e.signedMigrations.length>0?e.signedMigrations[0].tx.intent.id:Y.transaction.subdigestOfGuestModuleTransactions(this.contexts[this.version].guestModule,n,i),{guestModule:a}=this.contextFor(e.version);return{entrypoint:a,transactions:i,chainId:n,intent:{id:o,wallet:this.address}}}async bootstrapTransactions(e,n){const r=n||await this.status(e);return this.buildBootstrapTransactions(r,e)}async doBootstrap(e,n,r){const s=await this.bootstrapTransactions(e,r);return this.relayer(e).relay(fs({},s,{chainId:e}),n)}signMessage(e,n,r="ignore"){return this.signDigest(me(e),n,!0,r)}async signTransactions(e,n,r,s){const i=r||await this.status(n);this.mustBeFullyMigrated(i);const o=this.walletForStatus(n,i),a={address:this.address,digest:"",chainId:n,config:{version:this.version},decorate:!0,cantValidateBehavior:"ignore"},c=s!=null&&s.serial?{serial:!0}:(s==null?void 0:s.nonceSpace)!==void 0?{space:s.nonceSpace}:void 0,u=await o.signTransactions(e,c,a);return fs({},u,{signature:await this.decorateSignature(u.signature,i)})}async signMigrations(e,n){const r=await this.status(e);if(r.fullyMigrated)return!1;const s=this.walletForStatus(e,r),i=n(s.config),o=await this.migrator.signNextMigration(this.address,r.version,s,i);if(!o)return!1;await this.tracker.saveWalletConfig({config:i});const a=Mt.coderFor(i.version).config,c=a.imageHashOf(i),u=await this.tracker.configOfImageHash({imageHash:c,noCache:!0});if(!u||a.imageHashOf(u)!==c)throw Error(`Reverse lookup failed for imageHash ${c}`);return await this.tracker.saveMigration(this.address,o,this.contexts),!0}async signAllMigrations(e){var n=this;const r=[];return{signedMigrations:(await Promise.all(this.networks.map(async function(o){try{return await n.signMigrations(o.chainId,e)}catch(a){return console.warn(`Failed to sign migrations for chain ${o.chainId}`,a),r.push(o.chainId),null}}))).filter(o=>o!==null),failedChains:r}}async isMigratedAllChains(){var e=this;const n=[];return{migratedAllChains:(await Promise.all(this.networks.map(async function(i){try{return await e.status(i.chainId)}catch(o){return n.push(i.chainId),console.warn(`Failed to get status for chain ${i.chainId}`,o),{fullyMigrated:!0}}}))).every(i=>i.fullyMigrated),failedChains:n}}async sendSignedTransactions(e,n,r,s,i,o){if(!Array.isArray(e))return this.sendSignedTransactions([e],n,r,s,i,o);const a=s||await this.status(n);this.mustBeFullyMigrated(a);const c=await this.decorateTransactions(e,a,n);return i==null||i(c),this.relayer(n).relay(c,r,void 0,o)}async fillGasLimits(e,n,r){return this.walletForStatus(n,r||await this.status(n)).fillGasLimits(e)}async gasRefundQuotes(e,n,r,s,i){const o=s||await this.status(n),a=this.walletForStatus(n,o),c=await this.predecorateTransactions(e,o,n),u=Y.transaction.fromTransactionish(this.address,c),l=a.coders.config.buildStubSignature(a.config,r),f=L(ln(32)),d={chainId:n,intent:{id:f,wallet:this.address},signature:l,transactions:u,entrypoint:this.address,nonce:0},p=await this.decorateTransactions(d,o),y=Y.transaction.encodeBundleExecData(p),g=await this.relayer(n).getFeeOptionsRaw(p.entrypoint,y,i);return fs({},g,{decorated:p})}async prepareTransactions(e){const n=await this.status(e.chainId),r=await this.fillGasLimits(e.txs,e.chainId,n),s=await this.gasRefundQuotes(r,e.chainId,e.stubSignatureOverrides,n,{simulate:e.simulateForFeeOptions,projectAccessKey:e.projectAccessKey}),i=Y.transaction.unwind(this.address,s.decorated.transactions);return{transactions:r,flatDecorated:i,feeOptions:s.options,feeQuote:s.quote}}async sendTransaction(e,n,r,s=!1,i,o){const a=await this.status(n),c=s?e:await this.predecorateTransactions(e,a,n),l=Y.transaction.fromTransactionish(this.address,c).length>0?await this.signTransactions(c,n,void 0,o):void 0,f=await this.orchestrator.predecorateSignedTransactions({chainId:n}),d=[];return l!==void 0&&l.transactions.length>0&&d.push(l),d.push(...f.filter(p=>p.transactions.length>0)),this.sendSignedTransactions(d,n,r,void 0,i,o==null?void 0:o.projectAccessKey)}async signTypedData(e,n,r,s,i="ignore"){const o=_l({domain:e,types:n,message:r});return this.signDigest(o,s,!0,i)}async getSigners(){var e=this;const n=r=>r.length?r[r.length-1]:void 0;return(await Promise.all(this.networks.map(async function({chainId:r,name:s}){try{var i;const o=await e.status(r);let a=(i=n(o.presignedConfigurations))==null?void 0:i.nextImageHash;if(!a&&o.onChain.version!==o.version){const f=n(o.signedMigrations);if(f){const{toVersion:d,toConfig:p}=f;a=Mt.genericCoderFor(d).config.imageHashOf(p)}}a||(a=o.onChain.imageHash);const c=await e.tracker.configOfImageHash({imageHash:a});if(!c)throw new Error(`unable to find config for image hash ${a}`);return Mt.genericCoderFor(c.version).config.signersOf(c).map(f=>fs({},f,{network:r}))}catch(o){return console.warn(`unable to get signers on network ${r} ${s}`,o),[]}}))).flat()}async getAllSigners(){var e=this;const n=[];return await Promise.all(this.networks.map(async function(r){const s=r.chainId,i=await e.status(s,!0),o=[i.onChain.imageHash,...i.onChain.version!==i.version?i.signedMigrations.map(a=>Mt.coderFor(a.toVersion).config.imageHashOf(a.toConfig)):[],...i.presignedConfigurations.map(a=>a.nextImageHash)];return Promise.all(o.map(async function(a,c){const u=c===o.length-1,l=await e.tracker.configOfImageHash({imageHash:a});if(!l){console.warn(`AllSigners may be incomplete, config not found for imageHash ${a}`);return}Mt.genericCoderFor(l.version).config.signersOf(l).forEach(p=>{const y=n.find(g=>g.address===p.address&&g.network===s);if(y&&u&&y.flaggedForRemoval){y.flaggedForRemoval=!1;return}y||n.push({address:p.address,weight:p.weight,network:s,flaggedForRemoval:!u})})}))})),n}}function N$(t){return t instanceof ii}const P$=Object.freeze(Object.defineProperty({__proto__:null,Account:ii,isAccount:N$},Symbol.toStringTag,{value:"Module"}));function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(null,arguments)}const R$="v1",_$="v0.4.0",B$="cae735346d8e5c3dce48dce9f85116989b6beffd";let M$=function(t){return t.UNKNOWN="UNKNOWN",t.NATIVE="NATIVE",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t.SEQUENCE_WALLET="SEQUENCE_WALLET",t.ERC20_BRIDGE="ERC20_BRIDGE",t.ERC721_BRIDGE="ERC721_BRIDGE",t.ERC1155_BRIDGE="ERC1155_BRIDGE",t.SEQ_MARKETPLACE="SEQ_MARKETPLACE",t}({}),L$=function(t){return t.UNKNOWN="UNKNOWN",t.BLOCK_ADDED="BLOCK_ADDED",t.BLOCK_REMOVED="BLOCK_REMOVED",t}({}),D$=function(t){return t.EVENT="EVENT",t.TOKEN_TRANSFER="TOKEN_TRANSFER",t.NATIVE_TOKEN_TRANSFER="NATIVE_TOKEN_TRANSFER",t.SEQUENCE_TXN="SEQUENCE_TXN",t}({}),U$=function(t){return t.OPEN="OPEN",t.CLOSED="CLOSED",t.CANCELLED="CANCELLED",t}({}),F$=function(t){return t.UNKNOWN="UNKNOWN",t.SEND="SEND",t.RECEIVE="RECEIVE",t}({}),$$=function(t){return t.FAILED="FAILED",t.SUCCESSFUL="SUCCESSFUL",t}({}),W$=function(t){return t.LegacyTxnType="LegacyTxnType",t.AccessListTxnType="AccessListTxnType",t.DynamicFeeTxnType="DynamicFeeTxnType",t}({}),H$=function(t){return t.DESC="DESC",t.ASC="ASC",t}({}),j$=function(t){return t.VERIFIED="VERIFIED",t.UNVERIFIED="UNVERIFIED",t.ALL="ALL",t}({});class QT{constructor(e,n){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Indexer/",this.ping=(r,s)=>this.fetch(this.url("Ping"),De({},r,s)).then(i=>je(i).then(o=>({status:o.status})),i=>{throw Ue.new({cause:`fetch(): ${i.message||""}`})}),this.version=(r,s)=>this.fetch(this.url("Version"),De({},r,s)).then(i=>je(i).then(o=>({version:o.version})),i=>{throw Ue.new({cause:`fetch(): ${i.message||""}`})}),this.runtimeStatus=(r,s)=>this.fetch(this.url("RuntimeStatus"),De({},r,s)).then(i=>je(i).then(o=>({status:o.status})),i=>{throw Ue.new({cause:`fetch(): ${i.message||""}`})}),this.getChainID=(r,s)=>this.fetch(this.url("GetChainID"),De({},r,s)).then(i=>je(i).then(o=>({chainID:o.chainID})),i=>{throw Ue.new({cause:`fetch(): ${i.message||""}`})}),this.getEtherBalance=(r,s,i)=>this.fetch(this.url("GetEtherBalance"),De(r,s,i)).then(o=>je(o).then(a=>({balance:a.balance})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getNativeTokenBalance=(r,s,i)=>this.fetch(this.url("GetNativeTokenBalance"),De(r,s,i)).then(o=>je(o).then(a=>({balance:a.balance})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenBalancesSummary=(r,s,i)=>this.fetch(this.url("GetTokenBalancesSummary"),De(r,s,i)).then(o=>je(o).then(a=>({page:a.page,balances:a.balances})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenBalancesDetails=(r,s,i)=>this.fetch(this.url("GetTokenBalancesDetails"),De(r,s,i)).then(o=>je(o).then(a=>({page:a.page,balances:a.balances})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenBalancesByContract=(r,s,i)=>this.fetch(this.url("GetTokenBalancesByContract"),De(r,s,i)).then(o=>je(o).then(a=>({page:a.page,balances:a.balances})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenBalances=(r,s,i)=>this.fetch(this.url("GetTokenBalances"),De(r,s,i)).then(o=>je(o).then(a=>({page:a.page,balances:a.balances})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenSupplies=(r,s,i)=>this.fetch(this.url("GetTokenSupplies"),De(r,s,i)).then(o=>je(o).then(a=>({page:a.page,contractType:a.contractType,tokenIDs:a.tokenIDs})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenSuppliesMap=(r,s,i)=>this.fetch(this.url("GetTokenSuppliesMap"),De(r,s,i)).then(o=>je(o).then(a=>({supplies:a.supplies})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getBalanceUpdates=(r,s,i)=>this.fetch(this.url("GetBalanceUpdates"),De(r,s,i)).then(o=>je(o).then(a=>({page:a.page,balances:a.balances})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getTransactionHistory=(r,s,i)=>this.fetch(this.url("GetTransactionHistory"),De(r,s,i)).then(o=>je(o).then(a=>({page:a.page,transactions:a.transactions})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.syncBalance=(r,s,i)=>this.fetch(this.url("SyncBalance"),De(r,s,i)).then(o=>je(o).then(a=>({})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.fetchTransactionReceipt=(r,s,i)=>this.fetch(this.url("FetchTransactionReceipt"),De(r,s,i)).then(o=>je(o).then(a=>({receipt:a.receipt})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getOrderbookOrders=(r,s,i)=>this.fetch(this.url("GetOrderbookOrders"),De(r,s,i)).then(o=>je(o).then(a=>({page:a.page,orders:a.orders})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getTopOrders=(r,s,i)=>this.fetch(this.url("GetTopOrders"),De(r,s,i)).then(o=>je(o).then(a=>({orders:a.orders})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.fetchTransactionReceiptWithFilter=(r,s,i)=>this.fetch(this.url("FetchTransactionReceiptWithFilter"),De(r,s,i)).then(o=>je(o).then(a=>({receipt:a.receipt})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getAllWebhookListeners=(r,s,i)=>this.fetch(this.url("GetAllWebhookListeners"),De(r,s,i)).then(o=>je(o).then(a=>({listeners:a.listeners})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.getWebhookListener=(r,s,i)=>this.fetch(this.url("GetWebhookListener"),De(r,s,i)).then(o=>je(o).then(a=>({listener:a.listener})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.addWebhookListener=(r,s,i)=>this.fetch(this.url("AddWebhookListener"),De(r,s,i)).then(o=>je(o).then(a=>({status:a.status,listener:a.listener})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.updateWebhookListener=(r,s,i)=>this.fetch(this.url("UpdateWebhookListener"),De(r,s,i)).then(o=>je(o).then(a=>({status:a.status})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.removeWebhookListener=(r,s,i)=>this.fetch(this.url("RemoveWebhookListener"),De(r,s,i)).then(o=>je(o).then(a=>({status:a.status})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.toggleWebhookListener=(r,s,i)=>this.fetch(this.url("ToggleWebhookListener"),De(r,s,i)).then(o=>je(o).then(a=>({webhookListener:a.webhookListener})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.pauseAllWebhookListeners=(r,s,i)=>this.fetch(this.url("PauseAllWebhookListeners"),De(r,s,i)).then(o=>je(o).then(a=>({status:a.status})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.resumeAllWebhookListeners=(r,s,i)=>this.fetch(this.url("ResumeAllWebhookListeners"),De(r,s,i)).then(o=>je(o).then(a=>({status:a.status})),o=>{throw Ue.new({cause:`fetch(): ${o.message||""}`})}),this.subscribeReceipts=(r,s)=>{const i=()=>this.fetch(this.url("SubscribeReceipts"),De(r,s.headers,s.signal)).then(async function(o){await ny(o,s,i)},o=>{s.onError(o,i)});return i()},this.subscribeEvents=(r,s)=>{const i=()=>this.fetch(this.url("SubscribeEvents"),De(r,s.headers,s.signal)).then(async function(o){await ny(o,s,i)},o=>{s.onError(o,i)});return i()},this.subscribeBalanceUpdates=(r,s)=>{const i=()=>this.fetch(this.url("SubscribeBalanceUpdates"),De(r,s.headers,s.signal)).then(async function(o){await ny(o,s,i)},o=>{s.onError(o,i)});return i()},this.hostname=e.replace(/\/*$/,""),this.fetch=(r,s)=>n(r,s)}url(e){return this.hostname+this.path+e}}const ny=async(t,e,n)=>{const{onMessage:r,onOpen:s,onClose:i,onError:o}=e;if(!t.ok){try{await je(t)}catch(y){o(y,n)}return}if(!t.body){o(vd.new({status:t.status,cause:"Invalid response, missing body"}),n);return}s&&s();const a=t.body.getReader(),c=new TextDecoder;let u="",l=Date.now();const f=11*1e3;let d=!1;const p=setInterval(()=>{Date.now()-l>f&&(d=!0,clearInterval(p),a.releaseLock())},f);for(;;){let y,g;try{if({value:y,done:g}=await a.read(),d)throw new Error("Timeout, no data or heartbeat received");l=Date.now(),u+=c.decode(y,{stream:!0})}catch(m){let x="";m instanceof Error&&(x=m.message),m instanceof DOMException&&m.name==="AbortError"?o(Ue.new({message:"AbortError",cause:`AbortError: ${x}`}),()=>{throw new Error("Abort signal cannot be used to reconnect")}):o(F1.new({cause:`reader.read(): ${x}`}),n);return}let A=u.split(`
`);for(let m=0;m<A.length-1;m++){if(A[m].length==0)continue;let x;try{if(x=JSON.parse(A[m]),x.hasOwnProperty("webrpcError")){const w=x.webrpcError,C=typeof w.code=="number"?w.code:0;o((RI[C]||ze).new(w),n);return}}catch(w){if(w instanceof Error&&w.message==="Abort signal cannot be used to reconnect")throw w;o(vd.new({status:t.status,cause:`JSON.parse(): ${w.message}`}),n)}r(x)}if(!g){u=A[A.length-1];continue}i&&i();return}},De=(t={},e={},n=null)=>({method:"POST",headers:Al({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{}),signal:n}),je=t=>t.text().then(e=>{let n;try{n=JSON.parse(e)}catch(r){let s="";throw r instanceof Error&&(s=r.message),vd.new({status:t.status,cause:`JSON.parse(): ${s}: response text: ${e}`})}if(!t.ok){const r=typeof n.code=="number"?n.code:0;throw(RI[r]||ze).new(n)}return n});let ze=class JT extends Error{constructor(e,n,r,s,i){super(r),this.name=void 0,this.code=void 0,this.message=void 0,this.status=void 0,this.cause=void 0,this.msg=void 0,this.name=e||"WebrpcError",this.code=typeof n=="number"?n:0,this.message=r||`endpoint error ${this.code}`,this.msg=this.message,this.status=typeof s=="number"?s:0,this.cause=i,Object.setPrototypeOf(this,JT.prototype)}static new(e){return new this(e.error,e.code,e.message||e.msg,e.status,e.cause)}},YT=class XT extends ze{constructor(e="WebrpcEndpoint",n=0,r="endpoint error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,XT.prototype)}},Ue=class ZT extends ze{constructor(e="WebrpcRequestFailed",n=-1,r="request failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,ZT.prototype)}},eI=class tI extends ze{constructor(e="WebrpcBadRoute",n=-2,r="bad route",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,tI.prototype)}},nI=class rI extends ze{constructor(e="WebrpcBadMethod",n=-3,r="bad method",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,rI.prototype)}},sI=class iI extends ze{constructor(e="WebrpcBadRequest",n=-4,r="bad request",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,iI.prototype)}},vd=class oI extends ze{constructor(e="WebrpcBadResponse",n=-5,r="bad response",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,oI.prototype)}},aI=class cI extends ze{constructor(e="WebrpcServerPanic",n=-6,r="server panic",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,cI.prototype)}},uI=class lI extends ze{constructor(e="WebrpcInternalError",n=-7,r="internal error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,lI.prototype)}},fI=class dI extends ze{constructor(e="WebrpcClientDisconnected",n=-8,r="client disconnected",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,dI.prototype)}},F1=class hI extends ze{constructor(e="WebrpcStreamLost",n=-9,r="stream lost",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,hI.prototype)}},pI=class gI extends ze{constructor(e="WebrpcStreamFinished",n=-10,r="stream finished",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,gI.prototype)}},mI=class yI extends ze{constructor(e="Unauthorized",n=1e3,r="Unauthorized access",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,yI.prototype)}},bI=class xI extends ze{constructor(e="PermissionDenied",n=1001,r="Permission denied",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,xI.prototype)}},wI=class EI extends ze{constructor(e="SessionExpired",n=1002,r="Session expired",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,EI.prototype)}},vI=class AI extends ze{constructor(e="MethodNotFound",n=1003,r="Method not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,AI.prototype)}},SI=class kI extends ze{constructor(e="RequestConflict",n=1004,r="Conflict with target resource",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,kI.prototype)}};class Og extends ze{constructor(e="Aborted",n=1005,r="Request aborted",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Og.prototype)}}class Cg extends ze{constructor(e="Timeout",n=2e3,r="Request timed out",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Cg.prototype)}}let TI=class II extends ze{constructor(e="InvalidArgument",n=2001,r="Invalid argument",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,II.prototype)}};class Ng extends ze{constructor(e="Unavailable",n=2002,r="Unavailable resource",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Ng.prototype)}}let OI=class CI extends ze{constructor(e="QueryFailed",n=2003,r="Query failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,CI.prototype)}};class Pg extends ze{constructor(e="ResourceExhausted",n=2004,r="Resource exhausted",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Pg.prototype)}}let NI=class PI extends ze{constructor(e="NotFound",n=3e3,r="Resource not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,PI.prototype)}};class Rg extends ze{constructor(e="ProjectNotFound",n=3002,r="Project not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Rg.prototype)}}class _g extends ze{constructor(e="MetadataCallFailed",n=3003,r="Metadata service call failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,_g.prototype)}}let G$=function(t){return t.WebrpcEndpoint="WebrpcEndpoint",t.WebrpcRequestFailed="WebrpcRequestFailed",t.WebrpcBadRoute="WebrpcBadRoute",t.WebrpcBadMethod="WebrpcBadMethod",t.WebrpcBadRequest="WebrpcBadRequest",t.WebrpcBadResponse="WebrpcBadResponse",t.WebrpcServerPanic="WebrpcServerPanic",t.WebrpcInternalError="WebrpcInternalError",t.WebrpcClientDisconnected="WebrpcClientDisconnected",t.WebrpcStreamLost="WebrpcStreamLost",t.WebrpcStreamFinished="WebrpcStreamFinished",t.Unauthorized="Unauthorized",t.PermissionDenied="PermissionDenied",t.SessionExpired="SessionExpired",t.MethodNotFound="MethodNotFound",t.RequestConflict="RequestConflict",t.Aborted="Aborted",t.Timeout="Timeout",t.InvalidArgument="InvalidArgument",t.Unavailable="Unavailable",t.QueryFailed="QueryFailed",t.ResourceExhausted="ResourceExhausted",t.NotFound="NotFound",t.ProjectNotFound="ProjectNotFound",t.MetadataCallFailed="MetadataCallFailed",t}({});const RI={0:YT,[-1]:Ue,[-2]:eI,[-3]:nI,[-4]:sI,[-5]:vd,[-6]:aI,[-7]:uI,[-8]:fI,[-9]:F1,[-10]:pI,1e3:mI,1001:bI,1002:wI,1003:vI,1004:SI,1005:Og,2e3:Cg,2001:TI,2002:Ng,2003:OI,2004:Pg,3e3:NI,3002:Rg,3003:_g},$1="Webrpc",_I="webrpc@v0.21.1;gen-typescript@v0.15.1;sequence-indexer@v0.4.0",V$="v1",z$="v0.4.0",K$="71cd081c5ca2372bf92a897ae1aa4ebf93ffd0fc";function q$(t){const e=t.get($1);return e?Q$(e):{webrpcGenVersion:"",codeGenName:"",codeGenVersion:"",schemaName:"",schemaVersion:""}}function Q$(t){const e=t.split(";");if(e.length<3)return{webrpcGenVersion:"",codeGenName:"",codeGenVersion:"",schemaName:"",schemaVersion:""};const[n,r]=e[0].split("@"),[s,i]=e[1].split("@"),[o,a]=e[2].split("@");return{webrpcGenVersion:r,codeGenName:s,codeGenVersion:i,schemaName:o,schemaVersion:a}}let J$=function(t){return t.UNKNOWN="UNKNOWN",t.NATIVE="NATIVE",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t.SEQUENCE_WALLET="SEQUENCE_WALLET",t.ERC20_BRIDGE="ERC20_BRIDGE",t.ERC721_BRIDGE="ERC721_BRIDGE",t.ERC1155_BRIDGE="ERC1155_BRIDGE",t.SEQ_MARKETPLACE="SEQ_MARKETPLACE",t}({}),Y$=function(t){return t.UNKNOWN="UNKNOWN",t.BLOCK_ADDED="BLOCK_ADDED",t.BLOCK_REMOVED="BLOCK_REMOVED",t}({}),X$=function(t){return t.EVENT="EVENT",t.TOKEN_TRANSFER="TOKEN_TRANSFER",t.NATIVE_TOKEN_TRANSFER="NATIVE_TOKEN_TRANSFER",t.SEQUENCE_TXN="SEQUENCE_TXN",t}({}),Z$=function(t){return t.OPEN="OPEN",t.CLOSED="CLOSED",t.CANCELLED="CANCELLED",t}({}),eW=function(t){return t.UNKNOWN="UNKNOWN",t.SEND="SEND",t.RECEIVE="RECEIVE",t}({}),tW=function(t){return t.FAILED="FAILED",t.SUCCESSFUL="SUCCESSFUL",t}({}),nW=function(t){return t.LegacyTxnType="LegacyTxnType",t.AccessListTxnType="AccessListTxnType",t.DynamicFeeTxnType="DynamicFeeTxnType",t}({}),rW=function(t){return t.DESC="DESC",t.ASC="ASC",t}({}),sW=function(t){return t.VERIFIED="VERIFIED",t.UNVERIFIED="UNVERIFIED",t.ALL="ALL",t}({});class BI{constructor(e,n){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/IndexerGateway/",this.getNativeTokenBalance=(r,s,i)=>this.fetch(this.url("GetNativeTokenBalance"),_s(r,s,i)).then(o=>Bs(o).then(a=>({balances:a.balances})),o=>{throw Nr.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenBalances=(r,s,i)=>this.fetch(this.url("GetTokenBalances"),_s(r,s,i)).then(o=>Bs(o).then(a=>({page:a.page,balances:a.balances})),o=>{throw Nr.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenBalancesSummary=(r,s,i)=>this.fetch(this.url("GetTokenBalancesSummary"),_s(r,s,i)).then(o=>Bs(o).then(a=>({page:a.page,balances:a.balances})),o=>{throw Nr.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenBalancesDetails=(r,s,i)=>this.fetch(this.url("GetTokenBalancesDetails"),_s(r,s,i)).then(o=>Bs(o).then(a=>({page:a.page,balances:a.balances})),o=>{throw Nr.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenBalancesByContract=(r,s,i)=>this.fetch(this.url("GetTokenBalancesByContract"),_s(r,s,i)).then(o=>Bs(o).then(a=>({page:a.page,balances:a.balances})),o=>{throw Nr.new({cause:`fetch(): ${o.message||""}`})}),this.getBalanceUpdates=(r,s,i)=>this.fetch(this.url("GetBalanceUpdates"),_s(r,s,i)).then(o=>Bs(o).then(a=>({page:a.page,balances:a.balances})),o=>{throw Nr.new({cause:`fetch(): ${o.message||""}`})}),this.ping=(r,s)=>this.fetch(this.url("Ping"),_s({},r,s)).then(i=>Bs(i).then(o=>({status:o.status})),i=>{throw Nr.new({cause:`fetch(): ${i.message||""}`})}),this.version=(r,s)=>this.fetch(this.url("Version"),_s({},r,s)).then(i=>Bs(i).then(o=>({version:o.version})),i=>{throw Nr.new({cause:`fetch(): ${i.message||""}`})}),this.runtimeStatus=(r,s)=>this.fetch(this.url("RuntimeStatus"),_s({},r,s)).then(i=>Bs(i).then(o=>({status:o.status})),i=>{throw Nr.new({cause:`fetch(): ${i.message||""}`})}),this.hostname=e.replace(/\/*$/,""),this.fetch=(r,s)=>n(r,s)}url(e){return this.hostname+this.path+e}}const _s=(t={},e={},n=null)=>{const r=Al({},e,{"Content-Type":"application/json"});return r[$1]=_I,{method:"POST",headers:r,body:JSON.stringify(t||{}),signal:n}},Bs=t=>t.text().then(e=>{let n;try{n=JSON.parse(e)}catch(r){let s="";throw r instanceof Error&&(s=r.message),W1.new({status:t.status,cause:`JSON.parse(): ${s}: response text: ${e}`})}if(!t.ok){const r=typeof n.code=="number"?n.code:0;throw(oW[r]||Ee).new(n)}return n});let Ee=class MI extends Error{constructor(e,n,r,s,i){super(r),this.name=void 0,this.code=void 0,this.message=void 0,this.status=void 0,this.cause=void 0,this.msg=void 0,this.name=e||"WebrpcError",this.code=typeof n=="number"?n:0,this.message=r||`endpoint error ${this.code}`,this.msg=this.message,this.status=typeof s=="number"?s:0,this.cause=i,Object.setPrototypeOf(this,MI.prototype)}static new(e){return new this(e.error,e.code,e.message||e.msg,e.status,e.cause)}},LI=class DI extends Ee{constructor(e="WebrpcEndpoint",n=0,r="endpoint error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,DI.prototype)}},Nr=class UI extends Ee{constructor(e="WebrpcRequestFailed",n=-1,r="request failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,UI.prototype)}},FI=class $I extends Ee{constructor(e="WebrpcBadRoute",n=-2,r="bad route",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,$I.prototype)}},WI=class HI extends Ee{constructor(e="WebrpcBadMethod",n=-3,r="bad method",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,HI.prototype)}},jI=class GI extends Ee{constructor(e="WebrpcBadRequest",n=-4,r="bad request",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,GI.prototype)}},W1=class VI extends Ee{constructor(e="WebrpcBadResponse",n=-5,r="bad response",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,VI.prototype)}},zI=class KI extends Ee{constructor(e="WebrpcServerPanic",n=-6,r="server panic",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,KI.prototype)}},qI=class QI extends Ee{constructor(e="WebrpcInternalError",n=-7,r="internal error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,QI.prototype)}},JI=class YI extends Ee{constructor(e="WebrpcClientDisconnected",n=-8,r="client disconnected",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,YI.prototype)}},XI=class ZI extends Ee{constructor(e="WebrpcStreamLost",n=-9,r="stream lost",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,ZI.prototype)}},e9=class t9 extends Ee{constructor(e="WebrpcStreamFinished",n=-10,r="stream finished",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,t9.prototype)}},n9=class r9 extends Ee{constructor(e="Unauthorized",n=1e3,r="Unauthorized access",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,r9.prototype)}},s9=class i9 extends Ee{constructor(e="PermissionDenied",n=1001,r="Permission denied",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,i9.prototype)}},o9=class a9 extends Ee{constructor(e="SessionExpired",n=1002,r="Session expired",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,a9.prototype)}},c9=class u9 extends Ee{constructor(e="MethodNotFound",n=1003,r="Method not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,u9.prototype)}},l9=class f9 extends Ee{constructor(e="RequestConflict",n=1004,r="Conflict with target resource",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,f9.prototype)}},d9=class h9 extends Ee{constructor(e="Aborted",n=1005,r="Request aborted",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,h9.prototype)}},p9=class g9 extends Ee{constructor(e="Geoblocked",n=1006,r="Geoblocked region",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,g9.prototype)}},m9=class y9 extends Ee{constructor(e="RateLimited",n=1007,r="Rate-limited. Please slow down.",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,y9.prototype)}},b9=class x9 extends Ee{constructor(e="ProjectNotFound",n=1100,r="Project not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,x9.prototype)}};class Bg extends Ee{constructor(e="AccessKeyNotFound",n=1101,r="Access key not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Bg.prototype)}}class Mg extends Ee{constructor(e="AccessKeyMismatch",n=1102,r="Access key mismatch",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Mg.prototype)}}class Lg extends Ee{constructor(e="InvalidOrigin",n=1103,r="Invalid origin for Access Key",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Lg.prototype)}}class Dg extends Ee{constructor(e="InvalidService",n=1104,r="Service not enabled for Access key",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Dg.prototype)}}class Ug extends Ee{constructor(e="UnauthorizedUser",n=1105,r="Unauthorized user",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Ug.prototype)}}class Fg extends Ee{constructor(e="QuotaExceeded",n=1200,r="Quota exceeded",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Fg.prototype)}}class $g extends Ee{constructor(e="RateLimit",n=1201,r="Rate limit exceeded",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,$g.prototype)}}class Wg extends Ee{constructor(e="NoDefaultKey",n=1300,r="No default access key found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Wg.prototype)}}class Hg extends Ee{constructor(e="MaxAccessKeys",n=1301,r="Access keys limit reached",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Hg.prototype)}}class jg extends Ee{constructor(e="AtLeastOneKey",n=1302,r="You need at least one Access Key",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,jg.prototype)}}let w9=class E9 extends Ee{constructor(e="Timeout",n=1900,r="Request timed out",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,E9.prototype)}},v9=class A9 extends Ee{constructor(e="InvalidArgument",n=2001,r="Invalid argument",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,A9.prototype)}},S9=class k9 extends Ee{constructor(e="Unavailable",n=2002,r="Unavailable resource",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,k9.prototype)}},T9=class I9 extends Ee{constructor(e="QueryFailed",n=2003,r="Query failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,I9.prototype)}};class Gg extends Ee{constructor(e="ResourceExhausted",n=2004,r="Resource exhausted",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Gg.prototype)}}let O9=class C9 extends Ee{constructor(e="NotFound",n=3e3,r="Resource not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,C9.prototype)}};class Vg extends Ee{constructor(e="MetadataCallFailed",n=3003,r="Metadata service call failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Vg.prototype)}}let iW=function(t){return t.WebrpcEndpoint="WebrpcEndpoint",t.WebrpcRequestFailed="WebrpcRequestFailed",t.WebrpcBadRoute="WebrpcBadRoute",t.WebrpcBadMethod="WebrpcBadMethod",t.WebrpcBadRequest="WebrpcBadRequest",t.WebrpcBadResponse="WebrpcBadResponse",t.WebrpcServerPanic="WebrpcServerPanic",t.WebrpcInternalError="WebrpcInternalError",t.WebrpcClientDisconnected="WebrpcClientDisconnected",t.WebrpcStreamLost="WebrpcStreamLost",t.WebrpcStreamFinished="WebrpcStreamFinished",t.Unauthorized="Unauthorized",t.PermissionDenied="PermissionDenied",t.SessionExpired="SessionExpired",t.MethodNotFound="MethodNotFound",t.RequestConflict="RequestConflict",t.Aborted="Aborted",t.Geoblocked="Geoblocked",t.RateLimited="RateLimited",t.ProjectNotFound="ProjectNotFound",t.AccessKeyNotFound="AccessKeyNotFound",t.AccessKeyMismatch="AccessKeyMismatch",t.InvalidOrigin="InvalidOrigin",t.InvalidService="InvalidService",t.UnauthorizedUser="UnauthorizedUser",t.QuotaExceeded="QuotaExceeded",t.RateLimit="RateLimit",t.NoDefaultKey="NoDefaultKey",t.MaxAccessKeys="MaxAccessKeys",t.AtLeastOneKey="AtLeastOneKey",t.Timeout="Timeout",t.InvalidArgument="InvalidArgument",t.Unavailable="Unavailable",t.QueryFailed="QueryFailed",t.ResourceExhausted="ResourceExhausted",t.NotFound="NotFound",t.MetadataCallFailed="MetadataCallFailed",t}({});const oW={0:LI,[-1]:Nr,[-2]:FI,[-3]:WI,[-4]:jI,[-5]:W1,[-6]:zI,[-7]:qI,[-8]:JI,[-9]:XI,[-10]:e9,1e3:n9,1001:s9,1002:o9,1003:c9,1004:l9,1005:d9,1006:p9,1007:m9,1100:b9,1101:Bg,1102:Mg,1103:Lg,1104:Dg,1105:Ug,1200:Fg,1201:$g,1300:Wg,1301:Hg,1302:jg,1900:w9,2001:v9,2002:S9,2003:T9,2004:Gg,3e3:O9,3003:Vg};var aW=Object.freeze({__proto__:null,WebrpcHeader:$1,WebrpcHeaderValue:_I,WebRPCVersion:V$,WebRPCSchemaVersion:z$,WebRPCSchemaHash:K$,VersionFromHeader:q$,ContractType:J$,EventLogType:Y$,EventLogDataType:X$,OrderStatus:Z$,TxnTransferType:eW,TransactionStatus:tW,TransactionType:nW,SortOrder:rW,ContractVerificationStatus:sW,IndexerGateway:BI,WebrpcError:Ee,WebrpcEndpointError:LI,WebrpcRequestFailedError:Nr,WebrpcBadRouteError:FI,WebrpcBadMethodError:WI,WebrpcBadRequestError:jI,WebrpcBadResponseError:W1,WebrpcServerPanicError:zI,WebrpcInternalErrorError:qI,WebrpcClientDisconnectedError:JI,WebrpcStreamLostError:XI,WebrpcStreamFinishedError:e9,UnauthorizedError:n9,PermissionDeniedError:s9,SessionExpiredError:o9,MethodNotFoundError:c9,RequestConflictError:l9,AbortedError:d9,GeoblockedError:p9,RateLimitedError:m9,ProjectNotFoundError:b9,AccessKeyNotFoundError:Bg,AccessKeyMismatchError:Mg,InvalidOriginError:Lg,InvalidServiceError:Dg,UnauthorizedUserError:Ug,QuotaExceededError:Fg,RateLimitError:$g,NoDefaultKeyError:Wg,MaxAccessKeysError:Hg,AtLeastOneKeyError:jg,TimeoutError:w9,InvalidArgumentError:v9,UnavailableError:S9,QueryFailedError:T9,ResourceExhaustedError:Gg,NotFoundError:O9,MetadataCallFailedError:Vg,errors:iW});class H1 extends QT{constructor(e,n,r){super(e.endsWith("/")?e.slice(0,-1):e,fetch),this.projectAccessKey=n,this.jwtAuth=r,this._fetch=(s,i)=>{const o={},a=this.jwtAuth,c=this.projectAccessKey;return a&&a.length>0&&(o.Authorization=`BEARER ${a}`),c&&c.length>0&&(o["X-Access-Key"]=c),i.headers=Al({},i.headers,o),fetch(s,i)},this.fetch=this._fetch}}class N9 extends BI{constructor(e,n,r){super(e.endsWith("/")?e.slice(0,-1):e,fetch),this.projectAccessKey=n,this.jwtAuth=r,this._fetch=(s,i)=>{const o={},a=this.jwtAuth,c=this.projectAccessKey;return a&&a.length>0&&(o.Authorization=`BEARER ${a}`),c&&c.length>0&&(o["X-Access-Key"]=c),i.headers=Al({},i.headers,o),fetch(s,i)},this.fetch=this._fetch}}const cW=Object.freeze(Object.defineProperty({__proto__:null,AbortedError:Og,ContractType:M$,ContractVerificationStatus:j$,EventLogDataType:D$,EventLogType:L$,Indexer:QT,IndexerGateway:aW,InvalidArgumentError:TI,MetadataCallFailedError:_g,MethodNotFoundError:vI,NotFoundError:NI,OrderStatus:U$,PermissionDeniedError:bI,ProjectNotFoundError:Rg,QueryFailedError:OI,RequestConflictError:SI,ResourceExhaustedError:Pg,SequenceIndexer:H1,SequenceIndexerGateway:N9,SessionExpiredError:wI,SortOrder:H$,TimeoutError:Cg,TransactionStatus:$$,TransactionType:W$,TxnTransferType:F$,UnauthorizedError:mI,UnavailableError:Ng,WebRPCSchemaHash:B$,WebRPCSchemaVersion:_$,WebRPCVersion:R$,WebrpcBadMethodError:nI,WebrpcBadRequestError:sI,WebrpcBadResponseError:vd,WebrpcBadRouteError:eI,WebrpcClientDisconnectedError:fI,WebrpcEndpointError:YT,WebrpcError:ze,WebrpcInternalErrorError:uI,WebrpcRequestFailedError:Ue,WebrpcServerPanicError:aI,WebrpcStreamFinishedError:pI,WebrpcStreamLostError:F1,errors:G$},Symbol.toStringTag,{value:"Module"}));function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ad.apply(null,arguments)}const uW="v1",lW="v0.4.0",fW="9d0976f6ff345b6a688b69cff647454e7fd0e3a6";let dW=function(t){return t.UNKNOWN="UNKNOWN",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t}({}),hW=function(t){return t.INT="INT",t.STRING="STRING",t.ARRAY="ARRAY",t.GENERIC="GENERIC",t}({}),pW=function(t){return t.UNKNOWN="UNKNOWN",t.BUY="BUY",t.SELL="SELL",t}({}),gW=function(t){return t.PENDING="PENDING",t.PAUSED="PAUSED",t.FAILED="FAILED",t.COMPLETED="COMPLETED",t.DISABLED="DISABLED",t}({});class P9{constructor(e,n){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Metadata/",this.ping=(r,s)=>this.fetch(this.url("Ping"),ae({},r,s)).then(i=>ce(i).then(o=>({status:o.status})),i=>{throw ie.new({cause:`fetch(): ${i.message||""}`})}),this.version=(r,s)=>this.fetch(this.url("Version"),ae({},r,s)).then(i=>ce(i).then(o=>({version:o.version})),i=>{throw ie.new({cause:`fetch(): ${i.message||""}`})}),this.runtimeStatus=(r,s)=>this.fetch(this.url("RuntimeStatus"),ae({},r,s)).then(i=>ce(i).then(o=>({status:o.status})),i=>{throw ie.new({cause:`fetch(): ${i.message||""}`})}),this.getTokenMetadata=(r,s,i)=>this.fetch(this.url("GetTokenMetadata"),ae(r,s,i)).then(o=>ce(o).then(a=>({tokenMetadata:a.tokenMetadata})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.refreshTokenMetadata=(r,s,i)=>this.fetch(this.url("RefreshTokenMetadata"),ae(r,s,i)).then(o=>ce(o).then(a=>({taskId:a.taskId})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.enqueueTokensForRefresh=(r,s,i)=>this.fetch(this.url("EnqueueTokensForRefresh"),ae(r,s,i)).then(o=>ce(o).then(a=>({taskId:a.taskId})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenRefreshStatus=(r,s,i)=>this.fetch(this.url("GetTokenRefreshStatus"),ae(r,s,i)).then(o=>ce(o).then(a=>({status:a.status})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenRefreshResult=(r,s,i)=>this.fetch(this.url("GetTokenRefreshResult"),ae(r,s,i)).then(o=>ce(o).then(a=>({status:a.status,tokens:a.tokens,failureReasons:a.failureReasons})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.cancelRefreshJob=(r,s,i)=>this.fetch(this.url("CancelRefreshJob"),ae(r,s,i)).then(o=>ce(o).then(a=>({ok:a.ok})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getTokenMetadataBatch=(r,s,i)=>this.fetch(this.url("GetTokenMetadataBatch"),ae(r,s,i)).then(o=>ce(o).then(a=>({contractTokenMetadata:a.contractTokenMetadata})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.searchTokenMetadata=(r,s,i)=>this.fetch(this.url("SearchTokenMetadata"),ae(r,s,i)).then(o=>ce(o).then(a=>({page:a.page,tokenMetadata:a.tokenMetadata})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.searchTokenIDs=(r,s,i)=>this.fetch(this.url("SearchTokenIDs"),ae(r,s,i)).then(o=>ce(o).then(a=>({page:a.page,tokenIds:a.tokenIds})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.tokenCollectionFilters=(r,s,i)=>this.fetch(this.url("TokenCollectionFilters"),ae(r,s,i)).then(o=>ce(o).then(a=>({filters:a.filters})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getContractInfo=(r,s,i)=>this.fetch(this.url("GetContractInfo"),ae(r,s,i)).then(o=>ce(o).then(a=>({contractInfo:a.contractInfo})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getContractInfoBatch=(r,s,i)=>this.fetch(this.url("GetContractInfoBatch"),ae(r,s,i)).then(o=>ce(o).then(a=>({contractInfoMap:a.contractInfoMap})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.searchContractInfo=(r,s,i)=>this.fetch(this.url("SearchContractInfo"),ae(r,s,i)).then(o=>ce(o).then(a=>({contractInfoList:a.contractInfoList})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.searchContractInfoBatch=(r,s,i)=>this.fetch(this.url("SearchContractInfoBatch"),ae(r,s,i)).then(o=>ce(o).then(a=>({contractInfoByChain:a.contractInfoByChain})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.searchMetadata=(r,s,i)=>this.fetch(this.url("SearchMetadata"),ae(r,s,i)).then(o=>ce(o).then(a=>({tokenMetadata:a.tokenMetadata,contractInfo:a.contractInfo})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.searchTokens=(r,s,i)=>this.fetch(this.url("SearchTokens"),ae(r,s,i)).then(o=>ce(o).then(a=>({tokenMetadata:a.tokenMetadata,nextPage:a.nextPage})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.searchContracts=(r,s,i)=>this.fetch(this.url("SearchContracts"),ae(r,s,i)).then(o=>ce(o).then(a=>({contractInfo:a.contractInfo,nextPage:a.nextPage})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getNiftyswapTokenQuantity=(r,s,i)=>this.fetch(this.url("GetNiftyswapTokenQuantity"),ae(r,s,i)).then(o=>ce(o).then(a=>({quantity:a.quantity})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getNiftyswapUnitPrices=(r,s,i)=>this.fetch(this.url("GetNiftyswapUnitPrices"),ae(r,s,i)).then(o=>ce(o).then(a=>({prices:a.prices})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getNiftyswapUnitPricesWithQuantities=(r,s,i)=>this.fetch(this.url("GetNiftyswapUnitPricesWithQuantities"),ae(r,s,i)).then(o=>ce(o).then(a=>({prices:a.prices})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.addContractToMintMonitor=(r,s,i)=>this.fetch(this.url("AddContractToMintMonitor"),ae(r,s,i)).then(o=>ce(o).then(a=>({ok:a.ok})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.removeContractFromMintMonitor=(r,s,i)=>this.fetch(this.url("RemoveContractFromMintMonitor"),ae(r,s,i)).then(o=>ce(o).then(a=>({ok:a.ok})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.mintMonitorJobStatus=(r,s,i)=>this.fetch(this.url("MintMonitorJobStatus"),ae(r,s,i)).then(o=>ce(o).then(a=>({task:a.task})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.mintMonitorTriggerJob=(r,s,i)=>this.fetch(this.url("MintMonitorTriggerJob"),ae(r,s,i)).then(o=>ce(o).then(a=>({ok:a.ok})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.syncContractTokens=(r,s,i)=>this.fetch(this.url("SyncContractTokens"),ae(r,s,i)).then(o=>ce(o).then(a=>({taskID:a.taskID})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.abortContractSync=(r,s,i)=>this.fetch(this.url("AbortContractSync"),ae(r,s,i)).then(o=>ce(o).then(a=>({ok:a.ok})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.contractSyncJobStatus=(r,s,i)=>this.fetch(this.url("ContractSyncJobStatus"),ae(r,s,i)).then(o=>ce(o).then(a=>({refreshTask:a.refreshTask,syncTask:a.syncTask})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.directoryGetNetworks=(r,s,i)=>this.fetch(this.url("DirectoryGetNetworks"),ae(r,s,i)).then(o=>ce(o).then(a=>({networks:a.networks})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.directoryGetCollections=(r,s,i)=>this.fetch(this.url("DirectoryGetCollections"),ae(r,s,i)).then(o=>ce(o).then(a=>({collections:a.collections,page:a.page})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.directorySearchCollections=(r,s,i)=>this.fetch(this.url("DirectorySearchCollections"),ae(r,s,i)).then(o=>ce(o).then(a=>({collections:a.collections,page:a.page})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.hostname=e,this.fetch=(r,s)=>n(r,s)}url(e){return this.hostname+this.path+e}}class R9{constructor(e,n){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Collections/",this.createCollection=(r,s,i)=>this.fetch(this.url("CreateCollection"),ae(r,s,i)).then(o=>ce(o).then(a=>({collection:a.collection})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getCollection=(r,s,i)=>this.fetch(this.url("GetCollection"),ae(r,s,i)).then(o=>ce(o).then(a=>({collection:a.collection})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.listCollections=(r,s,i)=>this.fetch(this.url("ListCollections"),ae(r,s,i)).then(o=>ce(o).then(a=>({page:a.page,collections:a.collections})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.updateCollection=(r,s,i)=>this.fetch(this.url("UpdateCollection"),ae(r,s,i)).then(o=>ce(o).then(a=>({collection:a.collection})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.deleteCollection=(r,s,i)=>this.fetch(this.url("DeleteCollection"),ae(r,s,i)).then(o=>ce(o).then(a=>({status:a.status})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.publishCollection=(r,s,i)=>this.fetch(this.url("PublishCollection"),ae(r,s,i)).then(o=>ce(o).then(a=>({collection:a.collection})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.unpublishCollection=(r,s,i)=>this.fetch(this.url("UnpublishCollection"),ae(r,s,i)).then(o=>ce(o).then(a=>({collection:a.collection})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.createContractCollection=(r,s,i)=>this.fetch(this.url("CreateContractCollection"),ae(r,s,i)).then(o=>ce(o).then(a=>({contractCollection:a.contractCollection})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getContractCollection=(r,s,i)=>this.fetch(this.url("GetContractCollection"),ae(r,s,i)).then(o=>ce(o).then(a=>({contractCollection:a.contractCollection})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.listContractCollections=(r,s,i)=>this.fetch(this.url("ListContractCollections"),ae(r,s,i)).then(o=>ce(o).then(a=>({contractCollections:a.contractCollections,collections:a.collections,page:a.page})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.updateContractCollection=(r,s,i)=>this.fetch(this.url("UpdateContractCollection"),ae(r,s,i)).then(o=>ce(o).then(a=>({ok:a.ok})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.deleteContractCollection=(r,s,i)=>this.fetch(this.url("DeleteContractCollection"),ae(r,s,i)).then(o=>ce(o).then(a=>({ok:a.ok})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.createToken=(r,s,i)=>this.fetch(this.url("CreateToken"),ae(r,s,i)).then(o=>ce(o).then(a=>({token:a.token,assets:a.assets})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getToken=(r,s,i)=>this.fetch(this.url("GetToken"),ae(r,s,i)).then(o=>ce(o).then(a=>({token:a.token,assets:a.assets})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.listTokens=(r,s,i)=>this.fetch(this.url("ListTokens"),ae(r,s,i)).then(o=>ce(o).then(a=>({page:a.page,tokens:a.tokens})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.updateToken=(r,s,i)=>this.fetch(this.url("UpdateToken"),ae(r,s,i)).then(o=>ce(o).then(a=>({token:a.token})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.deleteToken=(r,s,i)=>this.fetch(this.url("DeleteToken"),ae(r,s,i)).then(o=>ce(o).then(a=>({status:a.status})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.createAsset=(r,s,i)=>this.fetch(this.url("CreateAsset"),ae(r,s,i)).then(o=>ce(o).then(a=>({asset:a.asset})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getAsset=(r,s,i)=>this.fetch(this.url("GetAsset"),ae(r,s,i)).then(o=>ce(o).then(a=>({asset:a.asset})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.updateAsset=(r,s,i)=>this.fetch(this.url("UpdateAsset"),ae(r,s,i)).then(o=>ce(o).then(a=>({asset:a.asset})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.deleteAsset=(r,s,i)=>this.fetch(this.url("DeleteAsset"),ae(r,s,i)).then(o=>ce(o).then(a=>({status:a.status})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.hostname=e,this.fetch=(r,s)=>n(r,s)}url(e){return this.hostname+this.path+e}}class mW{constructor(e,n){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Admin/",this.addContractsToTokenDirectory=(r,s,i)=>this.fetch(this.url("AddContractsToTokenDirectory"),ae(r,s,i)).then(o=>ce(o).then(a=>({ok:a.ok})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.removeContractsFromTokenDirectory=(r,s,i)=>this.fetch(this.url("RemoveContractsFromTokenDirectory"),ae(r,s,i)).then(o=>ce(o).then(a=>({ok:a.ok})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.modifyFeatureIndex=(r,s,i)=>this.fetch(this.url("ModifyFeatureIndex"),ae(r,s,i)).then(o=>ce(o).then(a=>({ok:a.ok})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.getFeatureIndex=(r,s,i)=>this.fetch(this.url("GetFeatureIndex"),ae(r,s,i)).then(o=>ce(o).then(a=>({featured:a.featured})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.listTokenDirectory=(r,s,i)=>this.fetch(this.url("ListTokenDirectory"),ae(r,s,i)).then(o=>ce(o).then(a=>({page:a.page,collections:a.collections})),o=>{throw ie.new({cause:`fetch(): ${o.message||""}`})}),this.hostname=e,this.fetch=(r,s)=>n(r,s)}url(e){return this.hostname+this.path+e}}const ae=(t={},e={},n=null)=>({method:"POST",headers:Ad({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{}),signal:n}),ce=t=>t.text().then(e=>{let n;try{n=JSON.parse(e)}catch(r){let s="";throw r instanceof Error&&(s=r.message),j1.new({status:t.status,cause:`JSON.parse(): ${s}: response text: ${e}`})}if(!t.ok){const r=typeof n.code=="number"?n.code:0;throw(bW[r]||$e).new(n)}return n});let $e=class _9 extends Error{constructor(e,n,r,s,i){super(r),this.name=void 0,this.code=void 0,this.message=void 0,this.status=void 0,this.cause=void 0,this.msg=void 0,this.name=e||"WebrpcError",this.code=typeof n=="number"?n:0,this.message=r||`endpoint error ${this.code}`,this.msg=this.message,this.status=typeof s=="number"?s:0,this.cause=i,Object.setPrototypeOf(this,_9.prototype)}static new(e){return new this(e.error,e.code,e.message||e.msg,e.status,e.cause)}},B9=class M9 extends $e{constructor(e="WebrpcEndpoint",n=0,r="endpoint error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,M9.prototype)}},ie=class L9 extends $e{constructor(e="WebrpcRequestFailed",n=-1,r="request failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,L9.prototype)}},D9=class U9 extends $e{constructor(e="WebrpcBadRoute",n=-2,r="bad route",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,U9.prototype)}},F9=class $9 extends $e{constructor(e="WebrpcBadMethod",n=-3,r="bad method",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,$9.prototype)}},W9=class H9 extends $e{constructor(e="WebrpcBadRequest",n=-4,r="bad request",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,H9.prototype)}},j1=class j9 extends $e{constructor(e="WebrpcBadResponse",n=-5,r="bad response",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,j9.prototype)}},G9=class V9 extends $e{constructor(e="WebrpcServerPanic",n=-6,r="server panic",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,V9.prototype)}},z9=class K9 extends $e{constructor(e="WebrpcInternalError",n=-7,r="internal error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,K9.prototype)}},q9=class Q9 extends $e{constructor(e="WebrpcClientDisconnected",n=-8,r="client disconnected",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Q9.prototype)}},J9=class Y9 extends $e{constructor(e="WebrpcStreamLost",n=-9,r="stream lost",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Y9.prototype)}},X9=class Z9 extends $e{constructor(e="WebrpcStreamFinished",n=-10,r="stream finished",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Z9.prototype)}},eO=class tO extends $e{constructor(e="Unauthorized",n=1e3,r="Unauthorized access",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,tO.prototype)}},nO=class rO extends $e{constructor(e="PermissionDenied",n=1001,r="Permission denied",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,rO.prototype)}},sO=class iO extends $e{constructor(e="SessionExpired",n=1002,r="Session expired",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,iO.prototype)}},oO=class aO extends $e{constructor(e="MethodNotFound",n=1003,r="Method not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,aO.prototype)}},cO=class uO extends $e{constructor(e="RequestConflict",n=1004,r="Conflict with target resource",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,uO.prototype)}};class zg extends $e{constructor(e="Fail",n=1005,r="Request Failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,zg.prototype)}}let lO=class fO extends $e{constructor(e="Geoblocked",n=1006,r="Geoblocked region",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,fO.prototype)}};class Kg extends $e{constructor(e="Timeout",n=2e3,r="Request timed out",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Kg.prototype)}}let dO=class hO extends $e{constructor(e="InvalidArgument",n=2001,r="Invalid argument",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,hO.prototype)}};class qg extends $e{constructor(e="RequiredArgument",n=2002,r="Required argument missing",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,qg.prototype)}}let pO=class gO extends $e{constructor(e="QueryFailed",n=2003,r="Query failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,gO.prototype)}},mO=class yO extends $e{constructor(e="ValidationFailed",n=2004,r="Validation failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,yO.prototype)}},bO=class xO extends $e{constructor(e="RateLimited",n=2005,r="Rate limited",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,xO.prototype)}},wO=class EO extends $e{constructor(e="NotFound",n=3e3,r="Resource not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,EO.prototype)}};class Qg extends $e{constructor(e="ProjectNotFound",n=3002,r="Project not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Qg.prototype)}}class Jg extends $e{constructor(e="ChainNotFound",n=3003,r="Chain not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Jg.prototype)}}class Yg extends $e{constructor(e="TokenDirectoryDisabled",n=4001,r="Token Directory is disabled",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Yg.prototype)}}let yW=function(t){return t.WebrpcEndpoint="WebrpcEndpoint",t.WebrpcRequestFailed="WebrpcRequestFailed",t.WebrpcBadRoute="WebrpcBadRoute",t.WebrpcBadMethod="WebrpcBadMethod",t.WebrpcBadRequest="WebrpcBadRequest",t.WebrpcBadResponse="WebrpcBadResponse",t.WebrpcServerPanic="WebrpcServerPanic",t.WebrpcInternalError="WebrpcInternalError",t.WebrpcClientDisconnected="WebrpcClientDisconnected",t.WebrpcStreamLost="WebrpcStreamLost",t.WebrpcStreamFinished="WebrpcStreamFinished",t.Unauthorized="Unauthorized",t.PermissionDenied="PermissionDenied",t.SessionExpired="SessionExpired",t.MethodNotFound="MethodNotFound",t.RequestConflict="RequestConflict",t.Fail="Fail",t.Geoblocked="Geoblocked",t.Timeout="Timeout",t.InvalidArgument="InvalidArgument",t.RequiredArgument="RequiredArgument",t.QueryFailed="QueryFailed",t.ValidationFailed="ValidationFailed",t.RateLimited="RateLimited",t.NotFound="NotFound",t.ProjectNotFound="ProjectNotFound",t.ChainNotFound="ChainNotFound",t.TokenDirectoryDisabled="TokenDirectoryDisabled",t}({});const bW={0:B9,[-1]:ie,[-2]:D9,[-3]:F9,[-4]:W9,[-5]:j1,[-6]:G9,[-7]:z9,[-8]:q9,[-9]:J9,[-10]:X9,1e3:eO,1001:nO,1002:sO,1003:oO,1004:cO,1005:zg,1006:lO,2e3:Kg,2001:dO,2002:qg,2003:pO,2004:mO,2005:bO,3e3:wO,3002:Qg,3003:Jg,4001:Yg};class vO extends P9{constructor(e="https://metadata.sequence.app",n,r){super(e.endsWith("/")?e.slice(0,-1):e,fetch),this.projectAccessKey=n,this.jwtAuth=r,this._fetch=(s,i)=>{const o={},a=this.jwtAuth,c=this.projectAccessKey;return a&&a.length>0&&(o.Authorization=`BEARER ${a}`),c&&c.length>0&&(o["X-Access-Key"]=c),i.headers=Ad({},i.headers,o),fetch(s,i)},this.fetch=this._fetch}}class xW extends R9{constructor(e="https://metadata.sequence.app",n){super(e.endsWith("/")?e.slice(0,-1):e,fetch),this.jwtAuth=n,this._fetch=(r,s)=>{const i={},o=this.jwtAuth;return o&&o.length>0&&(i.Authorization=`BEARER ${o}`),s.headers=Ad({},s.headers,i),fetch(r,s)},this.fetch=this._fetch}}const wW=Object.freeze(Object.defineProperty({__proto__:null,Admin:mW,ChainNotFoundError:Jg,Collections:R9,ContractType:dW,FailError:zg,GeoblockedError:lO,InvalidArgumentError:dO,Metadata:P9,MethodNotFoundError:oO,NotFoundError:wO,PermissionDeniedError:nO,ProjectNotFoundError:Qg,PropertyType:hW,QueryFailedError:pO,RateLimitedError:bO,RequestConflictError:cO,RequiredArgumentError:qg,SequenceCollections:xW,SequenceMetadata:vO,SessionExpiredError:sO,SwapType:pW,TaskStatus:gW,TimeoutError:Kg,TokenDirectoryDisabledError:Yg,UnauthorizedError:eO,ValidationFailedError:mO,WebRPCSchemaHash:fW,WebRPCSchemaVersion:lW,WebRPCVersion:uW,WebrpcBadMethodError:F9,WebrpcBadRequestError:W9,WebrpcBadResponseError:j1,WebrpcBadRouteError:D9,WebrpcClientDisconnectedError:q9,WebrpcEndpointError:B9,WebrpcError:$e,WebrpcInternalErrorError:z9,WebrpcRequestFailedError:ie,WebrpcServerPanicError:G9,WebrpcStreamFinishedError:X9,WebrpcStreamLostError:J9,errors:yW},Symbol.toStringTag,{value:"Module"}));function EW(t,e){const n=t.replace("ipfs://ipfs/","").replace("ipfs://","");return t.startsWith("ipfs://")?`${e}${n}`:t}function vW(t){return t.startsWith("ipfs://")}class AO{constructor(e,n,r=1e3){this.provider=e,this.solver=n,this.window=r,this.pending=new Map}async runByEIP5719(e,n,r){const s=`${e}-${n}-${r}`,i=Date.now();if(this.pending.has(s)&&i-this.pending.get(s).timestamp<this.window)return this.pending.get(s).promise;const o=SO(e,this.provider,n,r,this.solver);return this.pending.set(s,{timestamp:i,promise:o}),o}}function AW(t,e){const n=[{inputs:[{internalType:"bytes32",type:"bytes32"}],name:"getAlternativeSignature",outputs:[{internalType:"string",type:"string"}],stateMutability:"view",type:"function"}];return new vn(t,n,e)}async function SW(t){try{return await t}catch{return}}async function SO(t,e,n,r,s,i=0){if(i>10)throw new Error("EIP5719 - Too many tries");if(Y.signer.canRecover(r)){const c=Y.signer.recoverSigner(n,r);if(c&&c.toLowerCase()===t.toLowerCase())return r}try{if(await Y.signer.isValidSignature(t,n,r,e))return r}catch{}const o=await SW(AW(t,e).getAlternativeSignature(n));if(!o||o==="")throw new Error("EIP5719 - Invalid signature and no alternative signature");const a=L(await(s||new kW).resolve(o));if(!a||a==="")throw new Error("EIP5719 - Empty alternative signature");if(a===L(r))throw new Error("EIP5719 - Alternative signature is invalid or the same");return SO(t,e,n,a,s,i+1)}class kW{constructor(e="https://cloudflare-ipfs.com/ipfs/"){var n=this;this.gateway=e,this.uri=r=>vW(r)?EW(r,this.gateway):r,this.resolve=async function(r){const s=n.uri(r),i=await fetch(s);if(!i.ok)throw new Error(`URISolverIPFS - Failed to fetch ${s}`);return await i.text()}}}const TW=(t,e)=>e.some(n=>t instanceof n);let Xv,Zv;function IW(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OW(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kO=new WeakMap,yx=new WeakMap,TO=new WeakMap,ry=new WeakMap,G1=new WeakMap;function CW(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Co(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kO.set(n,t)}).catch(()=>{}),G1.set(e,t),e}function NW(t){if(yx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});yx.set(t,e)}let bx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PW(t){bx=t(bx)}function RW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sy(this),e,...n);return TO.set(r,e.sort?e.sort():[e]),Co(r)}:OW().includes(t)?function(...e){return t.apply(sy(this),e),Co(kO.get(this))}:function(...e){return Co(t.apply(sy(this),e))}}function _W(t){return typeof t=="function"?RW(t):(t instanceof IDBTransaction&&NW(t),TW(t,IW())?new Proxy(t,bx):t)}function Co(t){if(t instanceof IDBRequest)return CW(t);if(ry.has(t))return ry.get(t);const e=_W(t);return e!==t&&(ry.set(t,e),G1.set(e,t)),e}const sy=t=>G1.get(t);function BW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Co(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Co(o.result),c.oldVersion,c.newVersion,Co(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const MW=["get","getKey","getAll","getAllKeys","count"],LW=["put","add","delete","clear"],iy=new Map;function e6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iy.get(e))return iy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=LW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||MW.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return iy.set(e,i),i}PW(t=>({...t,get:(e,n,r)=>e6(e,n)||t.get(e,n,r),has:(e,n)=>!!e6(e,n)||t.has(e,n)}));var DW=Object.freeze({__proto__:null});function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ns.apply(null,arguments)}const UW=["function execute((bool delegateCall, bool revertOnError, uint256 gasLimit, address target, uint256 value, bytes data)[] calldata transactions, uint256 nonce, bytes calldata signature)"],za={namespace:"Sequence-Sessions",owners:["AZ6R2mG8zxW9q7--iZXGrBknjegHoPzmG5IG-nxvMaM"],arweaveUrl:"https://arweave.net",graphqlUrl:"https://arweave.net/graphql",eip5719Provider:void 0,rateLimitRetryDelayMs:5*60*1e3};class FW{constructor(e=za){this.options=e,this.configs=new Map,this.eip5719=void 0,e.eip5719Provider&&(this.eip5719=new AO(e.eip5719Provider))}async loadPresignedConfiguration(e){var n=this;const r=le(e.wallet),s=await this.configOfImageHash({imageHash:e.fromImageHash});if(!s)throw new Error(`unable to find from config ${e.fromImageHash}`);if(!ge.config.isWalletConfig(s))throw new Error(`from config ${e.fromImageHash} is not v2`);const i=BigInt(s.checkpoint),o=Object.entries(await Jl({Type:"config update",Wallet:r},this.options)).flatMap(([l,f])=>{try{const{Signer:d,Subdigest:p,Digest:y,"To-Config":g}=f;let A;switch(f["Signature-Type"]){case"eip-712":case"eth_sign":case"erc-1271":A=f["Signature-Type"];break;default:throw new Error(`unknown signature type ${f["Signature-Type"]}`)}let m;try{m=BigInt(f["To-Checkpoint"])}catch{throw new Error(`to checkpoint is not a number: ${f["To-Checkpoint"]}`)}if(m<=i)return[];if(!lp(d))throw new Error(`signer is not an address: ${d}`);if(!Re(p,32))throw new Error(`subdigest is not a hash: ${p}`);if(!Re(y,32))throw new Error(`digest is not a hash: ${y}`);let x;try{x=BigInt(f["Chain-ID"])}catch{throw new Error(`chain id is not a number: ${f["Chain-ID"]}`)}if(!Re(g,32))throw new Error(`to config is not a hash: ${g}`);return[{id:l,signatureType:A,signer:d,subdigest:p,digest:y,chainId:x,toImageHash:g,toCheckpoint:m}]}catch(d){return console.warn(`invalid wallet ${r} config update ${l}:`,d),[]}}),a=new Map;let c=[];for(const l of o){let f=a.get(l.toImageHash);f||(f=new Map,a.set(l.toImageHash,f),c.push(l)),f.set(l.signer,l)}e.longestPath?c.sort(({toCheckpoint:l},{toCheckpoint:f})=>l===f?0:l<f?-1:1):c.sort(({toCheckpoint:l},{toCheckpoint:f})=>l===f?0:l<f?1:-1);const u=[];for(let l=s;c.length;){const f=ge.config.imageHash(l);let d,p,y=[];for(const A of c){p=a.get(A.toImageHash),y=Array.from(p.keys());const{weight:m}=ge.signature.encodeSigners(l,new Map(y.map(x=>[x,{signature:"0x",isDynamic:!1}])),[],0);if(m>=BigInt(l.threshold)){d=A;break}}if(!d){console.warn(`unreachable configs with checkpoint > ${l.checkpoint} from config ${f}`);break}const g=d.toImageHash;try{const A=await this.configOfImageHash({imageHash:g});if(!A)throw new Error(`unable to find config ${g}`);if(!ge.config.isWalletConfig(A))throw new Error(`config ${g} is not v2`);const m=new Map((await Promise.all(y.map(async function(C){const{id:O,subdigest:B,signatureType:M}=p.get(C);try{let R=await(await Xh(O,n.options.rateLimitRetryDelayMs,n.options.arweaveUrl)).text();switch(M){case"eip-712":R+="01";break;case"eth_sign":R+="02";break;case"erc-1271":R+="03";break}if(n.eip5719)try{R=L(await n.eip5719.runByEIP5719(C,B,R))}catch{console.warn(`unable to run eip-5719 on config update ${O}`)}const K=Y.signer.tryRecoverSigner(B,R);return[[C,{signature:R,isDynamic:K!==C}]]}catch(R){return console.warn(`unable to fetch signer ${C} config update ${O}:`,R),[]}}))).flat()),{encoded:x,weight:w}=ge.signature.encodeSigners(l,m,[],0);if(w<BigInt(l.threshold))throw new Error(`insufficient signing power ${w.toString()} < ${l.threshold}`);u.push({wallet:r,signature:x,nextImageHash:g}),l=A,c=c.filter(({toCheckpoint:C})=>C>BigInt(l.checkpoint))}catch(A){console.warn(`unable to reconstruct wallet ${r} update from config ${f} to config ${g}:`,A),c=c.filter(({toImageHash:m})=>m!==g)}}return u}savePresignedConfiguration(e){throw new Error("arweave backend does not support saving config updates")}saveWitnesses(e){throw new Error("arweave backend does not support saving signatures")}async configOfImageHash(e){var n=this;if(!e.noCache){const s=this.configs.get(e.imageHash);if(s)try{return await s}catch{const o=this.configs.get(e.imageHash);if(o)return o}}const r=async function(s){const i=Object.entries(await Jl({Type:"config",Config:s},n.options)).flatMap(([o,a])=>{try{const c=Number(a.Version);if(!c)throw new Error(`invalid version: ${a.Version}`);return[{id:o,version:c}]}catch(c){return console.warn(`config ${s} at ${o} invalid:`,c),[]}});switch(i.length){case 0:n.configs.set(s,Promise.resolve(void 0));return;case 1:break;default:console.warn(`multiple configs ${s} at ${i.map(({id:o})=>o).join(", ")}`);break}for(const{id:o,version:a}of i)try{const c=Ns({},await(await Xh(o,n.options.rateLimitRetryDelayMs,n.options.arweaveUrl)).json(),{version:a});c.tree&&(c.tree=Tc(c.tree));const u=Mt.coderFor(a).config.imageHashOf(c);if(u!==s)throw new Error(`image hash is ${u}, expected ${s}`);return n.configs.set(s,Promise.resolve(c)),c}catch(c){console.warn(`config at ${o} invalid:`,c)}n.configs.set(s,Promise.resolve(void 0))}(e.imageHash);return e.noCache||this.configs.set(e.imageHash,r),r}saveWalletConfig(e){throw new Error("arweave backend does not support saving configs")}async imageHashOfCounterfactualWallet(e){const n=le(e.wallet),r=Object.entries(await Jl({Type:"wallet",Wallet:n},this.options)).flatMap(([s,i])=>{try{const{"Deploy-Config":o}=i,a=Number(i["Deploy-Version"]);if(!a)throw new Error(`invalid version: ${i["Deploy-Version"]}`);if(!o)throw new Error("no deploy config");const c=Y.context.defaultContexts[a];if(!c)throw new Error(`unknown version: ${a}`);if(Y.context.addressOf(c,o)!==n)throw new Error(`incorrect v${a} deploy config: ${o}`);return[{id:s,imageHash:o,context:c}]}catch(o){return console.warn(`wallet ${n} at ${s} invalid:`,o),[]}});switch(r.length){case 0:return;case 1:break;default:console.warn(`multiple deploy configs for wallet ${n} at ${r.map(({id:s})=>s).join(", ")}, using first`);break}return r[0]}saveCounterfactualWallet(e){throw new Error("arweave backend does not support saving wallets")}async walletsOfSigner(e){var n=this;const r=le(e.signer),s=new Map;for(const[i,o]of Object.entries(await Jl({Type:["signature","config update"],Signer:r,Witness:e.allSignatures?void 0:"true"},this.options))){const{Wallet:a,Subdigest:c,Digest:u,"Chain-ID":l}=o;try{if(s.has(a))continue;let f;switch(o["Signature-Type"]){case"eip-712":f="01";break;case"eth_sign":f="02";break;case"erc-1271":f="03";break;default:throw new Error(`unknown signature type ${o["Signature-Type"]}`)}if(c!==Y.signature.subdigestOf({digest:u,chainId:l,address:a}))throw new Error("incorrect subdigest");const d=Xh(i,this.options.rateLimitRetryDelayMs,this.options.arweaveUrl).then(async function(p){const y=await p.text()+f;if(n.eip5719)try{return L(await n.eip5719.runByEIP5719(r,c,y))}catch{console.warn(`unable to run eip-5719 on signature ${i}`)}return y});s.set(a,{digest:u,chainId:BigInt(l),signature:d})}catch(f){console.warn(`signer ${r} signature ${i} of wallet ${a} invalid:`,f)}}return Promise.all([...s.entries()].map(async function([i,{digest:o,chainId:a,signature:c}]){return{wallet:i,proof:{digest:o,chainId:a,signature:await c}}}))}async getMigration(e,n,r,s){const i=le(e),o=Object.entries(await Jl({Type:"migration",Migration:i,"Chain-ID":BigInt(s).toString(),"From-Version":`${r}`,"From-Config":n},this.options)).flatMap(([w,C])=>{try{const{"To-Config":O,Executor:B}=C,M=Number(C["To-Version"]);if(!M)throw new Error(`invalid version: ${C["To-Version"]}`);if(!Re(O,32))throw new Error(`to config is not a hash: ${O}`);if(!lp(B))throw new Error(`executor is not an address: ${B}`);return{id:w,toVersion:M,toImageHash:O,executor:B}}catch(O){return console.warn(`chain ${s} migration ${w} for v${r} wallet ${i} from config ${n} invalid:`,O),[]}});switch(o.length){case 0:return;case 1:break;default:console.warn(`multiple chain ${s} migrations for v${r} wallet ${i} from config ${n} at ${o.map(({id:w})=>w).join(", ")}, using first`);break}const{id:a,toVersion:c,toImageHash:u,executor:l}=o[0],[f,d]=await Promise.all([Xh(a,this.options.rateLimitRetryDelayMs,this.options.arweaveUrl).then(w=>w.text()),this.configOfImageHash({imageHash:u})]);if(!d)throw new Error(`unable to find to config ${u} for migration`);const p=new Et(UW),[y,g,A]=p.decodeFunctionData("execute",f),m=Y.transaction.fromTxAbiEncode(y),x=Y.transaction.subdigestOfTransactions(i,s,g,m);return{tx:{entrypoint:l,transactions:m,nonce:g,chainId:s,intent:{id:x,wallet:i},signature:A},fromVersion:r,toVersion:Number(c),toConfig:d}}saveMigration(e,n,r){throw new Error("arweave backend does not support saving migrations")}}async function Jl(t,e){var n,r,s,i;const o=(n=e==null?void 0:e.namespace)!=null?n:za.namespace,a=e==null?void 0:e.owners,c=(r=e==null?void 0:e.graphqlUrl)!=null?r:za.graphqlUrl,u=(s=e==null?void 0:e.rateLimitRetryDelayMs)!=null?s:za.rateLimitRetryDelayMs,l=(i=e==null?void 0:e.pageSize)!=null?i:100,f=e==null?void 0:e.maxResults,d=Object.entries(t).flatMap(([y,g])=>g===void 0?[]:[`{ name: "${o?`${o}-${y}`:y}", values: [${typeof g=="string"?`"${g}"`:g.map(A=>`"${A}"`).join(", ")}] }`]),p=[];for(let y=!0;y&&(f===void 0||p.length<f);){const g=`
      query {
        transactions(sort: HEIGHT_DESC, ${p.length?`first: ${l}, after: "${p[p.length-1].cursor}"`:`first: ${l}`}, tags: [${d.join(", ")}]${a===void 0?"":`, owners: [${a.map(x=>`"${x}"`).join(", ")}]`}) {
          pageInfo {
            hasNextPage
          }
          edges {
            cursor
            node {
              id
              tags {
                name
                value
              }
            }
          }
        }
      }
    `;let A;for(;A=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:g}),redirect:"follow"}),A.status===429;)console.warn(`rate limited by ${c}, trying again in ${u/1e3} seconds at ${new Date(Date.now()+u).toLocaleTimeString()}`),await new Promise(x=>setTimeout(x,u));const{data:{transactions:m}}=await A.json();p.push(...m.edges),y=m.pageInfo.hasNextPage}return Object.fromEntries(p.map(({node:{id:y,tags:g}})=>[y,Object.fromEntries(g.map(({name:A,value:m})=>[o&&A.startsWith(`${o}-`)?A.slice(o.length+1):A,m]))]))}async function Xh(t,e=za.rateLimitRetryDelayMs,n=za.arweaveUrl){for(;;){const r=await fetch(`${n}/${t}`,{redirect:"follow"});if(r.status!==429)return r;console.warn(`rate limited by ${n}, trying again in ${e/1e3} seconds at ${new Date(Date.now()+e).toLocaleTimeString()}`),await new Promise(s=>setTimeout(s,e))}}function Tc(t){return typeof t=="string"?{nodeHash:t}:typeof t=="object"&&(t==null?void 0:t.node)!==void 0?{nodeHash:t.node}:t instanceof Array&&t.length===2?{left:Tc(t[0]),right:Tc(t[1])}:ge.config.isNode(t)?{left:Tc(t.left),right:Tc(t.right)}:ge.config.isNestedLeaf(t)?Ns({},t,{tree:Tc(t.tree)}):t}var $W=Object.freeze({__proto__:null,defaults:za,ArweaveReader:FW});class WW{constructor(e){this.tracker=e}async loadPresignedConfiguration(e){return console.debug("? loadPresignedConfiguration"),hn(e,"? "),hn(await this.tracker.loadPresignedConfiguration(e),"! ")}savePresignedConfiguration(e){return console.debug("? savePresignedConfiguration"),hn(e,"? "),this.tracker.savePresignedConfiguration(e)}saveWitnesses(e){return console.debug("? saveWitnesses"),hn(e,"? "),this.tracker.saveWitnesses(e)}async configOfImageHash(e){return console.debug("? configOfImageHash"),hn(e,"? "),hn(await this.tracker.configOfImageHash(e),"! ")}saveWalletConfig(e){return console.debug("? saveWalletConfig"),hn(e,"? "),this.tracker.saveWalletConfig(e)}async imageHashOfCounterfactualWallet(e){return console.debug("? imageHashOfCounterfactualWallet"),hn(e,"? "),hn(await this.tracker.imageHashOfCounterfactualWallet(e),"! ")}saveCounterfactualWallet(e){return console.debug("? saveCounterfactualWallet"),hn(e,"? "),this.tracker.saveCounterfactualWallet(e)}async walletsOfSigner(e){return console.debug("? walletsOfSigner"),hn(e,"? "),hn(await this.tracker.walletsOfSigner(e),"! ")}async getMigration(e,n,r,s){return console.debug("? getMigration"),hn({address:e,fromImageHash:n,fromVersion:r,chainId:s},"? "),hn(await this.tracker.getMigration(e,n,r,s),"! ")}saveMigration(e,n,r){return console.debug("? saveMigration"),hn({address:e,signed:n,contexts:r},"? "),this.tracker.saveMigration(e,n,r)}}function hn(t,e=""){switch(t){case void 0:console.debug(e+"undefined");break;default:JSON.stringify(t,Kr,2).split(`
`).map(n=>e+n).forEach(n=>console.debug(n));break}return t}var HW=Object.freeze({__proto__:null,DebugConfigTracker:WW});class IO{constructor(){this.configs={},this.v2Nodes={},this.counterfactualWallets={},this.payloads={},this.signatures={},this.migrations={},this.loadConfig=e=>Promise.resolve(this.configs[e]),this.saveConfig=(e,n)=>(this.configs[e]=n,Promise.resolve()),this.loadV2Node=e=>Promise.resolve(this.v2Nodes[e]),this.saveV2Node=(e,n)=>(this.v2Nodes[e]=n,Promise.resolve()),this.loadCounterfactualWallet=e=>Promise.resolve(this.counterfactualWallets[e]),this.saveCounterfactualWallet=(e,n,r)=>(this.counterfactualWallets[e]={imageHash:n,context:r},Promise.resolve()),this.loadPayloadOfSubdigest=e=>Promise.resolve(this.payloads[e]),this.savePayloadOfSubdigest=(e,n)=>(this.payloads[e]=n,Promise.resolve()),this.loadSubdigestsOfSigner=e=>Promise.resolve(Object.keys(this.signatures[e]||{})),this.loadSignatureOfSubdigest=(e,n)=>{var r;return Promise.resolve((r=this.signatures[e])==null?void 0:r[n])},this.saveSignatureOfSubdigest=(e,n,r)=>(this.signatures[e]||(this.signatures[e]={}),this.signatures[e][n]=r,Promise.resolve()),this.loadMigrationsSubdigest=(e,n,r)=>{var s;return Promise.resolve(((s=this.migrations[e])==null||(s=s[n])==null?void 0:s[r])||[])},this.saveMigrationsSubdigest=(e,n,r,s,i)=>(this.migrations[e]||(this.migrations[e]={}),this.migrations[e][n]||(this.migrations[e][n]={}),this.migrations[e][n][r]||(this.migrations[e][n][r]=[]),this.migrations[e][n][r].push({subdigest:s,toImageHash:i}),Promise.resolve())}}function ou(t){if(t===void 0)return;const e={};for(const n of Object.keys(t)){const r=t[n];r._isBigNumber===!0&&r._hex!==void 0&&typeof r._hex=="string"&&r._hex.length!==""?e[n]=BigInt(r._hex):Array.isArray(r)?e[n]=r.map(s=>ou(s)):typeof r=="object"&&r!==null?e[n]=ou(r):e[n]=r}return e}class jW{constructor(e){var n=this;this.dbName=e,this._lazyDb=void 0,this.loadConfig=async function(r){return(await n.getDb()).get("configs",r).then(i=>ou(i))},this.saveConfig=async function(r,s){await(await n.getDb()).put("configs",s,r)},this.loadV2Node=async function(r){return(await n.getDb()).get("v2Nodes",r).then(i=>ou(i))},this.saveV2Node=async function(r,s){await(await n.getDb()).put("v2Nodes",s,r)},this.loadCounterfactualWallet=async function(r){return(await n.getDb()).get("counterfactualWallets",r)},this.saveCounterfactualWallet=async function(r,s,i){await(await n.getDb()).put("counterfactualWallets",{imageHash:s,context:i},r)},this.loadPayloadOfSubdigest=async function(r){return(await n.getDb()).get("payloads",r).then(i=>ou(i))},this.savePayloadOfSubdigest=async function(r,s){await(await n.getDb()).put("payloads",s,r)},this.loadSubdigestsOfSigner=async function(r){return(await(await n.getDb()).getAllKeysFromIndex("signatures","signer",IDBKeyRange.only(r))).map(o=>o.split("-")[0])},this.loadSignatureOfSubdigest=async function(r,s){const o=await(await n.getDb()).get("signatures",[s,r].join("-"));return o==null?void 0:o.signature},this.saveSignatureOfSubdigest=async function(r,s,i){await(await n.getDb()).put("signatures",{signature:i,signer:r},[s,r].join("-"))},this.loadMigrationsSubdigest=async function(r,s,i){return(await(await n.getDb()).getAllFromIndex("migrations","jump",IDBKeyRange.only([r,s,i]))).map(c=>({subdigest:c.subdigest,toImageHash:c.toImageHash}))},this.saveMigrationsSubdigest=async function(r,s,i,o,a){await(await n.getDb()).put("migrations",{wallet:r,fromVersion:s,toVersion:i,subdigest:o,toImageHash:a},o)}}async getDb(){if(this._lazyDb)return this._lazyDb;const e=this.dbName;return this._lazyDb=await BW(e,1,{upgrade(n,r,s,i){console.log(`upgrading ${e} from ${r} to ${s} - ${i}`),r===0&&(n.createObjectStore("configs"),n.createObjectStore("v2Nodes"),n.createObjectStore("counterfactualWallets"),n.createObjectStore("payloads"),n.createObjectStore("signatures").createIndex("signer","signer",{unique:!1}),n.createObjectStore("migrations").createIndex("jump",["wallet","fromVersion","toVersion"]))}}),this._lazyDb}}function OO(t){return t.left!==void 0&&t.right!==void 0}function CO(t){return t.weight!==void 0&&t.threshold!==void 0&&t.tree!==void 0}function xx(t){return t.version===2&&t.threshold!==void 0&&t.checkpoint!==void 0&&t.tree!==void 0&&typeof t.tree=="string"}var GW=Object.freeze({__proto__:null,isPlainNode:OO,isPlainNested:CO,isPlainV2Config:xx,MemoryTrackerStore:IO,recreateBigNumbers:ou,IndexedDBStore:jW});class V1{constructor(e,n=new IO,r=!1){var s=this;this.provider=e,this.store=n,this.useEIP5719=r,this.cachedEIP5719=void 0,this.loadTopology=async function(i){const o=await s.store.loadV2Node(i);if(!o)return{nodeHash:i};if(OO(o)){const[a,c]=await Promise.all([s.loadTopology(o.left),s.loadTopology(o.right)]);return{left:a,right:c}}return CO(o)?{weight:BigInt(o.weight),threshold:BigInt(o.threshold),tree:await s.loadTopology(o.tree)}:o},this.saveTopology=async function(i){if(ge.config.isNodeLeaf(i))return;const o=ge.config.hashNode(i);if(ge.config.isNode(i)){const a=s.saveTopology(i.left),c=s.saveTopology(i.right),u=s.store.saveV2Node(o,{left:ge.config.hashNode(i.left),right:ge.config.hashNode(i.right)});await Promise.all([a,c,u]);return}if(ge.config.isNestedLeaf(i)){const a=s.saveTopology(i.tree),c=s.store.saveV2Node(o,{weight:BigInt(i.weight).toString(),threshold:BigInt(i.threshold).toString(),tree:ge.config.hashNode(i.tree)});await Promise.all([a,c]);return}if(ge.config.isSignerLeaf(i))return s.store.saveV2Node(o,{address:i.address,weight:i.weight});if(ge.config.isSubdigestLeaf(i))return s.store.saveV2Node(o,{subdigest:i.subdigest});throw new Error(`Unknown topology type: ${i}`)},this.saveWalletConfig=async function(i){const{config:o}=i;if(ni.config.ConfigCoder.isWalletConfig(o)){const a=ni.config.ConfigCoder.imageHashOf(o);return s.store.saveConfig(a,o)}if(ge.config.ConfigCoder.isWalletConfig(o)){const a=ge.config.ConfigCoder.imageHashOf(o);if(ge.config.isComplete(o.tree))return s.store.saveConfig(a,o)}},this.configOfImageHashCache={},this.configOfImageHash=async function(i){const{imageHash:o}=i;if(s.configOfImageHashCache[i.imageHash])return s.configOfImageHashCache[i.imageHash];const a=await s.store.loadConfig(o);if(a){if(a.version===1||a.version===2&&!xx(a))return s.configOfImageHashCache[i.imageHash]=a,a;if(xx(a)){const c={version:2,threshold:BigInt(a.threshold),checkpoint:BigInt(a.checkpoint),tree:await s.loadTopology(a.tree)};return s.configOfImageHashCache[i.imageHash]=c,c}throw new Error(`Unknown config type: ${a}`)}},this.saveCounterfactualWallet=async function(i){const{config:o,context:a}=i,c=Mt.genericCoderFor(o.version).config.imageHashOf(o);await Promise.all([s.saveWalletConfig({config:o}),...a.map(u=>{const l=Y.context.addressOf(u,c);return s.store.saveCounterfactualWallet(l,c,u)})])},this.imageHashOfCounterfactualWallet=async function(i){const{wallet:o}=i,a=await s.store.loadCounterfactualWallet(o);if(a)return{imageHash:a.imageHash,context:a.context}},this.savePayload=async function(i){const{payload:o}=i,a=Y.signature.subdigestOf(o);await s.store.savePayloadOfSubdigest(a,o)},this.payloadOfSubdigestCache={},this.payloadOfSubdigest=async function(i){if(s.payloadOfSubdigestCache[i.subdigest])return s.payloadOfSubdigestCache[i.subdigest];const{subdigest:o}=i,a=await s.store.loadPayloadOfSubdigest(o);return a&&(s.payloadOfSubdigestCache[o]=a),a},this.savePresignedConfiguration=async function(i){const o=ge.signature.SignatureCoder.decode(i.signature),a=Mt.genericCoderFor(i.nextConfig.version).config.imageHashOf(i.nextConfig),c=ge.chained.messageSetImageHash(a),u=me(c),l={message:c,address:i.wallet,chainId:0,digest:u},f=s.savePayload({payload:l}),d=s.saveWalletConfig({config:i.nextConfig}),p=await ge.signature.SignatureCoder.recover(o,l,s.provider),y=ge.signature.signaturesOf(p.config.tree);await Promise.all([f,d,s.saveWalletConfig({config:p.config}),...y.map(g=>s.store.saveSignatureOfSubdigest(g.address,p.subdigest,g.signature))])},this.loadPresignedConfiguration=async function(i){const{wallet:o,fromImageHash:a,longestPath:c}=i,u=await s.configOfImageHash({imageHash:a});if(!u||!ge.config.ConfigCoder.isWalletConfig(u))return[];const l=ge.config.signersOf(u.tree).map(w=>w.address),f=await Promise.all(l.map(w=>s.store.loadSubdigestsOfSigner(w))),d=[...new Set(f.flat())],y=(await Promise.all([...new Set(d)].map(async function(w){return Ns({},await s.payloadOfSubdigest({subdigest:w}),{subdigest:w})}))).filter(w=>(w==null?void 0:w.message)&&(w==null?void 0:w.address)&&w.address===o).map(w=>({payload:w,nextImageHash:ge.chained.decodeMessageSetImageHash(w.message)})).filter(w=>w==null?void 0:w.nextImageHash);let g;const m=(await Promise.all(y.map(async function({nextImageHash:w,payload:C}){const O=await s.configOfImageHash({imageHash:w});if(!O||!ge.config.isWalletConfig(O))return;const B=BigInt(O.checkpoint);return{nextConfig:O,nextCheckpoint:B,nextImageHash:w,payload:C}}))).filter(w=>w!==void 0).filter(w=>w.nextCheckpoint>BigInt(u.checkpoint)).sort((w,C)=>w.nextCheckpoint>C.nextCheckpoint?c?1:-1:c?-1:1);for(const w of m){const{nextConfig:C,nextCheckpoint:O,nextImageHash:B,payload:M}=w;if(g){const j=g.checkpoint;if(c){if(O>=j)continue}else if(O<=j)continue}const R=new Map((await Promise.all(l.map(async function(j){const te=await s.store.loadSignatureOfSubdigest(j,M.subdigest);if(!te)return[j,void 0];const ye=L(s.useEIP5719?await s.cachedEIP5719.runByEIP5719(j,M.subdigest,te):te),be=Y.signer.tryRecoverSigner(M.subdigest,ye)!==j;return[j,{isDynamic:be,signature:ye}]}))).filter(j=>!!j[1]));if(R.size===0)continue;const K=ge.signature.SignatureCoder.encodeSigners(u,R,[],0);K.weight<BigInt(u.threshold)||(g={nextImageHash:B,checkpoint:BigInt(C.checkpoint),signature:K.encoded})}if(!g)return[];const x=await s.loadPresignedConfiguration({wallet:o,fromImageHash:g.nextImageHash,longestPath:c});return[{wallet:o,nextImageHash:g.nextImageHash,signature:g.signature},...x]},this.saveWitnesses=async function(i){const o={digest:i.digest,address:i.wallet,chainId:i.chainId},a=Y.signature.subdigestOf(o);await Promise.all([s.savePayload({payload:o}),...i.signatures.filter(c=>Y.signer.canRecover(c)).map(c=>{const u=Y.signer.recoverSigner(a,c);return s.store.saveSignatureOfSubdigest(u,a,c)})])},this.walletsOfSigner=async function(i){const o=await s.store.loadSubdigestsOfSigner(i.signer),a=await Promise.all(o.map(u=>s.payloadOfSubdigest({subdigest:u}))).then(u=>u.filter(l=>l!==void 0)),c=[];for(const u of a){const l=u.address;if(c.find(p=>p.wallet===l))continue;const f=Y.signature.subdigestOf(u),d=await s.store.loadSignatureOfSubdigest(i.signer,f);d&&c.push({wallet:l,proof:{digest:u.digest,chainId:BigInt(u.chainId),signature:L(d)}})}return c},this.cachedEIP5719=new AO(e)}async saveMigration(e,n,r){const s=n.fromVersion;if(s!==1)throw new Error("Migration not supported");if(!ge.config.isWalletConfig(n.toConfig))throw new Error("Invalid to config");const{newImageHash:i,address:o}=Xk.v1v2.decodeTransaction(n.tx,r);if(o!==e)throw new Error("Invalid migration transaction - address");if(ge.config.ConfigCoder.imageHashOf(n.toConfig)!=i)throw new Error("Invalid migration transaction - config");const a=Y.transaction.packMetaTransactionsData(n.tx.nonce,n.tx.transactions),c=me(a),u={chainId:n.tx.chainId,message:a,address:e,digest:c},l=Y.signature.subdigestOf(u),f=this.savePayload({payload:u}),d=this.saveWalletConfig({config:n.toConfig}),p=ni.signature.SignatureCoder.decode(n.tx.signature),y=await ni.signature.SignatureCoder.recover(p,u,this.provider),g=ni.signature.SignatureCoder.signaturesOf(y.config);await Promise.all([f,d,this.saveWalletConfig({config:y.config}),this.store.saveMigrationsSubdigest(e,s,s+1,l,i),...g.map(A=>this.store.saveSignatureOfSubdigest(A.address,y.subdigest,A.signature))])}async getMigration(e,n,r,s){var i=this;const[o,a]=await Promise.all([this.configOfImageHash({imageHash:n}),this.store.loadMigrationsSubdigest(e,r,r+1)]),c=Mt.coderFor(r);return!o||!c.config.isWalletConfig(o)?void 0:(await Promise.all(a.map(async function(l){const{subdigest:f,toImageHash:d}=l,p=await i.payloadOfSubdigest({subdigest:f});if(!p||!p.message||BigInt(s)!==BigInt(p.chainId))return;const y=c.config.signersOf(o).map(w=>w.address),g=new Map((await Promise.all(y.map(async function(w){const C=await i.store.loadSignatureOfSubdigest(w,f);if(!C)return[w,void 0];const O=L(i.useEIP5719?await i.cachedEIP5719.runByEIP5719(w,f,C):C),B=Y.signer.tryRecoverSigner(f,O)!==w;return[w,{isDynamic:B,signature:O}]}))).filter(w=>!!w[1])),A=c.signature.encodeSigners(o,g,[],s);if(!A||A.weight<BigInt(o.threshold))return;const[m,x]=Y.transaction.unpackMetaTransactionsData(p.message);return{tx:{entrypoint:e,transactions:Y.transaction.fromTxAbiEncode(x),chainId:s,nonce:m,signature:A.encoded,intent:{id:f,wallet:e}},toConfig:await i.configOfImageHash({imageHash:d}),fromVersion:r,toVersion:r+1}})).then(l=>l.filter(f=>f!==void 0)))[0]}updateProvider(e){this.provider=e}}var VW=Object.freeze({__proto__:null,LocalConfigTracker:V1});const zW="Webrpc",KW="webrpc@v0.22.1;gen-typescript@v0.16.2;sessions@v0.0.1";let oy=function(t){return t.EIP712="EIP712",t.EthSign="EthSign",t.EIP1271="EIP1271",t}({});class qW{constructor(e,n){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Sessions/",this.ping=(r,s)=>this.fetch(this.url("Ping"),ir({},r,s)).then(i=>or(i).then(o=>({})),i=>{throw Hn.new({cause:`fetch(): ${i.message||""}`})}),this.config=(r,s,i)=>this.fetch(this.url("Config"),ir(r,s,i)).then(o=>or(o).then(a=>({version:a.version,config:a.config})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.wallets=(r,s,i)=>this.fetch(this.url("Wallets"),ir(r,s,i)).then(o=>or(o).then(a=>({wallets:a.wallets,cursor:a.cursor})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.deployHash=(r,s,i)=>this.fetch(this.url("DeployHash"),ir(r,s,i)).then(o=>or(o).then(a=>({deployHash:a.deployHash,context:a.context})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.configUpdates=(r,s,i)=>this.fetch(this.url("ConfigUpdates"),ir(r,s,i)).then(o=>or(o).then(a=>({updates:a.updates})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.migrations=(r,s,i)=>this.fetch(this.url("Migrations"),ir(r,s,i)).then(o=>or(o).then(a=>({migrations:a.migrations})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.saveConfig=(r,s,i)=>this.fetch(this.url("SaveConfig"),ir(r,s,i)).then(o=>or(o).then(a=>({})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.saveWallet=(r,s,i)=>this.fetch(this.url("SaveWallet"),ir(r,s,i)).then(o=>or(o).then(a=>({})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.saveSignature=(r,s,i)=>this.fetch(this.url("SaveSignature"),ir(r,s,i)).then(o=>or(o).then(a=>({})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.saveSignerSignatures=(r,s,i)=>this.fetch(this.url("SaveSignerSignatures"),ir(r,s,i)).then(o=>or(o).then(a=>({})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.saveSignerSignatures2=(r,s,i)=>this.fetch(this.url("SaveSignerSignatures2"),ir(r,s,i)).then(o=>or(o).then(a=>({})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.saveMigration=(r,s,i)=>this.fetch(this.url("SaveMigration"),ir(r,s,i)).then(o=>or(o).then(a=>({})),o=>{throw Hn.new({cause:`fetch(): ${o.message||""}`})}),this.hostname=e.replace(/\/*$/,""),this.fetch=(r,s)=>n(r,s)}url(e){return this.hostname+this.path+e}}const ir=(t={},e={},n=null)=>{const r=Ns({},e,{"Content-Type":"application/json"});return r[zW]=KW,{method:"POST",headers:r,body:JSON.stringify(t||{}),signal:n}},or=t=>t.text().then(e=>{let n;try{n=JSON.parse(e)}catch(r){let s="";throw r instanceof Error&&(s=r.message),LO.new({status:t.status,cause:`JSON.parse(): ${s}: response text: ${e}`})}if(!t.ok){const r=typeof n.code=="number"?n.code:0;throw(oH[r]||$n).new(n)}return n});let $n=class NO extends Error{constructor(e,n,r,s,i){super(r),this.name=void 0,this.code=void 0,this.message=void 0,this.status=void 0,this.cause=void 0,this.msg=void 0,this.name=e||"WebrpcError",this.code=typeof n=="number"?n:0,this.message=r||`endpoint error ${this.code}`,this.msg=this.message,this.status=typeof s=="number"?s:0,this.cause=i,Object.setPrototypeOf(this,NO.prototype)}static new(e){return new this(e.error,e.code,e.message||e.msg,e.status,e.cause)}},QW=class PO extends $n{constructor(e="WebrpcEndpoint",n=0,r="endpoint error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,PO.prototype)}},Hn=class RO extends $n{constructor(e="WebrpcRequestFailed",n=-1,r="request failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,RO.prototype)}},JW=class _O extends $n{constructor(e="WebrpcBadRoute",n=-2,r="bad route",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,_O.prototype)}},YW=class BO extends $n{constructor(e="WebrpcBadMethod",n=-3,r="bad method",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,BO.prototype)}},XW=class MO extends $n{constructor(e="WebrpcBadRequest",n=-4,r="bad request",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,MO.prototype)}},LO=class DO extends $n{constructor(e="WebrpcBadResponse",n=-5,r="bad response",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,DO.prototype)}},ZW=class UO extends $n{constructor(e="WebrpcServerPanic",n=-6,r="server panic",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,UO.prototype)}},eH=class FO extends $n{constructor(e="WebrpcInternalError",n=-7,r="internal error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,FO.prototype)}},tH=class $O extends $n{constructor(e="WebrpcClientDisconnected",n=-8,r="client disconnected",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,$O.prototype)}},nH=class WO extends $n{constructor(e="WebrpcStreamLost",n=-9,r="stream lost",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,WO.prototype)}},rH=class HO extends $n{constructor(e="WebrpcStreamFinished",n=-10,r="stream finished",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,HO.prototype)}},sH=class jO extends $n{constructor(e="InvalidArgument",n=1,r="invalid argument",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,jO.prototype)}},iH=class GO extends $n{constructor(e="NotFound",n=2,r="not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,GO.prototype)}};const oH={0:QW,[-1]:Hn,[-2]:JW,[-3]:YW,[-4]:XW,[-5]:LO,[-6]:ZW,[-7]:eH,[-8]:tH,[-9]:nH,[-10]:rH,1:sH,2:iH};class aH{constructor(e,n=!0){this.onlyRecoverable=n,this.sessions=void 0,this.sessions=new qW(e,fetch)}async loadPresignedConfiguration(e){try{const{updates:n}=await this.sessions.configUpdates({wallet:e.wallet,fromImageHash:e.fromImageHash,allUpdates:e.longestPath});return n.map(({toImageHash:r,signature:s})=>({wallet:e.wallet,nextImageHash:r,signature:s}))}catch(n){if(ay(n))return[];throw n}}async savePresignedConfiguration(e){const n=e.nextConfig,r=Mt.genericCoderFor(n.version).config.imageHashOf(n),s=ge.signature.setImageHashStruct(r),i=me(s);await this.sessions.saveSignature({wallet:e.wallet,digest:i,chainID:"0",signature:e.signature,toConfig:Zh(n),referenceChainID:e.referenceChainId!==void 0?BigInt(e.referenceChainId).toString():void 0})}async saveWitnesses(e){let n=e.signatures;this.onlyRecoverable&&(n=n.filter(r=>Y.signer.canRecover(r))),await this.sessions.saveSignerSignatures({wallet:e.wallet,digest:e.digest,chainID:Hc(e.chainId),signatures:n})}async configOfImageHash(e){try{const{version:n,config:r}=await this.sessions.config(e);return cH(n,r)}catch(n){if(ay(n))return;throw n}}async saveWalletConfig(e){const n=Zh(e.config);await this.sessions.saveConfig({version:e.config.version,config:n})}async imageHashOfCounterfactualWallet(e){try{const{deployHash:n,context:r}=await this.sessions.deployHash(e);return{imageHash:n,context:r}}catch(n){if(ay(n))return;throw n}}async saveCounterfactualWallet(e){const n=Zh(e.config);await this.sessions.saveWallet({version:e.config.version,deployConfig:n})}async walletsOfSigner(e){const{wallets:n}=await this.sessions.wallets(e);return Object.entries(n).map(([r,{digest:s,chainID:i,type:o,signature:a}])=>{switch(o){case oy.EIP712:a+=Xn(Y.signer.SigType.EIP712).slice(2);break;case oy.EthSign:a+=Xn(Y.signer.SigType.ETH_SIGN).slice(2);break;case oy.EIP1271:a+=Xn(Y.signer.SigType.WALLET_BYTES32).slice(2);break}return{wallet:r,proof:{digest:s,signature:a,chainId:BigInt(i)}}})}async getMigration(e,n,r,s){var i=this;const o=Hc(s),{migrations:a}=await this.sessions.migrations({wallet:e,fromVersion:r,fromImageHash:n,chainID:o}),c=async function(f){const d=a[f];if(d){const p=Object.keys(d).map(Number).sort((y,g)=>g-y);for(const y of p)for(const[g,A]of Object.entries(d[y]))try{const m=await i.configOfImageHash({imageHash:g});if(m)return{fromVersion:r,toVersion:y,toConfig:m,tx:{entrypoint:A.executor,transactions:A.transactions,nonce:A.nonce,signature:A.signature,chainId:f,intent:{id:Y.transaction.subdigestOfTransactions(e,f,A.nonce,A.transactions),wallet:e}}}}catch(m){console.error(m)}}},u=await c(o);if(u)return u;for(const l in a)if(l!==o){const f=await c(l);if(f)return f}}async saveMigration(e,n,r){await this.sessions.saveMigration({wallet:e,fromVersion:n.fromVersion,toVersion:n.toVersion,toConfig:Zh(n.toConfig),executor:n.tx.entrypoint,transactions:n.tx.transactions.map(uH),nonce:Hc(n.tx.nonce),signature:n.tx.signature,chainID:Hc(n.tx.chainId)})}}function Zh(t){switch(t.version){case 1:if(ni.config.ConfigCoder.isWalletConfig(t))return{threshold:da(t.threshold),signers:t.signers.map(({weight:e,address:n})=>({weight:da(e),address:n}))};throw new Error(`not a v${t.version} config: ${t}`);case 2:if(ge.config.ConfigCoder.isWalletConfig(t))return{threshold:da(t.threshold),checkpoint:da(t.checkpoint),tree:_0(t.tree)};throw new Error(`not a v${t.version} config: ${t}`);default:throw new Error(`unknown version ${t.version}`)}}function _0(t){return ge.config.isNode(t)?{left:_0(t.left),right:_0(t.right)}:ge.config.isSignerLeaf(t)?{weight:da(t.weight),address:t.address}:ge.config.isNestedLeaf(t)?{weight:da(t.weight),threshold:da(t.threshold),tree:_0(t.tree)}:ge.config.isNodeLeaf(t)?{node:t.nodeHash}:Ns({},t)}function cH(t,e){switch(t){case 1:return Ns({},e,{version:t});case 2:return Ns({},e,{version:t,tree:B0(e.tree)});default:throw new Error(`unknown version ${t}`)}}function B0(t){switch(typeof t){case"object":const e=Ns({},t);return e.left!==void 0&&(e.left=B0(e.left)),e.right!==void 0&&(e.right=B0(e.right)),e.tree!==void 0&&(e.tree=B0(e.tree)),e.node!==void 0&&(e.nodeHash=e.node,delete e.node),e;default:throw new Error(`v2 config tree ${t} is not an object`)}}function uH(t){return{to:t.to,value:t.value!==void 0?Hc(t.value):void 0,data:t.data!==void 0?L(t.data):void 0,gasLimit:t.gasLimit!==void 0?Hc(t.gasLimit):void 0,delegateCall:t.delegateCall,revertOnError:t.revertOnError}}function da(t){return Number(t)}function Hc(t){return BigInt(t).toString()}function ay(t){return typeof t=="object"&&t.status===404}var lH=Object.freeze({__proto__:null,RemoteConfigTracker:aH});function wx(t,e,n){return new Promise(r=>{let s=0;t.forEach(i=>i.then(o=>{n(o)?r(o):(s++,s===t.length&&r(e))}).catch(()=>{s++,s===t.length&&r(e)}))})}async function gf(t,e){return Promise.all(t.map(n=>n.catch(()=>e)))}class fH{constructor(e){this.trackers=e}async configOfImageHash(e){const n=this.trackers.map(async function(a,c){return{res:await a.configOfImageHash(e),i:c}}),r=await wx(n,void 0,a=>(a==null?void 0:a.res)===void 0?!1:Mt.genericCoderFor(a.res.version).config.isComplete(a.res));if(r!=null&&r.res)return this.saveWalletConfig({config:r.res,skipTracker:r.i}),r.res;const s=new V1(void 0),i=await gf(n,void 0);for(const a of i)a!=null&&a.res&&await s.saveWalletConfig({config:a.res});const o=await s.configOfImageHash(e);return o&&this.saveWalletConfig({config:o}),o}async saveWalletConfig(e){await Promise.all(this.trackers.map((n,r)=>{if(r!==e.skipTracker)return n.saveWalletConfig(e)}))}async imageHashOfCounterfactualWallet(e){const n=await wx(this.trackers.map(r=>r.imageHashOfCounterfactualWallet(e)),void 0,r=>!!r);return n&&this.configOfImageHash({imageHash:n.imageHash}).then(r=>{r&&this.saveCounterfactualWallet({config:r,context:[n.context]})}),n}async saveCounterfactualWallet(e){await Promise.all(this.trackers.map((n,r)=>{if(r!==e.skipTracker)return n.saveCounterfactualWallet(e)}))}async walletsOfSigner(e){const n=await gf(this.trackers.map(o=>o.walletsOfSigner(e)),[]).then(o=>o.flat()),r={};for(const o of n)r[o.wallet]=o.proof;const s=Object.keys(r).map(o=>({wallet:o,proof:r[o]})),i=new Map;return s.forEach(({wallet:o,proof:{digest:a,chainId:c,signature:u}})=>{const l=`${o}-${a}-${c}`;let f=i.get(l);f||(f={wallet:o,digest:a,chainId:c,signatures:[]},i.set(l,f)),f.signatures.push(u)}),i.forEach(o=>this.saveWitnesses(o)),s}async saveWitnesses(e){await Promise.all(this.trackers.map(n=>n.saveWitnesses(e)))}async loadPresignedConfiguration(e){var n=this;const r=await gf(this.trackers.map(c=>c.loadPresignedConfiguration(e)),[]),i=(await gf(r.map(async function(c){const u=c[c.length-1],l=await n.configOfImageHash({imageHash:u.nextImageHash});if(l)return{checkpoint:Mt.genericCoderFor(l.version).config.checkpointOf(l),result:c}}),void 0)).reduce((c,u)=>u&&(!c||u.checkpoint>c.checkpoint)?u:c);if(!i)return[];const o=new Map,a=c=>(o.has(c)||o.set(c,this.configOfImageHash({imageHash:c})),o.get(c));return i.result.forEach(async function(c){const u=await a(c.nextImageHash);u&&n.savePresignedConfiguration({wallet:e.wallet,nextConfig:u,signature:c.signature})}),i.result}async savePresignedConfiguration(e){await Promise.all(this.trackers.map(n=>n.savePresignedConfiguration(e)))}async getMigration(e,n,r,s){return(await Promise.all(this.trackers.map(o=>o.getMigration(e,n,r,s)))).find(o=>!!o)}async saveMigration(e,n,r){await Promise.all(this.trackers.map(s=>s.saveMigration(e,n,r)))}}class dH{constructor(e,n,r){this.tracker=e,this.cache=n,this.contexts=r}async loadPresignedConfiguration(e){var n=this;const r=[this.tracker.loadPresignedConfiguration(e),this.cache.loadPresignedConfiguration(e)];let s;const[i,o]=await Promise.all(r);if(i.length>0&&o.length>0&&i[i.length-1].nextImageHash===o[o.length-1].nextImageHash)s=e.longestPath===!0?i.length>o.length?i:o:i.length<o.length?i:o;else{var a,c;s=(a=(c=(await Promise.all(r.map(async function(l){const f=await l,d=f[f.length-1];if(!d)return;const p=await n.configOfImageHash({imageHash:d.nextImageHash});if(p)return{checkpoint:Mt.genericCoderFor(p.version).config.checkpointOf(p),result:f}}))).reduce((l,f)=>f&&(!l||f.checkpoint>l.checkpoint)?f:l))==null?void 0:c.result)!=null?a:[]}return s||[]}async savePresignedConfiguration(e){await Promise.all([this.tracker.savePresignedConfiguration(e),this.cache.savePresignedConfiguration(e)])}async configOfImageHash(e){if(e.noCache!==!0){const r=await this.cache.configOfImageHash(e);if(r)return r}const n=await this.tracker.configOfImageHash(e);return n&&await this.cache.saveWalletConfig({config:n}),n}async saveWalletConfig(e){await Promise.all([this.tracker.saveWalletConfig(e),this.cache.saveWalletConfig(e)])}async imageHashOfCounterfactualWallet(e){if(e.noCache!==!0){const r=await this.cache.imageHashOfCounterfactualWallet(e);if(r)return r}const n=await this.tracker.imageHashOfCounterfactualWallet(e);if(n){const r=await this.configOfImageHash({imageHash:n.imageHash});r&&await this.cache.saveCounterfactualWallet({config:r,context:[n.context]})}return n}async saveCounterfactualWallet(e){await Promise.all([this.tracker.saveCounterfactualWallet(e),this.cache.saveCounterfactualWallet(e)])}async walletsOfSigner(e){if(e.noCache)return this.tracker.walletsOfSigner(e);const n=await Promise.all([this.tracker.walletsOfSigner(e),this.cache.walletsOfSigner(e)]),r=new Map;for(const s of n)for(const i of s)r.set(i.wallet,i);return Array.from(r.values())}async saveWitnesses(e){await Promise.all([this.tracker.saveWitnesses(e),this.cache.saveWitnesses(e)])}async getMigration(e,n,r,s){const i=await this.cache.getMigration(e,n,r,s);if(i)return i;const o=await this.tracker.getMigration(e,n,r,s);return o&&await this.cache.saveMigration(e,o,this.contexts),o}async saveMigration(e,n,r){await Promise.all([this.tracker.saveMigration(e,n,r),this.cache.saveMigration(e,n,r)])}}class t6{constructor(){this.cache=void 0,this.cache=new Map}do(e,n,r,...s){e=`${e}:${dn(JSON.stringify(s,hH))}`;let i=this.cache.get(e);if(i&&i.expiration&&new Date>=i.expiration&&(i=void 0,this.cache.delete(e)),!i){const o={promise:r(...s)};n!==void 0&&(o.promise=o.promise.then(a=>(o.expiration=new Date(Date.now()+n),a))),i=o,this.cache.set(e,i)}return i.promise}}function hH(t,e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).sort()):typeof e=="bigint"?e.toString():e}function pH(t){return t instanceof VO}class VO{constructor(e,n=50,r=!1){this.tracker=e,this.window=n,this.verbose=r,this.cache=new t6}invalidateCache(){this.cache=new t6}configOfImageHash(e){return this.cache.do("configOfImageHash",this.window,n=>this.tracker.configOfImageHash(n),e)}getMigration(e,n,r,s){return this.cache.do("getMigration",this.window,(...i)=>this.tracker.getMigration(...i),e,n,r,s)}saveMigration(e,n,r){return this.cache.do("saveMigration",void 0,(...s)=>this.tracker.saveMigration(...s),e,n,r)}loadPresignedConfiguration(e){return this.cache.do("loadPresignedConfiguration",this.window,n=>this.tracker.loadPresignedConfiguration(n),e)}savePresignedConfiguration(e){return this.cache.do("savePresignedConfiguration",void 0,n=>this.tracker.savePresignedConfiguration(n),e)}saveWitnesses(e){return this.cache.do("saveWitnesses",void 0,n=>this.tracker.saveWitnesses(n),e)}saveWalletConfig(e){return this.cache.do("saveWalletConfig",void 0,n=>this.tracker.saveWalletConfig(n),e)}imageHashOfCounterfactualWallet(e){return this.cache.do("imageHashOfCounterfactualWallet",void 0,n=>this.tracker.imageHashOfCounterfactualWallet(n),e)}saveCounterfactualWallet(e){return this.cache.do("saveCounterfactualWallet",void 0,n=>this.tracker.saveCounterfactualWallet(n),e)}walletsOfSigner(e){return this.cache.do("walletsOfSigner",this.window,n=>this.tracker.walletsOfSigner(n),e)}updateProvider(e){this.tracker instanceof V1&&this.tracker.updateProvider(e)}}var z1=Object.freeze({__proto__:null,arweave:$W,debug:HW,local:VW,remote:lH,stores:GW,raceUntil:wx,allSafe:gf,MultipleTracker:fH,CachedTracker:dH,isDedupedTracker:pH,DedupedTracker:VO});const gH=Object.freeze(Object.defineProperty({__proto__:null,tracker:DW,trackers:z1},Symbol.toStringTag,{value:"Module"})),zO=60*60*24*7,mH=60;class n6{constructor(e,n,r={},s){this.account=e,this.settings=n,this.status=r,this._initialAuthRequest=void 0,this.proofStrings=new Map,this.onAuthCallbacks=[],this.apiClient=void 0,this.metadataClient=void 0,this.indexerClients=new Map,this.indexerGateway=void 0,this.projectAccessKey=void 0,this.projectAccessKey=s}now(){return Math.floor(Date.now()/1e3)}get expiration(){var e;return Math.max((e=this.settings.metadata.expiration)!=null?e:zO,120)}onAuth(e){return this.onAuthCallbacks.push(e),()=>this.onAuthCallbacks=this.onAuthCallbacks.filter(n=>n!==e)}async dump(){return this.status.jwt?{jwt:{token:await this.status.jwt.token,expiration:this.status.jwt.expiration},metadata:this.status.metadata}:{metadata:this.settings.metadata}}auth(e=5){var n=this;return this._initialAuthRequest?this._initialAuthRequest:(this._initialAuthRequest=async function(){const r=n.settings.sequenceApiUrl;if(!r)throw Error("No sequence api url");let s;for(let i=1;;i++)try{s=(await n.getJWT(!0)).token;break}catch(o){if(i===e)throw console.error(`couldn't authenticate after ${e} attempts`,o),o}return new d0(r,void 0,s)}(),this._initialAuthRequest)}async getJWT(e){var n=this;const r=this.settings.sequenceApiUrl;if(!r)throw Error("No sequence api url");if(this.status.jwt){const u=this.status.jwt,l=await u.token;if(this.now()<u.expiration)return{token:l,expiration:u.expiration};this.status.jwt=void 0}if(!e)throw new Error("no auth token in memory");const s=this.getProofStringKey(),{proofString:i,expiration:o}=this.getProofString(s),a={token:i.then(async function(u){const f=await new d0(r).getAuthToken({ewtString:u});if((f==null?void 0:f.status)===!0&&f.jwtToken.length!==0)return f.jwtToken;throw await n.isProofStringValid(u)||n.proofStrings.delete(s),new Error("no auth token from server")}).catch(u=>{throw this.status.jwt=void 0,u}),expiration:o};return this.status.jwt=a,a.token.then(u=>{this.onAuthCallbacks.forEach(l=>{try{l({status:"fulfilled",value:u})}catch{}})}).catch(u=>{this.onAuthCallbacks.forEach(l=>{try{l({status:"rejected",reason:u})}catch{}})}),{token:await a.token,expiration:o}}getProofStringKey(){return`${this.account.address} - ${this.settings.metadata.name}`}async isProofStringValid(e){try{const n=new nx,r=BigInt(this.settings.sequenceApiChainId),s=Ar(this.account.networks,r);if(!s)throw Error("No network found");n.chainId=Number(r);const i=new qe(s.name,r);return n.provider=new It(wd(s.rpcUrl,this.projectAccessKey),i,{staticNetwork:i}),await n.decodeProof(e),!0}catch{return!1}}async getAPIClient(e=!0){if(!this.apiClient){const n=this.settings.sequenceApiUrl;if(!n)throw Error("No sequence api url");const r=(await this.getJWT(e)).token;this.apiClient=new d0(n,void 0,r)}return this.apiClient}async getMetadataClient(e=!0){if(!this.metadataClient){const n=(await this.getJWT(e)).token;this.metadataClient=new vO(this.settings.sequenceMetadataUrl,void 0,n)}return this.metadataClient}async getIndexerClient(e,n=!0){const r=Ar(this.account.networks,e);if(!r)throw Error(`No network for chain ${e}`);if(!this.indexerClients.has(r.chainId))if(r.indexer)this.indexerClients.set(r.chainId,r.indexer);else if(r.indexerUrl){const s=(await this.getJWT(n)).token;this.indexerClients.set(r.chainId,new H1(r.indexerUrl,void 0,s))}else throw Error(`No indexer url for chain ${e}`);return this.indexerClients.get(r.chainId)}async getIndexerGateway(e=!0){if(!this.indexerGateway){const n=(await this.getJWT(e)).token;this.indexerGateway=new N9(this.settings.sequenceIndexerGatewayUrl,void 0,n)}return this.indexerGateway}getProofString(e){if(this.proofStrings.has(e)){const u=this.proofStrings.get(e);if(this.now()<u.expiration)return u;this.proofStrings.delete(e)}const n=new g1({address:this.account.address});n.claims.app=this.settings.metadata.name,typeof window=="object"&&(n.claims.ogn=window.location.origin),n.setExpiryIn(this.expiration);const r=new nx,s=BigInt(this.settings.sequenceApiChainId),i=Ar(this.account.networks,s);if(!i)throw Error("No network found");r.chainId=Number(s);const o=new qe(i.name,s);r.provider=new It(wd(i.rpcUrl,this.projectAccessKey),o,{staticNetwork:o});const a=this.now()+this.expiration-mH,c={proofString:Promise.resolve(this.account.signDigest(n.messageDigest(),this.settings.sequenceApiChainId,!0,"eip6492")).then(u=>(n.signature=u,r.encodeProof(n,!0))).catch(u=>{throw this.proofStrings.delete(e),u}),expiration:a};return this.proofStrings.set(e,c),c}}const KO=async(t,e,n)=>{const r=le(await t.getAddress());if(!r||r===""||r==="0x")throw qO;const s=new g1;if(s.address=r,!n||!n.app||n.app==="")throw new K1("authorization options requires app to be set");s.claims.app=n.app,s.claims.ogn=n.origin,s.claims.n=n.nonce,s.setExpiryIn(n.expiry?Math.max(n.expiry,200):zO);const i=s.messageTypedData(),o=nk(e);s.signature=await(t instanceof ii?t.signTypedData(i.domain,i.types,i.message,o,"eip6492"):t.signTypedData(i.domain,i.types,i.message,o));const c=await new nx().encodeProof(s,!0);return{typedData:i,proofString:c}};class K1 extends Error{constructor(e){super(e),this.name="AuthError"}}const qO=new K1("auth error: account address is empty");function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ra.apply(null,arguments)}function QO(t){return t.config&&t.metadata&&t.version===void 0}function JO(t){return t.version===2&&t.address}const Ex=[1,137],M0={contexts:Y.context.defaultContexts,networks:ah,tracker:new z1.remote.RemoteConfigTracker("https://sessions.sequence.app")};class Df{constructor(e,n,r,s){this.networks=e,this.contexts=n,this.account=r,this.services=s}async dump(){const e={version:2,address:this.account.address};return this.services?ra({},e,await this.services.dump()):e}static async singleSigner(e){let{signer:n}=e;typeof n=="string"&&(n=new ES(n));const r=new Ig([n]),s=await n.getAddress(),i=1,o=[{weight:1,address:s}],a=e.selectWallet||async function(c){var u,l;if(c.length===0)return;const f=(u=(l=e.settings)==null?void 0:l.tracker)!=null?u:M0.tracker,d=await Promise.all(c.map(async function(p){const y=await f.imageHashOfCounterfactualWallet({wallet:p});return{wallet:p,config:y&&await f.configOfImageHash({imageHash:y.imageHash})}}));for(const p of d){if(!p.config)continue;const g=Mt.genericCoderFor(p.config.version).config.signersOf(p.config);if(g.length===1&&g[0].address===s)return p.wallet}};return Df.open(ra({},e,{orchestrator:r,referenceSigner:s,threshold:i,addSigners:o,selectWallet:a}))}static async open(e){var n,r,s,i,o;const{referenceSigner:a,threshold:c,addSigners:u,selectWallet:l,onAccountAddress:f,settings:d,editConfigOnMigration:p,onMigration:y,orchestrator:g,projectAccessKey:A}=e,{contexts:m,networks:x,tracker:w,services:C}=ra({},M0,d),O=(n=(r=Ar(x,(s=d==null||(i=d.services)==null?void 0:i.sequenceApiChainId)!=null?s:I.MAINNET))==null?void 0:r.chainId)!=null?n:(o=x[0])==null?void 0:o.chainId;if(!O)throw Error("No reference chain found");const B=await w.walletsOfSigner({signer:a}),M=await l(B.map(j=>j.wallet));let R;if(M){if(f==null||f(M),R=new ii({address:M,tracker:w,networks:x,contexts:m,orchestrator:g,projectAccessKey:A}),u&&u.length>0){let j=await R.status(O);if(j.original.version!==j.version||R.version!==j.version){const{migratedAllChains:be,failedChains:Qe}=await R.isMigratedAllChains();if(Qe.some(U=>Ex.includes(U)))throw Error(`Failed to fetch account status on ${Qe.join(", ")}`);if(!be){if(y&&!await y(R))throw Error("Migration cancelled, cannot open session");const{failedChains:U}=await R.signAllMigrations(p||(oe=>oe));if(U.some(oe=>Ex.includes(oe)))throw Error(`Failed to sign migrations on ${U.join(", ")}`);z1.isDedupedTracker(w)&&w.invalidateCache();let Q;if([Q,j]=await Promise.all([R.isMigratedAllChains().then(oe=>oe.migratedAllChains),R.status(O)]),!Q)throw Error("Failed to migrate account")}}j.onChain.version!==j.version&&await R.doBootstrap(O,void 0,j);const te=j.config,ye=R.coders.config.editConfig(te,{add:u,threshold:c});if(R.coders.config.imageHashOf(te)!==R.coders.config.imageHashOf(ye)){const be=R.coders.config.editConfig(ye,{checkpoint:R.coders.config.checkpointOf(te)+1n});await R.updateConfig(be)}}}else{if(!u||u.length===0)throw Error("Cannot create new account without signers");if(!c)throw Error("Cannot create new account without threshold");if(R=await ii.new({config:{threshold:c,checkpoint:0,signers:u},tracker:w,contexts:m,orchestrator:g,networks:x,projectAccessKey:A}),f==null||f(R.address),await R.publishWitness(),!(await w.walletsOfSigner({signer:a,noCache:!0})).some(te=>te.wallet===R.address))throw Error("Account not found on tracker")}let K;return C&&(K=new n6(R,C),K.auth(),K.onAuth(j=>{j.status==="fulfilled"&&R.setJwt(j.value)})),new Df(x,m,R,K)}static async load(e){const{dump:n,settings:r,editConfigOnMigration:s,onMigration:i,orchestrator:o,projectAccessKey:a}=e,{contexts:c,networks:u,tracker:l,services:f}=ra({},M0,r);let d;if(QO(n)){var p,y,g;const O=n.config.address||Y.context.addressOf(c[1],ni.config.ConfigCoder.imageHashOf(ra({},n.config,{version:1}))),B=((p=(y=n.jwt)==null?void 0:y.expiration)!=null?p:0)<Math.floor(Date.now()/1e3);if(d=new ii({address:O,tracker:l,networks:u,contexts:c,orchestrator:o,jwt:B||(g=n.jwt)==null?void 0:g.token,projectAccessKey:a}),!await d.isMigratedAllChains().then(M=>M.migratedAllChains)){if(i&&!await i(d))throw Error("Migration cancelled, cannot open session");if(console.log("Migrating account..."),await d.signAllMigrations(s),!await d.isMigratedAllChains().then(M=>M.migratedAllChains))throw Error("Failed to migrate account")}}else if(JO(n)){var A,m,x;const O=((A=(m=n.jwt)==null?void 0:m.expiration)!=null?A:0)<Math.floor(Date.now()/1e3);d=new ii({address:n.address,tracker:l,networks:u,contexts:c,orchestrator:o,jwt:O||(x=n.jwt)==null?void 0:x.token,projectAccessKey:a})}else throw Error("Invalid dump format");let w;if(f){var C;w=new n6(d,f,n.jwt&&{jwt:{token:Promise.resolve(n.jwt.token),expiration:(C=n.jwt.expiration)!=null?C:HS(n.jwt.token).exp},metadata:n.metadata})}return new Df(u,c,d,w)}}const yH=(t,e,n)=>async(r,s,i)=>{const o=i.messageDigest();return{isValid:await t(s).isValidSignature(i.address,o,i.signature)}},bH=Object.freeze(Object.defineProperty({__proto__:null,AuthError:K1,CRITICAL_CHAINS:Ex,ErrAccountIsRequired:qO,Session:Df,SessionSettingsDefault:M0,ValidateSequenceWalletProof:yH,isSessionDumpV1:QO,isSessionDumpV2:JO,signAuthorization:KO},Symbol.toStringTag,{value:"Module"}));function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(null,arguments)}class YO{constructor(e,n){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Guard/",this.ping=(r,s)=>this.fetch(this.url("Ping"),nn({},r,s)).then(i=>rn(i).then(o=>({status:o.status})),i=>{throw Gt.new({cause:`fetch(): ${i.message||""}`})}),this.version=(r,s)=>this.fetch(this.url("Version"),nn({},r,s)).then(i=>rn(i).then(o=>({version:o.version})),i=>{throw Gt.new({cause:`fetch(): ${i.message||""}`})}),this.runtimeStatus=(r,s)=>this.fetch(this.url("RuntimeStatus"),nn({},r,s)).then(i=>rn(i).then(o=>({status:o.status})),i=>{throw Gt.new({cause:`fetch(): ${i.message||""}`})}),this.getSignerConfig=(r,s,i)=>this.fetch(this.url("GetSignerConfig"),nn(r,s,i)).then(o=>rn(o).then(a=>({signerConfig:a.signerConfig})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.sign=(r,s,i)=>this.fetch(this.url("Sign"),nn(r,s,i)).then(o=>rn(o).then(a=>({sig:a.sig})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.signWith=(r,s,i)=>this.fetch(this.url("SignWith"),nn(r,s,i)).then(o=>rn(o).then(a=>({sig:a.sig})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.patch=(r,s,i)=>this.fetch(this.url("Patch"),nn(r,s,i)).then(o=>rn(o).then(a=>({txs:a.txs})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.authMethods=(r,s,i)=>this.fetch(this.url("AuthMethods"),nn(r,s,i)).then(o=>rn(o).then(a=>({methods:a.methods,active:a.active})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.setPIN=(r,s,i)=>this.fetch(this.url("SetPIN"),nn(r,s,i)).then(o=>rn(o).then(a=>({})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.resetPIN=(r,s,i)=>this.fetch(this.url("ResetPIN"),nn(r,s,i)).then(o=>rn(o).then(a=>({})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.createTOTP=(r,s,i)=>this.fetch(this.url("CreateTOTP"),nn(r,s,i)).then(o=>rn(o).then(a=>({uri:a.uri})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.commitTOTP=(r,s,i)=>this.fetch(this.url("CommitTOTP"),nn(r,s,i)).then(o=>rn(o).then(a=>({codes:a.codes})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.resetTOTP=(r,s,i)=>this.fetch(this.url("ResetTOTP"),nn(r,s,i)).then(o=>rn(o).then(a=>({})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.reset2FA=(r,s,i)=>this.fetch(this.url("Reset2FA"),nn(r,s,i)).then(o=>rn(o).then(a=>({})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.recoveryCodes=(r,s,i)=>this.fetch(this.url("RecoveryCodes"),nn(r,s,i)).then(o=>rn(o).then(a=>({codes:a.codes})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.resetRecoveryCodes=(r,s,i)=>this.fetch(this.url("ResetRecoveryCodes"),nn(r,s,i)).then(o=>rn(o).then(a=>({codes:a.codes})),o=>{throw Gt.new({cause:`fetch(): ${o.message||""}`})}),this.hostname=e.replace(/\/*$/,""),this.fetch=(r,s)=>n(r,s)}url(e){return this.hostname+this.path+e}}const nn=(t={},e={},n=null)=>({method:"POST",headers:Sd({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{}),signal:n}),rn=t=>t.text().then(e=>{let n;try{n=JSON.parse(e)}catch(r){let s="";throw r instanceof Error&&(s=r.message),sC.new({status:t.status,cause:`JSON.parse(): ${s}: response text: ${e}`})}if(!t.ok){const r=typeof n.code=="number"?n.code:0;throw(_H[r]||rt).new(n)}return n});let rt=class XO extends Error{constructor(e,n,r,s,i){super(r),this.name=void 0,this.code=void 0,this.message=void 0,this.status=void 0,this.cause=void 0,this.msg=void 0,this.name=e||"WebrpcError",this.code=typeof n=="number"?n:0,this.message=r||`endpoint error ${this.code}`,this.msg=this.message,this.status=typeof s=="number"?s:0,this.cause=i,Object.setPrototypeOf(this,XO.prototype)}static new(e){return new this(e.error,e.code,e.message||e.msg,e.status,e.cause)}},xH=class ZO extends rt{constructor(e="WebrpcEndpoint",n=0,r="endpoint error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,ZO.prototype)}},Gt=class eC extends rt{constructor(e="WebrpcRequestFailed",n=-1,r="request failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,eC.prototype)}},wH=class tC extends rt{constructor(e="WebrpcBadRoute",n=-2,r="bad route",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,tC.prototype)}},EH=class nC extends rt{constructor(e="WebrpcBadMethod",n=-3,r="bad method",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,nC.prototype)}},vH=class rC extends rt{constructor(e="WebrpcBadRequest",n=-4,r="bad request",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,rC.prototype)}},sC=class iC extends rt{constructor(e="WebrpcBadResponse",n=-5,r="bad response",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,iC.prototype)}},AH=class oC extends rt{constructor(e="WebrpcServerPanic",n=-6,r="server panic",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,oC.prototype)}},SH=class aC extends rt{constructor(e="WebrpcInternalError",n=-7,r="internal error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,aC.prototype)}},kH=class cC extends rt{constructor(e="WebrpcClientDisconnected",n=-8,r="client disconnected",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,cC.prototype)}},TH=class uC extends rt{constructor(e="WebrpcStreamLost",n=-9,r="stream lost",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,uC.prototype)}},IH=class lC extends rt{constructor(e="WebrpcStreamFinished",n=-10,r="stream finished",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,lC.prototype)}},OH=class fC extends rt{constructor(e="Unauthorized",n=1e3,r="Unauthorized access",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,fC.prototype)}},CH=class dC extends rt{constructor(e="PermissionDenied",n=1001,r="Permission denied",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,dC.prototype)}},NH=class hC extends rt{constructor(e="SessionExpired",n=1002,r="Session expired",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,hC.prototype)}};class q1 extends rt{constructor(e="MethodNotFound",n=1003,r="Method not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,q1.prototype)}}class Q1 extends rt{constructor(e="RequestConflict",n=1004,r="Conflict with target resource",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Q1.prototype)}}class J1 extends rt{constructor(e="Aborted",n=1005,r="Request aborted",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,J1.prototype)}}class Y1 extends rt{constructor(e="Geoblocked",n=1006,r="Geoblocked region",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Y1.prototype)}}class X1 extends rt{constructor(e="RateLimited",n=1007,r="Rate-limited. Please slow down.",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,X1.prototype)}}class Z1 extends rt{constructor(e="InvalidArgument",n=2001,r="Invalid argument",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,Z1.prototype)}}class e2 extends rt{constructor(e="Unavailable",n=2002,r="Unavailable resource",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,e2.prototype)}}let PH=class pC extends rt{constructor(e="QueryFailed",n=2003,r="Query failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,pC.prototype)}};class t2 extends rt{constructor(e="ValidationFailed",n=2004,r="Validation Failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,t2.prototype)}}let RH=class gC extends rt{constructor(e="NotFound",n=3e3,r="Resource not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,gC.prototype)}};const _H={0:xH,[-1]:Gt,[-2]:wH,[-3]:EH,[-4]:vH,[-5]:sC,[-6]:AH,[-7]:SH,[-8]:kH,[-9]:TH,[-10]:IH,1e3:OH,1001:CH,1002:NH,1003:q1,1004:Q1,1005:J1,1006:Y1,1007:X1,2001:Z1,2002:e2,2003:PH,2004:t2,3e3:RH};class BH{constructor(e,n,r=!1,s){this.address=e,this.url=n,this.appendSuffix=r,this.projectAccessKey=s,this.guard=void 0,this._fetch=(i,o)=>{const a={},c=this.projectAccessKey;return c&&c.length>0&&(a["X-Access-Key"]=c),o.headers=Sd({},o.headers,a),fetch(i,o)},this.guard=new YO(n,this._fetch)}async getAddress(){return this.address}async buildDeployTransaction(e){}async predecorateSignedTransactions(e){return[]}async decorateTransactions(e,n){return e}async sign(e,n){var r;if(!Y.isWalletSignRequestMetadata(n))throw new Error("expected sequence signature request metadata");const s=n.guardTotpCode,i=Mt.genericCoderFor(n.config.version),{encoded:o}=i.signature.encodeSigners(n.config,(r=n.parts)!=null?r:new Map,[],n.chainId);return(await this.guard.signWith({signer:this.address,request:{msg:L(e),auxData:this.packMsgAndSig(n.address,n.digest,o,n.chainId),chainId:Number(n.chainId)},token:s?{id:Cp.TOTP,token:s}:void 0})).sig}notifyStatusChange(e,n,r){}async getAuthMethods(e){let n;if("jwt"in e)n=await this.guard.authMethods({},{Authorization:`BEARER ${e.jwt}`});else{const r=await vx(e);n=await this.guard.authMethods({proof:{wallet:r.walletAddress,timestamp:r.timestamp.getTime(),signer:r.signerAddress,signature:r.signature}})}return Sd({},n,{methods:n.methods.map(MH)})}async setPin(e,n){const r=await Yl(n);e===void 0?await this.guard.resetPIN({timestamp:r.timestamp.getTime(),signature:r.signature},{Authorization:`BEARER ${n.jwt}`}):await this.guard.setPIN({pin:e,timestamp:r.timestamp.getTime(),signature:r.signature},{Authorization:`BEARER ${n.jwt}`})}resetPin(e){return this.setPin(void 0,e)}async createTotp(e){const n=await Yl(e),{uri:r}=await this.guard.createTOTP({timestamp:n.timestamp.getTime(),signature:n.signature},{Authorization:`BEARER ${e.jwt}`});return new URL(r)}async commitTotp(e,n){const{codes:r}=await this.guard.commitTOTP({token:e},{Authorization:`BEARER ${n}`});return r}async resetTotp(e){const n=await Yl(e);await this.guard.resetTOTP({timestamp:n.timestamp.getTime(),signature:n.signature},{Authorization:`BEARER ${e.jwt}`})}async reset2fa(e,n){if("jwt"in n)await this.guard.reset2FA({code:e},{Authorization:`BEARER ${n.jwt}`});else{const r=await vx(n);await this.guard.reset2FA({code:e,proof:{wallet:r.walletAddress,timestamp:r.timestamp.getTime(),signer:r.signerAddress,signature:r.signature}})}}async getRecoveryCodes(e){const n=await Yl(e),{codes:r}=await this.guard.recoveryCodes({timestamp:n.timestamp.getTime(),signature:n.signature},{Authorization:`BEARER ${e.jwt}`});return r}async resetRecoveryCodes(e){const n=await Yl(e),{codes:r}=await this.guard.resetRecoveryCodes({timestamp:n.timestamp.getTime(),signature:n.signature},{Authorization:`BEARER ${e.jwt}`});return r}packMsgAndSig(e,n,r,s){return Ct.defaultAbiCoder().encode(["address","uint256","bytes","bytes"],[e,s,n,r])}suffix(){return new Uint8Array(this.appendSuffix?[3]:[])}}let Cp=function(t){return t.PIN="PIN",t.TOTP="TOTP",t}({});function MH(t){switch(t){case Cp.PIN:case Cp.TOTP:return t;default:throw new Error(`unknown auth method '${t}'`)}}function mC(t){return"signerAddress"in t&&typeof t.signerAddress=="string"}async function vx(t){if(mC(t))return t;{const e=mx.isSapientSigner(t.signer)?t.signer:new mx.SignerWrapper(t.signer),n=await e.getAddress(),r=new Date,s=yC(t.walletAddress,r),i=_l(s);return{walletAddress:t.walletAddress,timestamp:r,signerAddress:n,signature:L(await e.sign(i,{}))}}}async function Yl(t){if("wallet"in t){var e;const n=new Date,r=bC(n),s=await t.wallet.signTypedData(r.domain,r.types,r.message,(e=r.domain.chainId)!=null?e:1,"eip6492");return{jwt:t.jwt,timestamp:n,signature:s}}else return t}function yC(t,e){return{domain:xC,types:{AuthMethods:[{name:"wallet",type:"address"},{name:"timestamp",type:"string"}]},message:{wallet:le(t),timestamp:wC(e)}}}function bC(t){return{domain:xC,types:{AuthUpdate:[{name:"timestamp",type:"string"}]},message:{timestamp:wC(t)}}}const xC={name:"Sequence Guard",version:"1",chainId:1};function wC(t){return t.toUTCString().replace("GMT","UTC")}const LH=Object.freeze(Object.defineProperty({__proto__:null,AuthMethod:Cp,Guard:YO,GuardSigner:BH,getAuthUpdateProofTypedData:bC,getOwnershipProofTypedData:yC,isSignedOwnershipProof:mC,signOwnershipProof:vx},Symbol.toStringTag,{value:"Module"}));var EC={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */(function(t,e){(function(n){var r=Object.hasOwnProperty,s=Array.isArray?Array.isArray:function(v){return Object.prototype.toString.call(v)==="[object Array]"},i=10,o=typeof process=="object"&&typeof process.nextTick=="function",a=typeof Symbol=="function",c=typeof Reflect=="object",u=typeof setImmediate=="function",l=u?setImmediate:setTimeout,f=a?c&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(b){var v=Object.getOwnPropertyNames(b);return v.push.apply(v,Object.getOwnPropertySymbols(b)),v}:Object.keys;function d(){this._events={},this._conf&&p.call(this,this._conf)}function p(b){b&&(this._conf=b,b.delimiter&&(this.delimiter=b.delimiter),b.maxListeners!==n&&(this._maxListeners=b.maxListeners),b.wildcard&&(this.wildcard=b.wildcard),b.newListener&&(this._newListener=b.newListener),b.removeListener&&(this._removeListener=b.removeListener),b.verboseMemoryLeak&&(this.verboseMemoryLeak=b.verboseMemoryLeak),b.ignoreErrors&&(this.ignoreErrors=b.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function y(b,v){var T="(node) warning: possible EventEmitter memory leak detected. "+b+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(T+=" Event name: "+v+"."),typeof process<"u"&&process.emitWarning){var N=new Error(T);N.name="MaxListenersExceededWarning",N.emitter=this,N.count=b,process.emitWarning(N)}else console.error(T),console.trace&&console.trace()}var g=function(b,v,T){var N=arguments.length;switch(N){case 0:return[];case 1:return[b];case 2:return[b,v];case 3:return[b,v,T];default:for(var _=new Array(N);N--;)_[N]=arguments[N];return _}};function A(b,v){for(var T={},N,_=b.length,F=0,H=0;H<_;H++)N=b[H],T[N]=H<F?v[H]:n;return T}function m(b,v,T){this._emitter=b,this._target=v,this._listeners={},this._listenersCount=0;var N,_;if((T.on||T.off)&&(N=T.on,_=T.off),v.addEventListener?(N=v.addEventListener,_=v.removeEventListener):v.addListener?(N=v.addListener,_=v.removeListener):v.on&&(N=v.on,_=v.off),!N&&!_)throw Error("target does not implement any known event API");if(typeof N!="function")throw TypeError("on method must be a function");if(typeof _!="function")throw TypeError("off method must be a function");this._on=N,this._off=_;var F=b._observers;F?F.push(this):b._observers=[this]}Object.assign(m.prototype,{subscribe:function(b,v,T){var N=this,_=this._target,F=this._emitter,H=this._listeners,z=function(){var G=g.apply(null,arguments),V={data:G,name:v,original:b};if(T){var ue=T.call(_,V);ue!==!1&&F.emit.apply(F,[V.name].concat(G));return}F.emit.apply(F,[v].concat(G))};if(H[b])throw Error("Event '"+b+"' is already listening");this._listenersCount++,F._newListener&&F._removeListener&&!N._onNewListener?(this._onNewListener=function(G){G===v&&H[b]===null&&(H[b]=z,N._on.call(_,b,z))},F.on("newListener",this._onNewListener),this._onRemoveListener=function(G){G===v&&!F.hasListeners(G)&&H[b]&&(H[b]=null,N._off.call(_,b,z))},H[b]=null,F.on("removeListener",this._onRemoveListener)):(H[b]=z,N._on.call(_,b,z))},unsubscribe:function(b){var v=this,T=this._listeners,N=this._emitter,_,F,H=this._off,z=this._target,G;if(b&&typeof b!="string")throw TypeError("event must be a string");function V(){v._onNewListener&&(N.off("newListener",v._onNewListener),N.off("removeListener",v._onRemoveListener),v._onNewListener=null,v._onRemoveListener=null);var ue=R.call(N,v);N._observers.splice(ue,1)}if(b){if(_=T[b],!_)return;H.call(z,b,_),delete T[b],--this._listenersCount||V()}else{for(F=f(T),G=F.length;G-- >0;)b=F[G],H.call(z,b,T[b]);this._listeners={},this._listenersCount=0,V()}}});function x(b,v,T,N){var _=Object.assign({},v);if(!b)return _;if(typeof b!="object")throw TypeError("options must be an object");var F=Object.keys(b),H=F.length,z,G,V;function ue(ke){throw Error('Invalid "'+z+'" option value'+(ke?". Reason: "+ke:""))}for(var Ye=0;Ye<H;Ye++){if(z=F[Ye],!r.call(v,z))throw Error('Unknown "'+z+'" option');G=b[z],G!==n&&(V=T[z],_[z]=V?V(G,ue):G)}return _}function w(b,v){return(typeof b!="function"||!b.hasOwnProperty("prototype"))&&v("value must be a constructor"),b}function C(b){var v="value must be type of "+b.join("|"),T=b.length,N=b[0],_=b[1];return T===1?function(F,H){if(typeof F===N)return F;H(v)}:T===2?function(F,H){var z=typeof F;if(z===N||z===_)return F;H(v)}:function(F,H){for(var z=typeof F,G=T;G-- >0;)if(z===b[G])return F;H(v)}}var O=C(["function"]),B=C(["object","function"]);function M(b,v,T){var N,_,F=0,H,z=new b(function(G,V,ue){T=x(T,{timeout:0,overload:!1},{timeout:function(We,Ke){return We*=1,(typeof We!="number"||We<0||!Number.isFinite(We))&&Ke("timeout must be a positive number"),We}}),N=!T.overload&&typeof b.prototype.cancel=="function"&&typeof ue=="function";function Ye(){_&&(_=null),F&&(clearTimeout(F),F=0)}var ke=function(We){Ye(),G(We)},_e=function(We){Ye(),V(We)};N?v(ke,_e,ue):(_=[function(We){_e(We||Error("canceled"))}],v(ke,_e,function(We){if(H)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof We!="function")throw TypeError("onCancel callback must be a function");_.push(We)}),H=!0),T.timeout>0&&(F=setTimeout(function(){var We=Error("timeout");We.code="ETIMEDOUT",F=0,z.cancel(We),V(We)},T.timeout))});return N||(z.cancel=function(G){if(_){for(var V=_.length,ue=1;ue<V;ue++)_[ue](G);_[0](G),_=null}}),z}function R(b){var v=this._observers;if(!v)return-1;for(var T=v.length,N=0;N<T;N++)if(v[N]._target===b)return N;return-1}function K(b,v,T,N,_){if(!T)return null;if(N===0){var F=typeof v;if(F==="string"){var H,z,G=0,V=0,ue=this.delimiter,Ye=ue.length;if((z=v.indexOf(ue))!==-1){H=new Array(5);do H[G++]=v.slice(V,z),V=z+Ye;while((z=v.indexOf(ue,V))!==-1);H[G++]=v.slice(V),v=H,_=G}else v=[v],_=1}else F==="object"?_=v.length:(v=[v],_=1)}var ke=null,_e,We,Ke,rs,lc,Ti=v[N],tm=v[N+1],Rs,On;if(N===_)T._listeners&&(typeof T._listeners=="function"?(b&&b.push(T._listeners),ke=[T]):(b&&b.push.apply(b,T._listeners),ke=[T]));else if(Ti==="*"){for(Rs=f(T),z=Rs.length;z-- >0;)_e=Rs[z],_e!=="_listeners"&&(On=K(b,v,T[_e],N+1,_),On&&(ke?ke.push.apply(ke,On):ke=On));return ke}else if(Ti==="**"){for(lc=N+1===_||N+2===_&&tm==="*",lc&&T._listeners&&(ke=K(b,v,T,_,_)),Rs=f(T),z=Rs.length;z-- >0;)_e=Rs[z],_e!=="_listeners"&&(_e==="*"||_e==="**"?(T[_e]._listeners&&!lc&&(On=K(b,v,T[_e],_,_),On&&(ke?ke.push.apply(ke,On):ke=On)),On=K(b,v,T[_e],N,_)):_e===tm?On=K(b,v,T[_e],N+2,_):On=K(b,v,T[_e],N,_),On&&(ke?ke.push.apply(ke,On):ke=On));return ke}else T[Ti]&&(ke=K(b,v,T[Ti],N+1,_));if(We=T["*"],We&&K(b,v,We,N+1,_),Ke=T["**"],Ke)if(N<_)for(Ke._listeners&&K(b,v,Ke,_,_),Rs=f(Ke),z=Rs.length;z-- >0;)_e=Rs[z],_e!=="_listeners"&&(_e===tm?K(b,v,Ke[_e],N+2,_):_e===Ti?K(b,v,Ke[_e],N+1,_):(rs={},rs[_e]=Ke[_e],K(b,v,{"**":rs},N+1,_)));else Ke._listeners?K(b,v,Ke,_,_):Ke["*"]&&Ke["*"]._listeners&&K(b,v,Ke["*"],_,_);return ke}function j(b,v,T){var N=0,_=0,F,H=this.delimiter,z=H.length,G;if(typeof b=="string")if((F=b.indexOf(H))!==-1){G=new Array(5);do G[N++]=b.slice(_,F),_=F+z;while((F=b.indexOf(H,_))!==-1);G[N++]=b.slice(_)}else G=[b],N=1;else G=b,N=b.length;if(N>1){for(F=0;F+1<N;F++)if(G[F]==="**"&&G[F+1]==="**")return}var V=this.listenerTree,ue;for(F=0;F<N;F++)if(ue=G[F],V=V[ue]||(V[ue]={}),F===N-1)return V._listeners?(typeof V._listeners=="function"&&(V._listeners=[V._listeners]),T?V._listeners.unshift(v):V._listeners.push(v),!V._listeners.warned&&this._maxListeners>0&&V._listeners.length>this._maxListeners&&(V._listeners.warned=!0,y.call(this,V._listeners.length,ue))):V._listeners=v,!0;return!0}function te(b,v,T,N){for(var _=f(b),F=_.length,H,z,G,V=b._listeners,ue;F-- >0;)z=_[F],H=b[z],z==="_listeners"?G=T:G=T?T.concat(z):[z],ue=N||typeof z=="symbol",V&&v.push(ue?G:G.join(this.delimiter)),typeof H=="object"&&te.call(this,H,v,G,ue);return v}function ye(b){for(var v=f(b),T=v.length,N,_,F;T-- >0;)_=v[T],N=b[_],N&&(F=!0,_!=="_listeners"&&!ye(N)&&delete b[_]);return F}function be(b,v,T){this.emitter=b,this.event=v,this.listener=T}be.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function Qe(b,v,T){if(T===!0)_=!0;else if(T===!1)N=!0;else{if(!T||typeof T!="object")throw TypeError("options should be an object or true");var N=T.async,_=T.promisify,F=T.nextTick,H=T.objectify}if(N||F||_){var z=v,G=v._origin||v;if(F&&!o)throw Error("process.nextTick is not supported");_===n&&(_=v.constructor.name==="AsyncFunction"),v=function(){var V=arguments,ue=this,Ye=this.event;return _?F?Promise.resolve():new Promise(function(ke){l(ke)}).then(function(){return ue.event=Ye,z.apply(ue,V)}):(F?process.nextTick:l)(function(){ue.event=Ye,z.apply(ue,V)})},v._async=!0,v._origin=G}return[v,H?new be(this,b,v):this]}function U(b){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,p.call(this,b)}U.EventEmitter2=U,U.prototype.listenTo=function(b,v,T){if(typeof b!="object")throw TypeError("target musts be an object");var N=this;T=x(T,{on:n,off:n,reducers:n},{on:O,off:O,reducers:B});function _(F){if(typeof F!="object")throw TypeError("events must be an object");var H=T.reducers,z=R.call(N,b),G;z===-1?G=new m(N,b,T):G=N._observers[z];for(var V=f(F),ue=V.length,Ye,ke=typeof H=="function",_e=0;_e<ue;_e++)Ye=V[_e],G.subscribe(Ye,F[Ye]||Ye,ke?H:H&&H[Ye])}return s(v)?_(A(v)):_(typeof v=="string"?A(v.split(/\s+/)):v),this},U.prototype.stopListeningTo=function(b,v){var T=this._observers;if(!T)return!1;var N=T.length,_,F=!1;if(b&&typeof b!="object")throw TypeError("target should be an object");for(;N-- >0;)_=T[N],(!b||_._target===b)&&(_.unsubscribe(v),F=!0);return F},U.prototype.delimiter=".",U.prototype.setMaxListeners=function(b){b!==n&&(this._maxListeners=b,this._conf||(this._conf={}),this._conf.maxListeners=b)},U.prototype.getMaxListeners=function(){return this._maxListeners},U.prototype.event="",U.prototype.once=function(b,v,T){return this._once(b,v,!1,T)},U.prototype.prependOnceListener=function(b,v,T){return this._once(b,v,!0,T)},U.prototype._once=function(b,v,T,N){return this._many(b,1,v,T,N)},U.prototype.many=function(b,v,T,N){return this._many(b,v,T,!1,N)},U.prototype.prependMany=function(b,v,T,N){return this._many(b,v,T,!0,N)},U.prototype._many=function(b,v,T,N,_){var F=this;if(typeof T!="function")throw new Error("many only accepts instances of Function");function H(){return--v===0&&F.off(b,H),T.apply(this,arguments)}return H._origin=T,this._on(b,H,N,_)},U.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var b=arguments[0],v,T=this.wildcard,N,_,F,H,z;if(b==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(T&&(v=b,b!=="newListener"&&b!=="removeListener"&&typeof b=="object")){if(_=b.length,a){for(F=0;F<_;F++)if(typeof b[F]=="symbol"){z=!0;break}}z||(b=b.join(this.delimiter))}var G=arguments.length,V;if(this._all&&this._all.length)for(V=this._all.slice(),F=0,_=V.length;F<_;F++)switch(this.event=b,G){case 1:V[F].call(this,b);break;case 2:V[F].call(this,b,arguments[1]);break;case 3:V[F].call(this,b,arguments[1],arguments[2]);break;default:V[F].apply(this,arguments)}if(T)V=[],K.call(this,V,v,this.listenerTree,0,_);else if(V=this._events[b],typeof V=="function"){switch(this.event=b,G){case 1:V.call(this);break;case 2:V.call(this,arguments[1]);break;case 3:V.call(this,arguments[1],arguments[2]);break;default:for(N=new Array(G-1),H=1;H<G;H++)N[H-1]=arguments[H];V.apply(this,N)}return!0}else V&&(V=V.slice());if(V&&V.length){if(G>3)for(N=new Array(G-1),H=1;H<G;H++)N[H-1]=arguments[H];for(F=0,_=V.length;F<_;F++)switch(this.event=b,G){case 1:V[F].call(this);break;case 2:V[F].call(this,arguments[1]);break;case 3:V[F].call(this,arguments[1],arguments[2]);break;default:V[F].apply(this,N)}return!0}else if(!this.ignoreErrors&&!this._all&&b==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},U.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var b=arguments[0],v=this.wildcard,T,N,_,F,H,z;if(b==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(v&&(T=b,b!=="newListener"&&b!=="removeListener"&&typeof b=="object")){if(F=b.length,a){for(H=0;H<F;H++)if(typeof b[H]=="symbol"){N=!0;break}}N||(b=b.join(this.delimiter))}var G=[],V=arguments.length,ue;if(this._all)for(H=0,F=this._all.length;H<F;H++)switch(this.event=b,V){case 1:G.push(this._all[H].call(this,b));break;case 2:G.push(this._all[H].call(this,b,arguments[1]));break;case 3:G.push(this._all[H].call(this,b,arguments[1],arguments[2]));break;default:G.push(this._all[H].apply(this,arguments))}if(v?(ue=[],K.call(this,ue,T,this.listenerTree,0)):ue=this._events[b],typeof ue=="function")switch(this.event=b,V){case 1:G.push(ue.call(this));break;case 2:G.push(ue.call(this,arguments[1]));break;case 3:G.push(ue.call(this,arguments[1],arguments[2]));break;default:for(_=new Array(V-1),z=1;z<V;z++)_[z-1]=arguments[z];G.push(ue.apply(this,_))}else if(ue&&ue.length){if(ue=ue.slice(),V>3)for(_=new Array(V-1),z=1;z<V;z++)_[z-1]=arguments[z];for(H=0,F=ue.length;H<F;H++)switch(this.event=b,V){case 1:G.push(ue[H].call(this));break;case 2:G.push(ue[H].call(this,arguments[1]));break;case 3:G.push(ue[H].call(this,arguments[1],arguments[2]));break;default:G.push(ue[H].apply(this,_))}}else if(!this.ignoreErrors&&!this._all&&b==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(G)},U.prototype.on=function(b,v,T){return this._on(b,v,!1,T)},U.prototype.prependListener=function(b,v,T){return this._on(b,v,!0,T)},U.prototype.onAny=function(b){return this._onAny(b,!1)},U.prototype.prependAny=function(b){return this._onAny(b,!0)},U.prototype.addListener=U.prototype.on,U.prototype._onAny=function(b,v){if(typeof b!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),v?this._all.unshift(b):this._all.push(b),this},U.prototype._on=function(b,v,T,N){if(typeof b=="function")return this._onAny(b,v),this;if(typeof v!="function")throw new Error("on only accepts instances of Function");this._events||d.call(this);var _=this,F;return N!==n&&(F=Qe.call(this,b,v,N),v=F[0],_=F[1]),this._newListener&&this.emit("newListener",b,v),this.wildcard?(j.call(this,b,v,T),_):(this._events[b]?(typeof this._events[b]=="function"&&(this._events[b]=[this._events[b]]),T?this._events[b].unshift(v):this._events[b].push(v),!this._events[b].warned&&this._maxListeners>0&&this._events[b].length>this._maxListeners&&(this._events[b].warned=!0,y.call(this,this._events[b].length,b))):this._events[b]=v,_)},U.prototype.off=function(b,v){if(typeof v!="function")throw new Error("removeListener only takes instances of Function");var T,N=[];if(this.wildcard){var _=typeof b=="string"?b.split(this.delimiter):b.slice();if(N=K.call(this,null,_,this.listenerTree,0),!N)return this}else{if(!this._events[b])return this;T=this._events[b],N.push({_listeners:T})}for(var F=0;F<N.length;F++){var H=N[F];if(T=H._listeners,s(T)){for(var z=-1,G=0,V=T.length;G<V;G++)if(T[G]===v||T[G].listener&&T[G].listener===v||T[G]._origin&&T[G]._origin===v){z=G;break}if(z<0)continue;return this.wildcard?H._listeners.splice(z,1):this._events[b].splice(z,1),T.length===0&&(this.wildcard?delete H._listeners:delete this._events[b]),this._removeListener&&this.emit("removeListener",b,v),this}else(T===v||T.listener&&T.listener===v||T._origin&&T._origin===v)&&(this.wildcard?delete H._listeners:delete this._events[b],this._removeListener&&this.emit("removeListener",b,v))}return this.listenerTree&&ye(this.listenerTree),this},U.prototype.offAny=function(b){var v=0,T=0,N;if(b&&this._all&&this._all.length>0){for(N=this._all,v=0,T=N.length;v<T;v++)if(b===N[v])return N.splice(v,1),this._removeListener&&this.emit("removeListenerAny",b),this}else{if(N=this._all,this._removeListener)for(v=0,T=N.length;v<T;v++)this.emit("removeListenerAny",N[v]);this._all=[]}return this},U.prototype.removeListener=U.prototype.off,U.prototype.removeAllListeners=function(b){if(b===n)return!this._events||d.call(this),this;if(this.wildcard){var v=K.call(this,null,b,this.listenerTree,0),T,N;if(!v)return this;for(N=0;N<v.length;N++)T=v[N],T._listeners=null;this.listenerTree&&ye(this.listenerTree)}else this._events&&(this._events[b]=null);return this},U.prototype.listeners=function(b){var v=this._events,T,N,_,F,H;if(b===n){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!v)return[];for(T=f(v),F=T.length,_=[];F-- >0;)N=v[T[F]],typeof N=="function"?_.push(N):_.push.apply(_,N);return _}else{if(this.wildcard){if(H=this.listenerTree,!H)return[];var z=[],G=typeof b=="string"?b.split(this.delimiter):b.slice();return K.call(this,z,G,H,0),z}return v?(N=v[b],N?typeof N=="function"?[N]:N:[]):[]}},U.prototype.eventNames=function(b){var v=this._events;return this.wildcard?te.call(this,this.listenerTree,[],null,b):v?f(v):[]},U.prototype.listenerCount=function(b){return this.listeners(b).length},U.prototype.hasListeners=function(b){if(this.wildcard){var v=[],T=typeof b=="string"?b.split(this.delimiter):b.slice();return K.call(this,v,T,this.listenerTree,0),v.length>0}var N=this._events,_=this._all;return!!(_&&_.length||N&&(b===n?f(N).length:N[b]))},U.prototype.listenersAny=function(){return this._all?this._all:[]},U.prototype.waitFor=function(b,v){var T=this,N=typeof v;return N==="number"?v={timeout:v}:N==="function"&&(v={filter:v}),v=x(v,{timeout:0,filter:n,handleError:!1,Promise,overload:!1},{filter:O,Promise:w}),M(v.Promise,function(_,F,H){function z(){var G=v.filter;if(!(G&&!G.apply(T,arguments)))if(T.off(b,z),v.handleError){var V=arguments[0];V?F(V):_(g.apply(null,arguments).slice(1))}else _(g.apply(null,arguments))}H(function(){T.off(b,z)}),T._on(b,z,!1)},{timeout:v.timeout,overload:v.overload})};function Q(b,v,T){T=x(T,{Promise,timeout:0,overload:!1},{Promise:w});var N=T.Promise;return M(N,function(_,F,H){var z;if(typeof b.addEventListener=="function"){z=function(){_(g.apply(null,arguments))},H(function(){b.removeEventListener(v,z)}),b.addEventListener(v,z,{once:!0});return}var G=function(){V&&b.removeListener("error",V),_(g.apply(null,arguments))},V;v!=="error"&&(V=function(ue){b.removeListener(v,G),F(ue)},b.once("error",V)),H(function(){V&&b.removeListener("error",V),b.removeListener(v,G)}),b.once(v,G)},{timeout:T.timeout,overload:T.overload})}var oe=U.prototype;Object.defineProperties(U,{defaultMaxListeners:{get:function(){return oe._maxListeners},set:function(b){if(typeof b!="number"||b<0||Number.isNaN(b))throw TypeError("n must be a non-negative number");oe._maxListeners=b},enumerable:!0},once:{value:Q,writable:!0,configurable:!0}}),Object.defineProperties(oe,{_maxListeners:{value:i,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),t.exports=U})()})(EC);var Xg=EC.exports;function DH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function n2(t,...e){if(!DH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function r6(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UH(t,e){n2(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cy(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function as(t,e){return t<<32-e|t>>>e}const FH=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $H(t){n2(t);let e="";for(let n=0;n<t.length;n++)e+=FH[t[n]];return e}function WH(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function vC(t){return typeof t=="string"&&(t=WH(t)),n2(t),t}class HH{clone(){return this._cloneInto()}}function jH(t){const e=r=>t().update(vC(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function GH(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function VH(t,e,n){return t&e^~t&n}function zH(t,e,n){return t&e^t&n^e&n}class KH extends HH{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=cy(this.buffer)}update(e){r6(this);const{view:n,buffer:r,blockLen:s}=this;e=vC(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=cy(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){r6(this),UH(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;GH(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=cy(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const qH=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mi=new Uint32Array(64);class QH extends KH{constructor(){super(64,32,8,!1),this.A=Bi[0]|0,this.B=Bi[1]|0,this.C=Bi[2]|0,this.D=Bi[3]|0,this.E=Bi[4]|0,this.F=Bi[5]|0,this.G=Bi[6]|0,this.H=Bi[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)Mi[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const d=Mi[f-15],p=Mi[f-2],y=as(d,7)^as(d,18)^d>>>3,g=as(p,17)^as(p,19)^p>>>10;Mi[f]=g+Mi[f-7]+y+Mi[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){const d=as(a,6)^as(a,11)^as(a,25),p=l+d+VH(a,c,u)+qH[f]+Mi[f]|0,g=(as(r,2)^as(r,13)^as(r,22))+zH(r,s,i)|0;l=u,u=c,c=a,a=o+p|0,o=i,i=s,s=r,r=p+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Mi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const JH=jH(()=>new QH);var YH=class{constructor(t,e){k(this,"hostname");k(this,"fetch");k(this,"path","/rpc/Databeat/");k(this,"ping",(t,e)=>this.fetch(this.url("Ping"),Xl({},t,e)).then(n=>Zl(n).then(r=>({status:r.status})),n=>{throw Ic.new({cause:`fetch(): ${n.message||""}`})}));k(this,"version",(t,e)=>this.fetch(this.url("Version"),Xl({},t,e)).then(n=>Zl(n).then(r=>({version:r.version})),n=>{throw Ic.new({cause:`fetch(): ${n.message||""}`})}));k(this,"runtimeStatus",(t,e)=>this.fetch(this.url("RuntimeStatus"),Xl({},t,e)).then(n=>Zl(n).then(r=>({status:r.status})),n=>{throw Ic.new({cause:`fetch(): ${n.message||""}`})}));k(this,"tick",(t,e,n)=>this.fetch(this.url("Tick"),Xl(t,e,n)).then(r=>Zl(r).then(s=>({ok:s.ok})),r=>{throw Ic.new({cause:`fetch(): ${r.message||""}`})}));k(this,"rawEvents",(t,e,n)=>this.fetch(this.url("RawEvents"),Xl(t,e,n)).then(r=>Zl(r).then(s=>({ok:s.ok})),r=>{throw Ic.new({cause:`fetch(): ${r.message||""}`})}));this.hostname=t,this.fetch=(n,r)=>e(n,r)}url(t){return this.hostname+this.path+t}},Xl=(t={},e={},n=null)=>({method:"POST",headers:{...e,"Content-Type":"application/json"},body:JSON.stringify(t||{}),signal:n}),Zl=t=>t.text().then(e=>{let n;try{n=JSON.parse(e)}catch(r){let s="";throw r instanceof Error&&(s=r.message),CC.new({status:t.status,cause:`JSON.parse(): ${s}: response text: ${e}`})}if(!t.ok){const r=typeof n.code=="number"?n.code:0;throw(pj[r]||Nt).new(n)}return n}),Nt=class AC extends Error{constructor(n,r,s,i,o){super(s);k(this,"name");k(this,"code");k(this,"message");k(this,"status");k(this,"cause");k(this,"msg");this.name=n||"WebrpcError",this.code=typeof r=="number"?r:0,this.message=s||`endpoint error ${this.code}`,this.msg=this.message,this.status=typeof i=="number"?i:0,this.cause=o,Object.setPrototypeOf(this,AC.prototype)}static new(n){return new this(n.error,n.code,n.message||n.msg,n.status,n.cause)}},XH=class SC extends Nt{constructor(e="WebrpcEndpoint",n=0,r="endpoint error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,SC.prototype)}},Ic=class kC extends Nt{constructor(e="WebrpcRequestFailed",n=-1,r="request failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,kC.prototype)}},ZH=class TC extends Nt{constructor(e="WebrpcBadRoute",n=-2,r="bad route",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,TC.prototype)}},ej=class IC extends Nt{constructor(e="WebrpcBadMethod",n=-3,r="bad method",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,IC.prototype)}},tj=class OC extends Nt{constructor(e="WebrpcBadRequest",n=-4,r="bad request",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,OC.prototype)}},CC=class NC extends Nt{constructor(e="WebrpcBadResponse",n=-5,r="bad response",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,NC.prototype)}},nj=class PC extends Nt{constructor(e="WebrpcServerPanic",n=-6,r="server panic",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,PC.prototype)}},rj=class RC extends Nt{constructor(e="WebrpcInternalError",n=-7,r="internal error",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,RC.prototype)}},sj=class _C extends Nt{constructor(e="WebrpcClientDisconnected",n=-8,r="client disconnected",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,_C.prototype)}},ij=class BC extends Nt{constructor(e="WebrpcStreamLost",n=-9,r="stream lost",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,BC.prototype)}},oj=class MC extends Nt{constructor(e="WebrpcStreamFinished",n=-10,r="stream finished",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,MC.prototype)}},aj=class LC extends Nt{constructor(e="Unauthorized",n=1e3,r="Unauthorized access",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,LC.prototype)}},cj=class DC extends Nt{constructor(e="PermissionDenied",n=2e3,r="Permission denied",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,DC.prototype)}},uj=class UC extends Nt{constructor(e="SessionExpired",n=2001,r="Session expired",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,UC.prototype)}},lj=class FC extends Nt{constructor(e="NotFound",n=3e3,r="Resource not found",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,FC.prototype)}},fj=class $C extends Nt{constructor(e="InvalidAppKey",n=4e3,r="Invalid app key",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,$C.prototype)}},dj=class WC extends Nt{constructor(e="QueryFailed",n=4001,r="DB query failed",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,WC.prototype)}},hj=class HC extends Nt{constructor(e="InvalidProjectId",n=4002,r="Invalid project id",s=0,i){super(e,n,r,s,i),Object.setPrototypeOf(this,HC.prototype)}},pj={0:XH,[-1]:Ic,[-2]:ZH,[-3]:ej,[-4]:tj,[-5]:CC,[-6]:nj,[-7]:rj,[-8]:sj,[-9]:ij,[-10]:oj,1e3:aj,2e3:cj,2001:uj,3e3:lj,4e3:fj,4001:dj,4002:hj},gj=class extends YH{constructor(e,n){const r=globalThis.fetch.bind(globalThis);super(e.endsWith("/")?e.slice(0,-1):e,r);k(this,"_globalFetch");k(this,"_fetch",(e,n)=>{var r;if(this.auth){let s={};((r=this.auth.jwt)==null?void 0:r.length)>0&&(s.Authorization=`BEARER ${this.auth.jwt}`),this.auth.headers&&(s={...s,...this.auth.headers}),n.headers={...n.headers,...s}}return this._globalFetch(e,n)});this.auth=n,this._globalFetch=r,this.fetch=this._fetch}},s6=150,Ko={defaultEnabled:!0,noop:!1,privacy:{userIdHash:!0,userAgentSalt:!1},userIdentTracking:!1,strictMode:!1,flushInterval:500,initProps:()=>({})},mj=class{constructor(t,e,n){k(this,"rpc");k(this,"auth");k(this,"options");k(this,"enabled");k(this,"ident");k(this,"userId");k(this,"sessionId");k(this,"allowUserTracking");k(this,"projectId");k(this,"queue");k(this,"flushTimeout");k(this,"defaultProps");k(this,"dedupeIdentKey");k(this,"dedupeViewKey");k(this,"ts");k(this,"flush",async()=>{if(this.flushTimeout!==null&&(clearTimeout(this.flushTimeout),this.flushTimeout=null),!this.enabled||this.options.noop||this.options.strictMode&&!this.allowUserTracking||this.queue.length===0)return;const t=this.dedupedQueue();this.queue=[];try{await this.rpc.tick({events:t})}catch(e){console.warn(`databeat flush failed: ${e}`)}});k(this,"dedupedQueue",()=>{const t=new Map;for(let e=0;e<this.queue.length;e++){const n=this.queue[e],r=`${n.event}:${n.source}:${n.userId}:${n.sessionId}:${JSON.stringify(n.props)}:${JSON.stringify(n.nums)}`;t.has(r)||t.set(r,n)}return Array.from(t.values())});typeof e=="string"?this.auth={jwt:e}:this.auth=e,this.rpc=new gj(t,this.auth),this.options=Ko,n&&(this.options={defaultEnabled:n.defaultEnabled||Ko.defaultEnabled,projectId:n.projectId||null,privacy:n.privacy||Ko.privacy,userIdentTracking:n.userIdentTracking||Ko.userIdentTracking,strictMode:n.strictMode||Ko.strictMode,flushInterval:n.flushInterval||Ko.flushInterval,noop:n.noop||!1,initProps:n.initProps||Ko.initProps}),this.init()}init(){this.enabled=i6(this.options.defaultEnabled,this.auth),this.projectId=this.options.projectId||null,this.userId=null,this.sessionId=xj(),this.queue=[],this.flushTimeout=null,this.defaultProps={...yj(),...this.options.initProps()},this.identify()}reset(t){this.enabled=i6(this.options.defaultEnabled,this.auth),this.userId&&!this.isAnon()&&(this.userId=null),this.ident=0,this.ts=wc({on:this.enabled,id:this.userId,it:this.ident,ut:this.allowUserTracking}),t!==!0&&this.init()}identify(t,e){if(!oi())return;if(e&&e.allowTracking!==void 0&&this.allowTracking(e.allowTracking),!t){const r=Ax();r!==null&&r.id!==null&&(this.userId=r.id,this.ident=r.it,this.allowUserTracking=r.ut,r.it===void 0?(this.userId.startsWith("anon:")?this.ident=0:this.ident=1,this.ts=wc({on:this.enabled,id:this.userId,it:this.ident,ut:this.allowUserTracking})):this.ident=r.it)}if(t||this.userId===null){const r=bj(t,this.allowUserTracking,this.options);this.userId=r.userId,this.ident=r.ident,this.ts=wc({on:this.enabled,id:this.userId,it:this.ident,ut:this.allowUserTracking})}const n=`${this.userId}:${this.sessionId}`;this.dedupeIdentKey!==n&&(this.dedupeIdentKey=n,this.track({event:"INIT",source:o6(),props:this.defaultProps}),this.flush())}allowTracking(t){this.allowUserTracking=t,wc({on:this.enabled,id:this.userId,it:this.ident,ut:this.allowUserTracking}),this.options.strictMode&&(t?this.enable():this.disable())}async track(t,e){if(oi()&&this.userId===null)throw new Error("databeat: init first");if(Array.isArray(t)){for(let n=0;n<t.length;n++)t[n].ident=this.ident,t[n].userId=this.userId,t[n].sessionId=this.sessionId,!t[n].projectId&&this.projectId&&(t[n].projectId=this.projectId);this.queue.push(...t)}else t.ident=this.ident,t.userId=this.userId,t.sessionId=this.sessionId,!t.projectId&&this.projectId&&(t.projectId=this.projectId),this.queue.push(t);this.queue.length>s6&&(this.queue=this.queue.splice(this.queue.length-s6)),this.enabled&&(e&&e.flush?await this.flush():this.flushTimeout===null&&(this.flushTimeout=setTimeout(()=>{this.flush()},this.options.flushInterval)))}trackView(t={}){const e={...this.defaultProps,...t},n=o6(),r=`${n}:${JSON.stringify(e)}:${this.userId}:${this.sessionId}`;this.dedupeViewKey!==r&&(this.dedupeViewKey=r,this.track({event:"VIEW",source:n,props:e}))}isEnabled(){return this.enabled}isAnon(){return this.ident===0}getIdent(){return this.ident}getUserId(){return this.userId}getSessionId(){return this.sessionId}getStorageTS(){if(this.ts)return this.ts;const t=Ax();if(!(t==null||t.id===null))return this.ts=t.ts,this.ts}enable(){if(!jC(this.auth)){this.enabled=!1;return}oi()&&(this.enabled=!0,this.ts=wc({on:this.enabled,id:this.userId,it:this.ident,ut:this.allowUserTracking}),this.identify())}disable(){oi()&&(this.enabled=!1,this.ts=wc({on:this.enabled,id:this.userId,it:this.ident,ut:this.allowUserTracking}))}},oi=()=>typeof window=="object"&&typeof window.localStorage=="object"&&typeof window.localStorage.getItem=="function"&&typeof window.localStorage.setItem=="function",i6=(t,e)=>{if(!jC(e))return!1;if(!oi())return!0;const n=Ax();return n===null?t??!0:n.on},jC=t=>{var e;return!!(((e=t==null?void 0:t.jwt)==null?void 0:e.length)>0||t!=null&&t.headers&&Object.keys(t.headers).length>0)},o6=()=>{try{return window.location.pathname}catch{return""}},yj=()=>{if(!oi())return{};const t=new URL(window.location.href).searchParams,e={};return e.origin=window.location.origin,t.get("ref")&&t.get("ref")!==""&&(e.ref=t.get("ref")||""),t.get("source")&&t.get("source")!==""&&(e.source=t.get("source")||""),t.get("utm_source")&&t.get("utm_source")!==""&&(e.utmSource=t.get("utm_source")||""),t.get("utm_campaign")&&t.get("utm_campaign")!==""&&(e.utmCampaign=t.get("utm_campaign")||""),t.get("utm_medium")&&t.get("utm_medium")!==""&&(e.utmMedium=t.get("utm_medium")||""),t.get("utm_content")&&t.get("utm_content")!==""&&(e.utmContent=t.get("utm_content")||""),t.get("utm_term")&&t.get("utm_term")!==""&&(e.utmTerm=t.get("utm_term")||""),document.referrer&&document.referrer!==""&&(e.referrer=document.referrer),t.get("gclid")&&t.get("gclid")!==""&&(e.gclid=t.get("gclid")||""),t.get("wbraid")&&t.get("wbraid")!==""&&(e.wbraid=t.get("wbraid")||""),e},Np="_dbeat",Ax=()=>{try{return JSON.parse(window.localStorage.getItem(Np))}catch{return null}},wc=t=>{try{return t.ts||(t.ts=Math.floor(Date.now()/1e3)),window.localStorage.setItem(Np,JSON.stringify(t)),t.ts}catch{return}},bj=(t,e,n)=>{if(!t||t===null||t==="")return{userId:`${Math.floor(Math.random()*1e14)}`,ident:0};if(n.userIdentTracking&&e)return{userId:t,ident:2};if(n.privacy.userIdHash===!0||!n.userIdentTracking||!e)return oi()&&n.privacy.userAgentSalt===!0&&(t=t+":"+navigator.userAgent),n.privacy.extraSalt&&n.privacy.extraSalt.length>0&&(t=t+":"+n.privacy.extraSalt),{userId:$H(JH(t)).substring(0,50),ident:1};throw new Error("invalid configuration")},xj=()=>{if(oi()&&typeof window.sessionStorage=="object"&&typeof window.sessionStorage.getItem=="function"&&typeof window.sessionStorage.setItem=="function"){const e=window.sessionStorage.getItem(Np);if(e&&e.length>0)return e;{const n=a6(16);return window.sessionStorage.setItem(Np,n),n}}else return a6(16)},a6=t=>{let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*16).toString(16);return"0x"+e};typeof process=="object"&&process.version&&process.version<"v18"&&(console.error(`ERROR! expecting node v18+ but your node version is reporting ${process.version}`),process&&process.exit&&process.exit(1));const wj=new Map(["addHook(bytes4,address)","clearExtraImageHashes(bytes32[])","removeHook(bytes4)","setExtraImageHash(bytes32,uint256)","updateIPFSRoot(bytes32)","updateImageHash(bytes32)","updateImageHashAndIPFS(bytes32,bytes32)","updateImplementation(address)"].map(t=>[dn(t).slice(0,10),t]));function Sx(t,e){const n=Y.transaction.fromTransactionish(t,e);Y.transaction.unwind(t,n).forEach(s=>Ej(t,s))}function Ej(t,e){if(e.to.toLowerCase()===t.toLowerCase()&&e.data){const n=$(e.data);if(n.length>=4&&!vj(n))throw new Error("self calls are forbidden")}if(e.delegateCall)throw new Error("delegate calls are forbidden");if(e.data){const r=L(e.data).slice(0,10),s=wj.get(r);if(s){const i=s.slice(0,s.indexOf("("));throw new Error(`${i} calls are forbidden`)}}}function vj(t){const e=new Et(Tt.mainModule.abi);try{return e.decodeFunctionData("createContract",t),!0}catch{return!1}}function Lt(){return Lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lt.apply(null,arguments)}function GC(t){return t&&typeof t=="object"&&typeof t.register=="function"&&typeof t.unregister=="function"&&typeof t.openWallet=="function"&&typeof t.closeWallet=="function"&&typeof t.isOpened=="function"&&typeof t.isConnected=="function"&&typeof t.on=="function"}class dh extends URLSearchParams{static new(e){return new URLSearchParams(e)}}let Te=function(t){return t.OPEN="open",t.CLOSE="close",t.MESSAGE="message",t.CONNECT="connect",t.DISCONNECT="disconnect",t.ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged",t.NETWORKS="networks",t.WALLET_CONTEXT="walletContext",t.INIT="init",t.DEBUG="_debug",t}({}),mr=function(t){return t[t.CLOSED=0]="CLOSED",t[t.OPENING=1]="OPENING",t[t.OPENED=2]="OPENED",t}({}),et=function(t){return t[t.NIL=0]="NIL",t[t.SENT_NONCE=1]="SENT_NONCE",t[t.OK=2]="OK",t}({});class VC extends Error{constructor(e){super(e),this.name="ProviderError"}}const zC=new VC("Wallet is not signed in. Connect a wallet and try again."),r2=3e4;let Aj=0;const KC=()=>++Aj;class hh{constructor(e){var n=this;this.pendingMessageRequests=[],this.responseCallbacks=new Map,this.state=void 0,this.confirmationOnly=!1,this.events=new Xg.EventEmitter2,this.openPayload=void 0,this.connectPayload=void 0,this.accountsChangedPayload=void 0,this.networksPayload=void 0,this.walletContextPayload=void 0,this._sessionId=void 0,this._init=void 0,this._registered=void 0,this.projectAccessKey=void 0,this.sendMessageRequest=async function(r){return new Promise((s,i)=>{(!r.idx||r.idx<=0)&&r.type!=="init"&&i(new Error("message idx not set"));const o=(c,u)=>{if(c)i(c);else if(u)s(u);else throw new Error("no valid response to return")},a=r.idx;n.responseCallbacks.get(a)?i(new Error("duplicate message idx, should never happen")):n.responseCallbacks.set(a,o),n.isOpened()?n.sendMessage(r):(fe.debug("pushing to pending requests",r),n.pendingMessageRequests.push(r))})},this.waitUntilOpened=async function(r=r2){let s=!1;return Promise.race([new Promise((i,o)=>{const a=setTimeout(()=>{clearTimeout(a),s||(n.state=mr.CLOSED,n.events.emit("close",{code:1005,message:"opening wallet timed out"})),o(new Error("opening wallet timed out"))},r)}),new Promise(i=>{if(n.isOpened()){var o;s=!0,i((o=n.openPayload)==null?void 0:o.session);return}n.events.once("open",a=>{n.openPayload=a,s=!0,i(a.session)})})])},this.waitUntilConnected=async function(){await n.waitUntilOpened();const r=new Promise(i=>{if(n.connectPayload){i(n.connectPayload);return}n.events.once("connect",o=>{n.connectPayload=o,i(o)})}),s=new Promise((i,o)=>{n.events.once("close",a=>{o(a?new Error(`wallet closed due to ${JSON.stringify(a)}`):new Error("user closed the wallet"))})});return Promise.race([r,s])},this.state=mr.CLOSED,this._registered=!1,this._init=et.NIL,this.projectAccessKey=e}get registered(){return this._registered}register(){throw new Error("abstract method")}unregister(){throw new Error("abstract method")}openWallet(e,n,r){throw new Error("abstract method")}closeWallet(){throw new Error("abstract method")}isOpened(){return this.registered&&this.state===mr.OPENED}isConnected(){var e;const n=(e=this.openPayload)==null?void 0:e.session;return this.registered&&n!==void 0&&!!n.accountAddress&&n.accountAddress.length===42&&!!n.networks&&n.networks.length>0}async request(e){return this.state===mr.CLOSED&&(this.confirmationOnly=!0),this.openWallet(void 0,{type:"jsonRpcRequest",method:e.method},e.chainId),this.isOpened()||await this.waitUntilOpened(),(await this.sendMessageRequest({idx:KC(),type:Te.MESSAGE,data:e,chainId:e.chainId,clientVersion:yn,projectAccessKey:this.projectAccessKey})).data}handleMessage(e){var n=this;if(e.type===Te.INIT){fe.debug("MessageProvider, received INIT message",e);const{nonce:c}=e.data;if(!c||c.length==0){fe.error("invalid init nonce");return}this._init=et.OK,this.sendMessage({idx:-1,type:Te.INIT,data:{sessionId:this._sessionId,nonce:c},clientVersion:yn})}if(this._init!==et.OK)return;fe.debug("RECEIVED MESSAGE FROM WALLET",e.idx,e);const r=e.idx,s=this.responseCallbacks.get(r);if(r&&this.responseCallbacks.delete(r),e.type===Te.OPEN&&!this.isOpened()){var i,o;if(this._sessionId&&this._sessionId!==((i=e.data)==null?void 0:i.sessionId)){fe.debug("open event received from wallet, but does not match sessionId",this._sessionId);return}if((o=e.data)!=null&&o.error){var a;const c=new Error(`opening wallet failed: received ${(a=e.data)==null?void 0:a.error}`);throw fe.error(c),this.close(),c}this.state=mr.OPENED,this.openPayload=e.data,this.events.emit("open",this.openPayload),this.pendingMessageRequests.length!==0&&this.pendingMessageRequests.splice(0,this.pendingMessageRequests.length).forEach(async function(u){n.sendMessage(u)});return}if(e.type===Te.MESSAGE){if(this.confirmationOnly&&setTimeout(()=>{this.responseCallbacks.size===0&&this.closeWallet()},500),!s)throw new Error("impossible state");if(s){this.events.emit("message",e),s(e.data.error,e);return}}if(e.type===Te.ACCOUNTS_CHANGED){this.accountsChangedPayload={accounts:[]},e.data&&e.data.length>0?(this.accountsChangedPayload={accounts:[le(e.data[0])],origin:e.origin},this.events.emit("accountsChanged",this.accountsChangedPayload.accounts,this.accountsChangedPayload.origin)):this.events.emit("accountsChanged",[],e.origin);return}if(e.type===Te.CHAIN_CHANGED){this.events.emit("chainChanged",e.data,e.origin);return}if(e.type===Te.NETWORKS){this.networksPayload=e.data,this.events.emit("networks",this.networksPayload);return}if(e.type===Te.WALLET_CONTEXT){this.walletContextPayload=e.data,this.events.emit("walletContext",this.walletContextPayload);return}e.type===Te.CLOSE&&this.state!==mr.CLOSED&&this.close(e.data),e.type===Te.CONNECT&&(this.connectPayload=e.data,this.events.emit("connect",this.connectPayload)),e.type===Te.DISCONNECT&&this.isConnected()&&(this.events.emit("disconnect",e.data,e.origin),this.close())}sendMessage(e){throw new Error("abstract method")}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}emit(e,...n){return this.events.emit(e,...n)}close(e){this.state!==mr.CLOSED&&(this.state=mr.CLOSED,this.confirmationOnly=!1,this._sessionId=void 0,fe.info("closing wallet and flushing!"),this.pendingMessageRequests.length=0,this.responseCallbacks.forEach(n=>{n(Lt({},new Error("wallet closed"),{code:4001}))}),this.responseCallbacks.clear(),this.connectPayload=void 0,this.openPayload=void 0,this.accountsChangedPayload=void 0,this.networksPayload=void 0,this.walletContextPayload=void 0,this.events.emit("close",e))}}function Sj(t){return kj.some(e=>e.predicate(t))}const kj=[{name:"Decentraland Exception",predicate:Ij},{name:"0x v3 Exception",predicate:Oj}],Tj=/^Decentraland Login\nEphemeral address: 0x[a-fA-F0-9]{40}\nExpiration: (\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)((-(\d{2}):(\d{2})|Z)?)$/;function Ij(t){try{const e=Xr(t);return Tj.test(e)}catch{return!1}}function Oj(t){const e=new Et(Cj);try{return e.decodeFunctionData("OrderWithHash",t),!0}catch{return!1}}const Cj=[{inputs:[{components:[{internalType:"address",name:"makerAddress",type:"address"},{internalType:"address",name:"takerAddress",type:"address"},{internalType:"address",name:"feeRecipientAddress",type:"address"},{internalType:"address",name:"senderAddress",type:"address"},{internalType:"uint256",name:"makerAssetAmount",type:"uint256"},{internalType:"uint256",name:"takerAssetAmount",type:"uint256"},{internalType:"uint256",name:"makerFee",type:"uint256"},{internalType:"uint256",name:"takerFee",type:"uint256"},{internalType:"uint256",name:"expirationTimeSeconds",type:"uint256"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes",name:"makerAssetData",type:"bytes"},{internalType:"bytes",name:"takerAssetData",type:"bytes"},{internalType:"bytes",name:"makerFeeAssetData",type:"bytes"},{internalType:"bytes",name:"takerFeeAssetData",type:"bytes"}],internalType:"struct IEIP1271Data.Order",name:"order",type:"tuple"},{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderWithHash",outputs:[],stateMutability:"pure",type:"function"}],L0=ht(`Ethereum Signed Message:
`),s2=t=>Cs(t)?$(t):ht(t),Zg=t=>{const e=s2(t);return Sj(e)?e:$(Ae([L0,ht(String(e.length)),e]))},Nj=t=>{if(JSON.stringify(t.slice(0,L0.length))!==JSON.stringify(L0))return t;const e=t.slice(L0.length),n=String(e.length).length;let r,s;try{s=Number(Xr(e.slice(0,n)))}catch{s=Number(L(e.slice(0,n)))}return s>e.length||!Number.isInteger(s)?r=n-1:r=n,e.slice(r)},Sl=async(t,e,n,r)=>new Y.reader.OnChainReader(r).isValidSignature(t,e,n),qC=async(t,e,n,r)=>{const s=Zg(e),i=b1(s);return Sl(t,i,n,r)},QC=(t,e,n,r)=>Sl(t,_l(e),n,r),Pp=()=>window.location.protocol==="chrome-extension:"||window.location.protocol==="moz-extension:",JC=()=>!!navigator.userAgent.match(/UnitySequence/i),YC=t=>t.onChain.deployed&&t.fullyMigrated;class XC{constructor(){this.callbacks=[],this.store={}}getItem(e){return this.store[e]||null}setItem(e,n){this.store[e]=n,this.callbacks.filter(r=>r.key===e).forEach(r=>r.cb(n))}removeItem(e){delete this.store[e]}onItemChange(e,n){return this.callbacks.push({key:e,cb:n}),()=>{this.callbacks=this.callbacks.filter(r=>r.cb!==n)}}}class kd{static isAvailable(){return typeof window=="object"&&typeof window.localStorage=="object"}constructor(){if(this.callbacks=[],!kd.isAvailable())throw new Error("LocalStorage is not available");window.addEventListener("storage",e=>{const{key:n}=e;this.callbacks.filter(s=>s.key===n).forEach(s=>s.cb(this.getItem(n)))})}getItem(e){return window.localStorage.getItem(e)}setItem(e,n){window.localStorage.setItem(e,n),this.callbacks.filter(r=>r.key===e).forEach(r=>r.cb(n))}removeItem(e){window.localStorage.removeItem(e),this.callbacks.filter(n=>n.key===e).forEach(n=>n.cb(null))}onItemChange(e,n){return this.callbacks.push({key:e,cb:n}),()=>{this.callbacks=this.callbacks.filter(r=>r.cb!==n)}}}function Rp(){return kd.isAvailable()?new kd:new XC}async function ZC(t){return Array.isArray(t)?Promise.all(t.map(e=>ft(e))):ft(t)}const c6="@sequence.transportSession";class ph{constructor(e){var n=this;this.walletRequestHandler=void 0,this._sessionId=void 0,this._registered=void 0,this._init=void 0,this._initNonce=void 0,this._initCallback=void 0,this.appOrigin=void 0,this.handleMessage=async function(r){const s=r;if(n._init!==et.OK){if(s.type===Te.INIT)if(n.isValidInitAck(r))n._initCallback&&n._initCallback();else{n._initCallback&&n._initCallback("invalid init");return}return}switch(s.type){case Te.OPEN:{if(n._init!==et.OK)return;const i={sessionId:s.data.sessionId,intent:s.data.intent,networkId:s.data.networkId};await n.open(i);return}case Te.CLOSE:return n._init!==et.OK,void 0;case Te.MESSAGE:{const i=await n.walletRequestHandler.sendMessageRequest(s);n.sendMessage(i),i.data.error;return}default:fe.error(`unexpected payload type ${s.type}`)}},this.sendMessageRequest=async function(r){return n.walletRequestHandler.sendMessageRequest(r)},this.open=async function({sessionId:r,intent:s,networkId:i}){r&&(n._sessionId=GS(r),n.saveTransportSession({sessionId:r,intent:s,networkId:i})),n.walletRequestHandler.setOpenIntent(s),await n.init();let o;try{if(i){const a=x1(i);if(a)o=a.chainId;else throw new Error(`unknown network ${i}`)}else o=n.walletRequestHandler.defaultChainId()}catch(a){console.error(a)}if(s&&s.type==="connect"&&s.options){const a=s.options,c=a;if(n.appOrigin&&c!=null&&c.origin){if(!Pp()&&c.origin!==n.appOrigin)throw new Error("origin is invalid")}else!n.appOrigin&&c!=null&&c.origin?a.origin=zS(c.origin):n.appOrigin&&(a.origin=n.appOrigin);a.app&&(a.app=VS(a.app)),a.networkId?i=a.networkId:i&&(a.networkId=i),n.walletRequestHandler.setConnectOptions(a)}else n.walletRequestHandler.setConnectOptions(void 0);if(await n.walletRequestHandler.getAccount(),await n.walletRequestHandler.isSignedIn())if(s&&s.type==="connect"){(!o||o<=0)&&console.log("Failed to set default network on open"),n.notifyOpen({sessionId:n._sessionId});try{const a=await n.walletRequestHandler.promptConnect(s.options);a.connected&&n.walletRequestHandler.notifyConnect(a)}catch(a){fe.warn("promptConnect not connected:",a)}finally{(!s.options||s.options.keepWalletOpened!==!0)&&n.notifyClose()}}else{if(!o||o<=0)return n.notifyOpen({sessionId:n._sessionId,error:`failed to open wallet on network ${i}`}),!1;n.notifyOpen({sessionId:n._sessionId,chainId:`${o}`,session:await n.walletRequestHandler.walletSession(o)})}else return n.notifyOpen({sessionId:n._sessionId}),!0;return!0},this.saveTransportSession=r=>{Rp().setItem(c6,JSON.stringify(r))},this.getCachedTransportSession=async function(){const r=Rp().getItem(c6);try{return r?JSON.parse(r):null}catch{return console.error(`unable to parse transport session: ${r}`),null}},this.walletRequestHandler=e,this._init=et.NIL,this.walletRequestHandler.on("connect",r=>{this.registered&&this.notifyConnect(r)}),this.walletRequestHandler.on("disconnect",(r,s)=>{this.registered&&this.notifyDisconnect(r,s)}),this.walletRequestHandler.on("accountsChanged",(r,s)=>{this.registered&&this.notifyAccountsChanged(r,s)}),this.walletRequestHandler.on("networks",r=>{this.registered&&(this.notifyNetworks(r),!r||r.length===0?this.notifyChainChanged("0x0"):this.notifyChainChanged(Qt(r.find(s=>s.isDefaultChain).chainId)))}),this.walletRequestHandler.on("chainChanged",(r,s)=>{this.notifyChainChanged(r,s)}),this.walletRequestHandler.on("walletContext",r=>{!this.registered||!r||this.notifyWalletContext(r)}),this.walletRequestHandler.on("close",r=>{this.registered&&this.notifyClose(r)})}get registered(){return this._registered}register(){throw new Error("abstract method")}unregister(){throw new Error("abstract method")}request(e){throw new Error("abstract method")}sendMessage(e){throw new Error("abstract method")}notifyOpen(e){const{chainId:n,sessionId:r,session:s,error:i}=e;this.sendMessage({idx:-1,type:Te.OPEN,data:{chainId:n,sessionId:r,session:s,error:i},clientVersion:yn})}notifyClose(e){this.sendMessage({idx:-1,type:Te.CLOSE,data:e?{error:e}:null,clientVersion:yn})}notifyConnect(e){this.sendMessage({idx:-1,type:Te.CONNECT,data:e,clientVersion:yn})}notifyDisconnect(e,n){this.sendMessage({idx:-1,type:Te.DISCONNECT,data:e?{error:e}:null,origin:n,clientVersion:yn})}notifyAccountsChanged(e,n){this.sendMessage({idx:-1,type:Te.ACCOUNTS_CHANGED,data:e,origin:n,clientVersion:yn})}notifyChainChanged(e,n){this.sendMessage({idx:-1,type:Te.CHAIN_CHANGED,data:e,origin:n,clientVersion:yn})}notifyNetworks(e){this.sendMessage({idx:-1,type:Te.NETWORKS,data:e,clientVersion:yn})}notifyWalletContext(e){this.sendMessage({idx:-1,type:Te.WALLET_CONTEXT,data:e,clientVersion:yn})}isValidInitAck(e){if(this._init===et.OK)return fe.warn("isValidInitAck, already in init'd state, so inquiry is invalid."),!1;if(e.type!==Te.INIT)return fe.warn("isValidInitAck, invalid message type, expecting init"),!1;const{sessionId:n,nonce:r}=e.data;return!n||n.length===0||!r||r.length===0?(fe.error("invalid init ack"),!1):n!==this._sessionId||r!==this._initNonce?(fe.error("invalid init ack match"),!1):!0}init(){return new Promise((e,n)=>{if(this._init===et.OK){e();return}if(this._init!==et.NIL||this._initCallback){n("transport init is in progress");return}const r=setTimeout(()=>{fe.warn("transport init timed out"),this._initCallback&&this._initCallback("transport init timed out")},r2/2);this._initCallback=s=>{this._initCallback=void 0,clearTimeout(r),s?n(s):(this._init=et.OK,e())},this._initNonce=`${performance.now()}`,this.sendMessage({idx:-1,type:Te.INIT,data:{nonce:this._initNonce},clientVersion:yn}),this._init=et.SENT_NONCE})}}class Pj{constructor(){this.app=void 0,this.wallet=void 0;const e=new kx,n=new kx;e.conn=n,n.conn=e,this.app=e,this.wallet=n}}class kx{constructor(){this.conn=void 0,this.events=new Xg.EventEmitter2,this.handleMessage=e=>{throw new Error("ProxyMessageChannelPort is not registered")},this.sendMessage=e=>{this.conn.handleMessage(e),e.type==="open"&&this.events.emit("open",e),e.type==="close"&&this.events.emit("close",e),e.type==="connect"&&this.events.emit("connect",e),e.type==="disconnect"&&this.events.emit("disconnect",e)}}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}}class eN extends hh{constructor(e){if(super(),this.port=void 0,this.register=()=>{this.port.handleMessage=n=>{this.handleMessage(n)},this.on("open",(...n)=>{this.port.events.emit("open",...n)}),this.on("close",(...n)=>{this.port.events.emit("close",...n)}),this.on("connect",(...n)=>{this.port.events.emit("connect",...n)}),this.on("disconnect",(...n)=>{this.port.events.emit("disconnect",...n)}),this._registered=!0},this.unregister=()=>{this._registered=!1,this.closeWallet(),this.events.removeAllListeners(),this.port.handleMessage=void 0},this.openWallet=(n,r,s)=>{if(this.state===mr.CLOSED){this.state=mr.OPENING;const i=`${performance.now()}`;this._sessionId=i,this.sendMessage({idx:-1,type:Te.OPEN,data:{path:n,intent:r,networkId:s,sessionId:i},clientVersion:yn})}},this.state=mr.CLOSED,this.port=e,!e)throw new Error("port argument cannot be empty");this._init=et.OK}closeWallet(){this.sendMessage({idx:-1,type:Te.CLOSE,data:null,clientVersion:yn}),this.close()}sendMessage(e){if(!e.idx)throw new Error("message idx is empty");this.port.sendMessage(e)}}class Rj extends ph{constructor(e,n){super(e),this.port=void 0,this.port=n,this._init=et.OK}register(){this.port.handleMessage=e=>{this.handleMessage(e)},this._registered=!0}async restoreSession(){const e=await this.getCachedTransportSession();e&&this.open(e)}unregister(){this.port.handleMessage=void 0,this._registered=!1}sendMessage(e){this.port.sendMessage(e)}}function tN(t){var e;if((e=window.ue)!=null&&e.sequencewallettransport&&!window.logsOverriddenForUnreal){var n;const r=(n=window.ue)==null?void 0:n.sequencewallettransport;console.log=(...s)=>{r.logfromjs(`${t}: ${uy(s)}`)},console.warn=(...s)=>{r.warnfromjs(`${t}: ${uy(s)}`)},console.error=(...s)=>{r.errorfromjs(`${t}: ${uy(s)}`)},window.logsOverriddenForUnreal=!0}}function uy(t){return t.map(e=>typeof e=="object"?e instanceof Error?e.message:JSON.stringify(e):String(e)).join(" ")}let Ec;class nN extends hh{constructor(e){super(),this.walletURL=void 0,this.register=()=>{var n;tN("dapp"),Ec&&(Ec.unregister(),Ec=this),(n=window.ue)!=null&&n.sequencewallettransport&&(window.ue.sequencewallettransport.onmessagefromwallet=this.onUnrealCallback),Ec=this,this._registered=!0,console.log("registering transport!")},this.unregister=()=>{var n;this._registered=!1,this.closeWallet(),Ec===this&&(Ec=void 0),((n=window.ue)==null||(n=n.sequencewallettransport)==null?void 0:n.onmessagefromwallet)===this.onUnrealCallback&&delete window.ue.sequencewallettransport.onmessagefromwallet,this.events.removeAllListeners()},this.openWallet=(n,r,s)=>{if(this.isOpened()){console.log("wallet already open!");return}console.log("opening wallet!");const i=new URL(this.walletURL.href),o=new dh;n&&(i.pathname=n.toLowerCase()),this._init=et.NIL,this._sessionId=`${performance.now()}`,o.set("sid",this._sessionId),r&&o.set("intent",m1(r)),s&&o.set("net",`${s}`),i.search=o.toString(),console.log("opening wallet to",i.href),window.open(i.href)},this.onUnrealCallback=n=>{if(!n)throw new Error("ProviderMessage object is empty");this.handleMessage(n)},this.walletURL=new URL(e)}closeWallet(){this.close()}sendMessage(e){var n;const r=typeof e!="string"?JSON.stringify(e,Kr):e;console.log("Sending message to wallet:",r),(n=window.ue)==null||(n=n.sequencewallettransport)==null||n.sendmessagetowallet(r)}}class _j extends ph{constructor(e){super(e),this.onMessageFromUnreal=n=>{fe.debug("RECEIVED MESSAGE",n),this.handleMessage(n)},this.getUnrealTransportSession=n=>{const r=new dh(n);return{sessionId:r.get("sid"),networkId:r.get("net"),intent:y1(r.get("intent"))}},this._init=et.NIL}async register(e){var n;if(((n=window.ue)==null?void 0:n.sequencewallettransport)===void 0)return;tN("wallet");const{search:r}=new URL(e||window.location.href);let s=this.getUnrealTransportSession(r);if(!!s.sessionId||(s=await this.getCachedTransportSession()),!s){fe.error("unreal session is undefined");return}window.ue.sequencewallettransport.onmessagefromsequencejs=this.onMessageFromUnreal,this._registered=!0,this.open(s).then(o=>{if(!o){var a;const c=`failed to open to network ${(a=s)==null?void 0:a.networkId}`;fe.error(c),this.notifyClose({message:c}),window.close()}}).catch(o=>{var a;const c=`failed to open to network ${(a=s)==null?void 0:a.networkId}, due to: ${o}`;fe.error(c),this.notifyClose({message:c}),window.close()})}unregister(){var e;((e=window.ue)==null||(e=e.sequencewallettransport)==null?void 0:e.onmessagefromsequencejs)===this.onMessageFromUnreal&&delete window.ue.sequencewallettransport.onmessagefromsequencejs,this._registered=!1}sendMessage(e){var n;if(e.type!==Te.INIT&&this._init!==et.OK){fe.error("impossible state, should not be calling postMessage until inited");return}const r=JSON.stringify(e,Kr);(n=window.ue)==null||(n=n.sequencewallettransport)==null||n.sendmessagetosequencejs(r)}}const i2="sequence-extension-message-handler";class Bj extends ph{constructor(e,n){super(e),this.runtime=n,this.port=void 0,this._init=et.OK}register(){this._registered=!0,this.port=this.runtime.connect({name:i2})}sendMessage(e){fe.info("[ExtensionMessageHandler send]",e),this.port.postMessage(e)}}class rN extends hh{constructor(e){super(),this.register=()=>{this._registered=!0},e.onConnect.addListener(n=>{n.name===i2&&(this._init=et.OK,n.onMessage.addListener(r=>{this.handleMessage(r)}))})}sendMessage(e){}unregister(){}openWallet(e,n,r){}closeWallet(){}}class Mj extends Xg.EventEmitter2{constructor(e){var n;super(),n=this,this.stream=e,this.responseCallbacks=new Map,this._messageIdx=0,this.nextMessageIdx=()=>++this._messageIdx,this.handleMessage=r=>{if(!r.type||!r.data)return;fe.info("[received message]",r);const s=r.idx,i=this.responseCallbacks.get(s);switch(s&&this.responseCallbacks.delete(s),r.type){case Te.MESSAGE:if(i)this.emit(Te.MESSAGE,r),i(r.data.error,r);else throw new Error("impossible state");break;case Te.DISCONNECT:case Te.ACCOUNTS_CHANGED:case Te.CHAIN_CHANGED:this.emit(r.type,r.data);break;default:console.error("unknown message type",r);break}},this.sendMessageRequest=async function(r){return new Promise((s,i)=>{(!r.idx||r.idx<=0)&&i(new Error("message idx not set"));const o=(c,u)=>{if(c)i(c);else if(u)s(u);else throw new Error("no valid response to return")},{idx:a}=r;n.responseCallbacks.get(a)?i(new Error("duplicate message idx, should never happen")):n.responseCallbacks.set(a,o),n.sendMessage(r)})},this.stream.on("data",this.handleMessage)}sendMessage(e){this.stream.writable||console.error("window post message stream is not writable"),this.stream.write(e)}}let vc;class sN extends hh{constructor(e,n){super(n),this.walletURL=void 0,this.walletWindow=void 0,this.register=()=>{vc&&(vc.unregister(),vc=this),window.addEventListener("message",this.onWindowEvent),vc=this,this.on("open",()=>{const r=this.walletWindow,s=setInterval(()=>{r&&r.closed&&(clearInterval(s),this.close())},500)}),this.on("close",()=>{this.walletWindow&&(this.walletWindow.close(),this.walletWindow=null)}),this._registered=!0},this.unregister=()=>{this._registered=!1,this.closeWallet(),vc===this&&(vc=void 0),window.removeEventListener("message",this.onWindowEvent),this.events.removeAllListeners()},this.openWallet=(r,s,i)=>{if(this.walletWindow&&this.isOpened()){this.walletWindow.focus();return}const o=new URL(this.walletURL.href),a=new dh;r&&r!==""&&(o.pathname=r.toLowerCase()),this._init=et.NIL,this._sessionId=`${performance.now()}`,a.set("sid",this._sessionId),s&&(s.type==="connect"&&(s.options||(s.options={app:window.location.origin}),!Pp()&&!JC()&&s.options&&(s.options.origin=window.location.origin)),a.set("intent",m1(s))),i&&a.set("net",`${i}`);let c,u;Pp()?(c=[450,750],u=[Math.abs(window.screen.width/2-c[0]/2),Math.abs(window.screen.height/2-c[1]/2)]):(c=[450,750],u=[Math.abs(window.screenX+window.innerWidth/2-c[0]/2),Math.abs(window.screenY+window.innerHeight/2-c[1]/2)]);const l=`toolbar=0,location=0,menubar=0,scrollbars=yes,status=yes,width=${c[0]},height=${c[1]},left=${u[0]},top=${u[1]}`;o.search=a.toString(),this.walletWindow=window.open(o.href,"sequence.app",l)},this.onWindowEvent=r=>{if(r.origin!==this.walletURL.origin)return;let s;try{s=JSON.parse(r.data,bg)}catch{return}if(!s)throw new Error("ProviderMessage object is empty");this.handleMessage(s)},this.walletURL=new URL(e)}closeWallet(){var e;this.close(),(e=this.walletWindow)==null||e.close()}sendMessage(e){if(!this.walletWindow){fe.warn("WindowMessageProvider: sendMessage failed as walletWindow is unavailable");return}const n=typeof e!="string"?JSON.stringify(e,Kr):e;this.walletWindow.postMessage(n,this.walletURL.origin)}}class Lj extends ph{constructor(e){var n;super(e),n=this,this.parentWindow=void 0,this._isPopup=!1,this.onWindowEvent=async function(r){var s,i;if(!r.origin||r.origin===""||n.appOrigin&&r.origin!==n.appOrigin)return;let o;try{o=JSON.parse(r.data,bg)}catch{return}if((i=(s=o).origin)!=null||(s.origin=r.origin),fe.debug("RECEIVED MESSAGE",o),n._init!==et.OK&&n.isValidInitAck(o)&&(n.appOrigin=r.origin),n._init===et.OK&&(!n.appOrigin||n.appOrigin.length<8)){fe.error("impossible state, init.OK and appOrigin required");return}n.handleMessage(o)},this.getWindowTransportSession=r=>{const s=new dh(r);return{sessionId:s.get("sid"),networkId:s.get("net"),intent:y1(s.get("intent"))}},this._init=et.NIL}async register(e){const n=parent.window.opener!==null;if(this._isPopup=n,n!==!0)return;const{search:r}=new URL(e||window.location.href);let s=this.getWindowTransportSession(r);if(!!s.sessionId||(s=await this.getCachedTransportSession()),!s){fe.error("window session is undefined");return}this.parentWindow=parent.window.opener,window.addEventListener("message",this.onWindowEvent,!1),this._registered=!0,this.open(s).then(o=>{if(!o){var a;const c=`failed to open to network ${(a=s)==null?void 0:a.networkId}`;fe.error(c),this.notifyClose({message:c}),window.close()}}).catch(o=>{var a;const c=`failed to open to network ${(a=s)==null?void 0:a.networkId}, due to: ${o}`;fe.error(c),this.notifyClose({message:c}),window.close()})}unregister(){window.removeEventListener("message",this.onWindowEvent),this._registered=!1}sendMessage(e){const n=JSON.stringify(e,Kr);e.type===Te.INIT?this.postMessage(n,!0):this.postMessage(n)}get isPopup(){return this._isPopup}postMessage(e,n=!1){if(n!==!0&&this._init!==et.OK){fe.error("impossible state, should not be calling postMessage until inited");return}n?this.parentWindow.postMessage(e,"*"):this.appOrigin&&this.appOrigin.length>4?this.parentWindow.postMessage(e,this.appOrigin):fe.error("unable to postMessage as parentOrigin is invalid")}}function iN(t){return t&&typeof t=="object"&&(t.windowTransport&&typeof t.windowTransport=="object"||t.proxyTransport&&typeof t.proxyTransport=="object"||t.extensionTransport&&typeof t.extensionTransport=="object"||t.unrealTransport&&typeof t.unrealTransport=="object")&&(t.windowTransport&&t.windowTransport.enabled||t.proxyTransport&&t.proxyTransport.enabled||t.extensionTransport&&t.extensionTransport.enabled||t.unrealTransport&&t.unrealTransport.enabled)}class em{constructor(e=[]){var n=this;this.messageProviders=void 0,this.provider=void 0,this.register=()=>{if(this.messageProviders.length===1){this.provider=this.messageProviders[0],this.provider.register();return}this.messageProviders.forEach(r=>{r.register(),r.once("open",()=>{this.provider||(this.provider=r,this.messageProviders.forEach(s=>{this.provider!==s&&s.unregister()}))})})},this.unregister=()=>{this.messageProviders.forEach(r=>r.unregister()),this.provider=void 0},this.openWallet=(r,s,i)=>{if(this.provider){this.provider.openWallet(r,s,i);return}this.messageProviders.forEach(o=>o.openWallet(r,s,i))},this.sendMessageRequest=async function(r){if(n.provider)return n.provider.sendMessageRequest(r);throw new Error("impossible state, wallet must be opened first")},this.waitUntilOpened=async function(){return n.provider?n.provider.waitUntilOpened():Promise.race(n.messageProviders.map(r=>r.waitUntilOpened()))},this.waitUntilConnected=async function(){if(n.provider)return n.provider.waitUntilConnected();throw new Error("impossible state, wallet must be opened first")},this.messageProviders=e,this.provider=void 0}static new(e,n){var r,s,i,o;const a=new em;if((r=e.windowTransport)!=null&&r.enabled&&typeof window=="object"&&e.walletAppURL){const c=new sN(e.walletAppURL,n);a.add(c)}if((s=e.proxyTransport)!=null&&s.enabled){const c=new eN(e.proxyTransport.appPort);a.add(c)}if((i=e.extensionTransport)!=null&&i.enabled){const c=new rN(e.extensionTransport.runtime);a.add(c)}if((o=e.unrealTransport)!=null&&o.enabled&&e.windowTransport&&e.walletAppURL){const c=new nN(e.walletAppURL);a.add(c)}return a.register(),a}add(...e){this.messageProviders.push(...e)}closeWallet(){this.provider&&this.provider.closeWallet()}isOpened(){return this.provider?this.provider.isOpened():!1}isConnected(){return this.provider?this.provider.isConnected():!1}on(e,n){if(this.provider){this.provider.on(e,n);return}this.messageProviders.forEach(r=>{r.on(e,n)})}once(e,n){if(this.provider){this.provider.once(e,n);return}this.messageProviders.forEach(r=>{r.once(e,n)})}emit(e,...n){if(this.provider)return this.provider.emit(e,...n);for(let r=0;r<this.messageProviders.length;r++)this.messageProviders[r].emit(e,...n);return!0}request(e){if(!this.provider)throw new Error("impossible state, wallet must be opened first");return this.provider.request(e)}sendMessage(e){if(!e.idx||e.idx<=0)throw new Error("message idx is empty");if(this.provider)this.provider.sendMessage(e);else throw new Error("impossible state, wallet must be opened first")}handleMessage(e){if(this.provider){this.provider.handleMessage(e);return}throw new Error("impossible state, wallet must be opened first")}}function Dj(t){if(t.length===0)throw new Error("No transaction provided");const[e,...n]=t;return Lt({},e,{auxiliary:n})}function Uj(t){return[t,...t.auxiliary||[]]}const Fj=1e4;class $j{constructor(e,n,r){var s=this;this.account=void 0,this.signerReadyCallbacks=[],this.prompter=void 0,this.networks=void 0,this._openIntent=void 0,this._connectOptions=void 0,this.events=new Xg.EventEmitter2,this.onConnectOptionsChange=void 0,this.promptConnect=async function(i){if(!i&&!s._connectOptions)throw new Error("prompter connect options are empty");if(!s.prompter)return s.connect(i);const o=await s.prompter.promptConnect(i||s._connectOptions).catch(c=>({connected:!1})),a=o;return a.connected&&!a.session&&(a.session=await s.walletSession(i==null?void 0:i.networkId)),o},this.isSignedIn=async function(){return await s.signerReady(),!!s.account},this.getAccount=async function(){if(await s.signerReady(),s.account===void 0)throw new Error("signerReady failed resolve");return s.account},this.account=e,this.prompter=n,this.networks=r}defaultChainId(){var e,n;return(e=(n=this.prompter)==null?void 0:n.getDefaultChainId())!=null?e:this.networks[0].chainId}async signIn(e,n={}){this.setAccount(e);const{connect:r,defaultNetworkId:s}=n;if(r){const a=this._connectOptions;let c;if(this.prompter!==null){var i;c=await((i=this.prompter)==null?void 0:i.promptSignInConnect(a))}else c=await this.connect(a);this.notifyConnect(c),(!a||a.keepWalletOpened!==!0)&&this.notifyClose()}if(s&&this.defaultChainId()!==s){var o;await((o=this.prompter)==null?void 0:o.promptChangeNetwork(s))}}signOut(){this.account&&this.notifyDisconnect(),this.setAccount(null)}signerReset(){this.account=void 0}signerReady(e=Fj){return new Promise((n,r)=>{this.account!==void 0?n():(setTimeout(()=>{this.account===void 0&&(this.signerReadyCallbacks=[],r("signerReady timed out"))},e),this.signerReadyCallbacks.push(n))})}async connect(e){var n,r;if(!this.account)return{connected:!1,chainId:"0x0",error:"unable to connect without signed in account"};const s=(n=(r=e==null?void 0:e.networkId)!=null?r:this.defaultChainId())!=null?n:I.MAINNET,i=x1(s).chainId,o={connected:!0,chainId:Qt(i)};if(e&&e.authorize){const a={app:e.app,origin:e.origin,expiry:e.expiry,nonce:e.authorizeNonce};try{o.proof=await KO(this.account,i,a)}catch(c){return fe.warn(`connect, signAuthorization failed for options: ${JSON.stringify(e)}, due to: ${c.message}`),{connected:!1,chainId:"0x0",error:`signAuthorization failed: ${c.message}`}}}return o.session=this.walletSession(i),o}async sendMessageRequest(e){var n;const s=Number(((n=e.clientVersion)==null?void 0:n.split(".")[0])||"0")<2,i={id:e.data.id,jsonrpc:"2.0",result:null,error:void 0};try{const o=await this.request({method:e.data.method,params:e.data.params,chainId:e.chainId,origin:e.origin,projectAccessKey:e.projectAccessKey});return Lt({},e,{data:s?Lt({},i,{result:o}):o})}catch(o){return Lt({},e,{data:s?Lt({},i,{error:o}):{error:o}})}}async request(e){await this.getAccount();try{var n,r;if((!this.account||this.account===null)&&!Wj.includes(e.method))throw zC;const u=this.account;if(!u)throw new Error("WalletRequestHandler: wallet account is not configured");const l=(n=this.account)==null?void 0:n.providerFor((r=e.chainId)!=null?r:this.defaultChainId());if(!l)throw new Error(`WalletRequestHandler: wallet provider is not configured for chainId ${e.chainId}`);const f=Hj(l)?l:void 0;switch(e.method){case"net_version":{if(!f)throw new Error("Account provider doesn't support send method");return await f.send("net_version",[])}case"eth_chainId":{if(!f)throw new Error("Account provider doesn't support send method");return await f.send("eth_chainId",[])}case"eth_accounts":return[u.address];case"eth_getBalance":{const[d,p]=e.params,y=await l.getBalance(d,p);return ja(y)}case"sequence_sign":case"personal_sign":case"eth_sign":{let d;switch(e.method){case"sequence_sign":case"personal_sign":{const[A,m]=e.params;d=A;break}case"eth_sign":{const[A,m]=e.params;d=m;break}}let p="";const y=Zg(d),g=e.method==="sequence_sign";if(this.prompter===null){var s;p=await u.signMessage(y,(s=e.chainId)!=null?s:this.defaultChainId(),g?"eip6492":"ignore")}else p=await this.prompter.promptSignMessage({chainId:e.chainId,message:$(y),eip6492:g},e.origin,e.projectAccessKey);if(p&&p.length>0)return p;throw new Error("declined by user")}case"sequence_signTypedData_v4":case"eth_signTypedData":case"eth_signTypedData_v4":{const[d,p]=e.params;let y;if(typeof p=="string")try{y=JSON.parse(p)}catch(m){console.warn("walletRequestHandler: error parsing typedData",m)}else y=p;if(!y||!y.domain||!y.types||!y.message)throw new Error("invalid typedData object");let g="";const A=e.method==="sequence_signTypedData_v4";if(this.prompter===null){var i;g=await u.signTypedData(y.domain,y.types,y.message,(i=e.chainId)!=null?i:this.defaultChainId(),A?"eip6492":"ignore")}else g=await this.prompter.promptSignMessage({chainId:e.chainId,typedData:y,eip6492:A},e.origin,e.projectAccessKey);if(g&&g.length>0)return g;throw new Error("declined by user")}case"eth_sendTransaction":{const d=Uj(e.params[0]).map(y=>("gas"in y&&y.gasLimit===void 0&&(y.gasLimit=y.gas,delete y.gas),y));Sx(u.address,d);let p="";if(this.prompter===null){var o,a;const y=await u.sendTransaction(d,(o=e.chainId)!=null?o:this.defaultChainId());p=(a=y==null?void 0:y.hash)!=null?a:""}else p=await this.prompter.promptSendTransaction(d,e.chainId,e.origin,e.projectAccessKey);if(p)return p;throw new Error("declined by user")}case"eth_signTransaction":{const[d]=e.params;if(le(d.from)!==u.address)throw new Error("sender address does not match wallet");if(Sx(u.address,d),this.prompter===null){var c;return await u.signTransactions(d,(c=e.chainId)!=null?c:this.defaultChainId())}else return await this.prompter.promptSignTransaction(d,e.chainId,e.origin,e.projectAccessKey)}case"eth_sendRawTransaction":if(Y.transaction.isSignedTransactionBundle(e.params[0])){const d=Number(e.params[0].chainId);return(await u.relayer(d).relay(e.params[0])).hash}else return(await l.broadcastTransaction(e.params[0])).hash;case"eth_getTransactionCount":{const d=le(e.params[0]),p=e.params[1],y=await l.getTransactionCount(d,p);return ja(BigInt(y))}case"eth_blockNumber":return await l.getBlockNumber();case"eth_getBlockByNumber":return await l.getBlock(e.params[0]);case"eth_getBlockByHash":return await l.getBlock(e.params[0]);case"eth_getTransactionByHash":return await l.getTransaction(e.params[0]);case"eth_call":{const[d,p]=e.params;return await l.call(Lt({},d,{blockTag:p}))}case"eth_getCode":{const[d,p]=e.params;return await l.getCode(d,p)}case"eth_estimateGas":{const[d]=e.params;return await l.estimateGas(d)}case"eth_gasPrice":{const d=await l.getFeeData();return d.gasPrice===null?null:ja(d.gasPrice)}case"wallet_switchEthereumChain":{const[d]=e.params;if(!d.chainId||d.chainId.length===0)throw new Error("invalid chainId");const p=BigInt(d.chainId);return this.setDefaultChainId(Number(p)),null}case"sequence_getWalletContext":return u.contexts;case"sequence_getWalletConfig":{const[d]=e.params;return d?[(await u.status(d)).onChain.config]:await Promise.all(u.networks.map(async function(p){return(await u.status(p.chainId)).onChain.config}))}case"sequence_getWalletState":{const[d]=e.params;return d?[u6(d,await u.status(d))]:await Promise.all(u.networks.map(async function(p){const y=await u.status(p.chainId);return u6(p.chainId,y)}))}case"sequence_getNetworks":return await this.getNetworks(!0);case"sequence_isSequence":return!0;case"sequence_updateConfig":throw new Error("sequence_updateConfig method is not allowed from a dapp");case"sequence_publishConfig":throw new Error("sequence_publishConfig method is not allowed from a dapp");case"sequence_gasRefundOptions":break;case"sequence_getNonce":break;case"sequence_relay":break;case"sequence_setDefaultNetwork":{const[d]=e.params;if(!d)throw new Error("invalid request, method argument defaultChainId cannot be empty");return this.setDefaultChainId(d),await this.getNetworks(!0)}default:{if(!f)throw new Error("Account provider doesn't support send method");return await f.send(e.method,e.params)}}}catch(u){throw fe.error(u),{message:typeof u=="string"?u:(u==null?void 0:u.message)||"unkown error",code:4001}}}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}async getAddress(){var e,n;return(e=(n=this.account)==null?void 0:n.address)!=null?e:""}get openIntent(){return this._openIntent}setOpenIntent(e){this._openIntent=e}get connectOptions(){return this._connectOptions}setConnectOptions(e){var n;this._connectOptions=e,(n=this.onConnectOptionsChange)==null||n.call(this,e)}async setDefaultChainId(e){var n;return await((n=this.prompter)==null?void 0:n.promptChangeNetwork(e)),this.defaultChainId()}async getNetworks(e){return this.account?e?this.account.networks.map(n=>{const r=Lt({},n);return r.provider=void 0,r.relayer=void 0,r}):this.account.networks:(fe.warn("signer not set: getNetworks is returning an empty list"),[])}walletSession(e){if(!this.account)return;const n={walletContext:this.account.contexts,accountAddress:this.account.address,networks:this.account.networks.map(s=>Lt({},s,{provider:void 0,relayer:void 0}))};if(e){const s=Ar(n.networks,e);if(s){var r;(r=n.networks)==null||r.forEach(i=>delete i.isDefaultChain),s.isDefaultChain=!0}}return n}notifyConnect(e,n){var r;if(console.log("emit connect",e),this.events.emit("connect",e),(r=e.session)!=null&&r.accountAddress){var s;this.events.emit("accountsChanged",[(s=e.session)==null?void 0:s.accountAddress],n)}}notifyDisconnect(e){this.events.emit("accountsChanged",[],e),this.events.emit("disconnect",void 0,e)}notifyChainChanged(e,n){this.events.emit("chainChanged",Qt(e),n)}async notifyNetworks(e){const n=e||await this.getNetworks(!0);if(this.events.emit("networks",n),n.length>0){const r=n.find(s=>s.chainId===this.defaultChainId());r&&this.events.emit("chainChanged",Qt(r.chainId))}else this.events.emit("chainChanged","0x0")}async notifyWalletContext(){if(!this.account){fe.warn("signer not set: skipping to notify wallet context");return}const e=this.account.contexts;this.events.emit("walletContext",e)}notifyClose(e){this.events.emit("close",e)}setAccount(e){if(this.account=e,e!==void 0){for(let n=0;n<this.signerReadyCallbacks.length;n++)this.signerReadyCallbacks[n]();this.signerReadyCallbacks=[]}}async handleConfirmWalletDeployPrompt(e,n,r,s,i){if(!s)return!0;const o=u=>u.canOnchainValidate||u.original.version===2&&r,a=await n.status(s);if(o(a))return!0;if(await e.promptConfirmWalletDeploy(s,i)){const u=await n.status(s);return o(u)?!0:(fe.error("WalletRequestHandler: result for promptConfirmWalletDeploy is not correct"),!1)}return!1}}function u6(t,e){return{context:e.original.context,config:e.onChain.config,address:Y.context.addressOf(e.original.context,e.original.imageHash),chainId:t,deployed:e.onChain.deployed,imageHash:e.imageHash,lastImageHash:e.onChain.imageHash,published:!0,status:e}}const Wj=["net_version","eth_chainId","eth_getBalance","eth_getTransactionCount","eth_blockNumber","eth_getBlockByNumber","eth_getBlockByHash","eth_getTransactionByHash","eth_getCode","eth_estimateGas","eth_gasPrice","sequence_getWalletContext","sequence_getNetworks","sequence_setDefaultNetwork"];function Hj(t){return t&&typeof t=="object"&&typeof t.send=="function"&&typeof t.getNetwork=="function"}function jj(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}class Ml{get utils(){return this.provider.utils}constructor(e,n){this.client=e,this.provider=n,this.singleNetworkSigners={},this._isSequenceSigner=!0}async getAddress(){return this.client.getAddress()}connect(e){if(!Ll.is(e))throw new Error("SequenceSigner can only be connected to a SequenceProvider");return new Ml(this.client,e)}getSigner(e){if(!e)return this;const n=this.provider.toChainId(e);return this.singleNetworkSigners[n]||(this.singleNetworkSigners[n]=new o2(this.client,this.provider,n)),this.singleNetworkSigners[n]}useChainId(e){return this.provider.toChainId(e)||this.client.getChainId()}async signMessage(e,n){const{eip6492:r=!0}=n||{},s=this.useChainId(n==null?void 0:n.chainId);return this.client.signMessage(e,{eip6492:r,chainId:s})}async signTypedData(e,n,r,s){const{eip6492:i=!0}=s||{},o=this.useChainId(s==null?void 0:s.chainId);return this.client.signTypedData({domain:e,types:n,message:r},{eip6492:i,chainId:o})}getProvider(e){return this.provider.getProvider(e)}async sendTransaction(e,n){const r=this.useChainId(n==null?void 0:n.chainId),s=await ZC(e),i=await this.client.sendTransaction(s,{chainId:r}),o=this.getProvider(r);try{return await new Promise(c=>{(async function l(){const f=await o.getTransaction(i);if(f!==null)return c(f);await o.once("block",l)})()})}catch(a){throw a.transactionHash=i,a}}async getWalletConfig(e){const n=this.useChainId(e);return this.client.getOnchainWalletConfig({chainId:n})}getNetworks(){return this.client.getNetworks()}async getBalance(e,n){return this.getProvider(n==null?void 0:n.chainId).getBalance(this.getAddress(),e)}async estimateGas(e,n){return this.getProvider(n==null?void 0:n.chainId).estimateGas(e)}async call(e,n){return this.getProvider(n==null?void 0:n.chainId).call(e)}getChainId(){return Promise.resolve(this.client.getChainId())}async getFeeData(e){return this.getProvider(e==null?void 0:e.chainId).getFeeData()}async resolveName(e){const n=await this.provider.resolveName(e);if(n===null)throw new Error(`ENS name not found: ${e}`);return n}_checkProvider(e){}getNonce(e){throw new Error("SequenceSigner does not support getNonce")}populateCall(e){throw new Error("SequenceSigner does not support populateCall")}populateTransaction(e){throw new Error("SequenceSigner does not support populateTransaction")}checkTransaction(e){throw new Error("SequenceSigner does not support checkTransaction")}getTransactionCount(e){throw new Error("SequenceSigner does not support getTransactionCount")}signTransaction(e){throw new Error("SequenceWallet does not support signTransaction, use sendTransaction instead.")}static is(e){return e&&typeof e=="object"&&e._isSequenceSigner===!0}}class o2 extends Ml{constructor(e,n,r){super(e,n.getProvider(r)),this.chainId=r,this._isSingleNetworkSequenceSigner=!0}_useChainId(e){const n=this.provider.toChainId(e);if(n&&n!==this.chainId)throw new Error(`This signer only supports the network ${this.chainId}, but ${n} was requested.`);return n||this.provider.toChainId(this.chainId)}useChainId(e){return this._useChainId(e)}getChainId(){return Promise.resolve(this.provider.toChainId(this.chainId))}getProvider(e){return super.getProvider(this._useChainId(e))}getSigner(e){if(this._useChainId(e)!==this.chainId)throw new Error("Unreachable code");return this}static is(e){return e&&typeof e=="object"&&e._isSingleNetworkSequenceSigner===!0}}class Gj{constructor(e){if(this.signer=e,o2.is(e))throw new Error("WalletUtils does not support SingleNetworkSequenceSigner")}signMessage(e,n,r){return this.signer.signMessage(e,{chainId:n,eip6492:r})}signTypedData(e,n,r,s,i){return this.signer.signTypedData(e,n,r,{chainId:s,eip6492:i})}async isValidSignature(e,n,r,s){return Sl(e,n,r,this.signer.getProvider(s))}async isValidMessageSignature(e,n,r,s){const i=this.signer.getProvider(s),o=Zg(n),a=b1(o);return Sl(e,a,r,i)}isValidTypedDataSignature(e,n,r,s){return this.isValidSignature(e,_l(n),r,s)}}const Vj=["method"],l6=["connect","disconnect","chainChanged","accountsChanged"];class Ll extends yl{constructor(e,n,r=ah,s){super(e.getChainId(),s),this.client=e,this.providerFor=n,this.networks=r,this.options=s,this.singleNetworkProviders={},this._isSequenceProvider=!0,this.utils=void 0,this.signer=void 0,this.eip1193EventListeners=new Map,e.onConnect(i=>{var o;(o=this.eip1193EventListeners.get("connect"))==null||o.forEach(a=>a(i))}),e.onDisconnect(i=>{var o;(o=this.eip1193EventListeners.get("disconnect"))==null||o.forEach(a=>a(i))}),e.onDefaultChainIdChanged(i=>{var o;(o=this.eip1193EventListeners.get("chainChanged"))==null||o.forEach(a=>a(i))}),e.onAccountsChanged(i=>{var o;(o=this.eip1193EventListeners.get("accountsChanged"))==null||o.forEach(a=>a(i))}),this.signer=new Ml(this.client,this),this.utils=new Gj(this.signer)}async on(e,n){if(l6.includes(e)){const r=this.eip1193EventListeners.get(e)||new Set;return r.add(n),this.eip1193EventListeners.set(e,r),this}return super.on(e,n)}async off(e,n){if(l6.includes(e)){const r=this.eip1193EventListeners.get(e);return r&&(n?r.delete(n):r.clear()),this}return super.off(e,n)}getSigner(e){return this.signer.getSigner(e)}connect(e){return this.client.connect(e)}disconnect(){return this.client.disconnect()}isConnected(){return this.client.isConnected()}getSession(){return this.client.getSession()}listAccounts(){return[this.client.getAddress()]}getAddress(){return this.client.getAddress()}getNetworks(){return this.client.getNetworks()}getChainId(){return this.client.getChainId()}setDefaultChainId(e){return this.client.setDefaultChainId(this.toChainId(e))}isOpened(){return this.client.isOpened()}closeWallet(){return this.client.closeWallet()}getWalletContext(){return this.client.getWalletContext()}async getWalletConfig(e){const n=await this.useChainId(e);return this.client.getOnchainWalletConfig({chainId:n})}authorize(e){return this.client.connect(Lt({},e,{authorize:!0}))}async openWallet(e,n){return await this.client.openWallet(e,n),!0}toChainId(e){if(e===void 0)return;const n=Ar(this.networks,e);if(!n)throw new Error(`Unsupported network ${e}`);return n.chainId}async useChainId(e){return this.toChainId(e)||this.client.getChainId()}getProvider(e){if(!e)return this;const n=this.toChainId(e);return this.singleNetworkProviders[n]||(this.singleNetworkProviders[n]=new aN(this.client,this.providerFor,n,this.options)),this.singleNetworkProviders[n]}async _getSubprovider(e){const n=await this.useChainId(e),r=this.providerFor(n);if(!r)throw new Error(`Unsupported network ${n}`);return r}async _perform(e){var n;const{method:r}=e,s=jj(e,Vj),i=await this._getSubprovider(),o=(n=i.getRpcRequest(e))!=null?n:{method:r,args:Object.values(s)};if(!o)throw new Error(`Unsupported method ${e.method}`);return i.send(o.method,o.args)}async perform(e,n){if(e==="eth_chainId")return Qt(await this.useChainId());if(e==="eth_accounts")return[this.client.getAddress()];if(e==="wallet_switchEthereumChain"){const r=n[0],s=oN(r);return this.setDefaultChainId(s)}return e==="eth_sendTransaction"||e==="eth_sign"||e==="eth_signTypedData"||e==="eth_signTypedData_v4"||e==="personal_sign"||e==="sequence_sign"||e==="sequence_signTypedData_v4"?this.client.request({method:e,params:n,chainId:this.getChainId()}):this._perform(Lt({method:e},n))}send(e,n){return this.perform(e,n)}request(e){return this.perform(e.method,e.params)}async _detectNetwork(){const e=this.client.getChainId(),n=Ar(this.networks,e);if(!n)throw new Error(`Unknown network ${e}`);return new qe(n.name,n.chainId)}async detectNetwork(){return this._detectNetwork()}async waitForTransaction(e,n,r,s){return(await this._getSubprovider(s==null?void 0:s.chainId)).waitForTransaction(e,n,r)}async getBlockNumber(e){return(await this._getSubprovider(e==null?void 0:e.chainId)).getBlockNumber()}async getFeeData(e){return(await this._getSubprovider(e==null?void 0:e.chainId)).getFeeData()}async getBalance(e,n,r){return(await this._getSubprovider(r==null?void 0:r.chainId)).getBalance(e,n)}async getTransactionCount(e,n,r){return(await this._getSubprovider(r==null?void 0:r.chainId)).getTransactionCount(e,n)}async getCode(e,n,r){return(await this._getSubprovider(r==null?void 0:r.chainId)).getCode(e,n)}async getStorage(e,n,r,s){return(await this._getSubprovider(s==null?void 0:s.chainId)).getStorage(e,n,r)}async call(e,n){return(await this._getSubprovider(n==null?void 0:n.chainId)).call(e)}async estimateGas(e,n){return(await this._getSubprovider(n==null?void 0:n.chainId)).estimateGas(e)}async getBlock(e,n,r){return(await this._getSubprovider(r==null?void 0:r.chainId)).getBlock(e,n)}async getTransaction(e,n){return(await this._getSubprovider(n==null?void 0:n.chainId)).getTransaction(e)}async getLogs(e,n){return(await this._getSubprovider(n==null?void 0:n.chainId)).getLogs(e)}async supportsENS(){return(await this.getNetworks()).some(n=>n.chainId===1)}async getResolver(e){return await this.supportsENS()?(await this._getSubprovider(1)).getResolver(e):null}async resolveName(e){return lp(e)?e:await this.supportsENS()?(await this._getSubprovider(1)).resolveName(e):null}async lookupAddress(e){return await this.supportsENS()?(await this._getSubprovider(1)).lookupAddress(e):null}async getAvatar(e){return await this.supportsENS()?(await this._getSubprovider(1)).getAvatar(e):null}}Ll.is=t=>t&&typeof t=="object"&&t._isSequenceProvider===!0;function oN(t){return typeof t=="object"?oN(t.chainId):Number(t)}class aN extends Ll{constructor(e,n,r,s){super(e,n,void 0,s),this.chainId=r,this._isSingleNetworkSequenceProvider=!0}_useChainId(e){const n=this.toChainId(e);if(n&&n!==this.chainId)throw new Error(`This provider only supports the network ${this.chainId}, but ${n} was requested.`);return n||super.toChainId(this.chainId)}useChainId(e){return Promise.resolve(this._useChainId(e))}getChainId(){return super.toChainId(this.chainId)}async getNetwork(){const e=await this.client.getNetworks(),n=Ar(e,this.chainId);if(!n)throw new Error(`Unsupported network ${this.chainId}`);return new qe(n.name,n.chainId)}getProvider(e){if(this._useChainId(e)!==this.chainId)throw new Error("Unreachable code");return this}getSigner(e){return super.getSigner(this._useChainId(e))}setDefaultChainId(e){throw new Error(`This provider only supports the network ${this.chainId}; use the parent provider to switch networks.`)}static is(e){return e&&typeof e=="object"&&e._isSingleNetworkSequenceProvider===!0}}let zj=function(t){return t[t.INIT=0]="INIT",t[t.VIEW=1]="VIEW",t[t.SIGN_MESSAGE_REQUEST=2]="SIGN_MESSAGE_REQUEST",t[t.SIGN_TYPED_DATA_REQUEST=3]="SIGN_TYPED_DATA_REQUEST",t[t.SEND_TRANSACTION_REQUEST=4]="SEND_TRANSACTION_REQUEST",t}({});class cN extends mj{}const uN=(t,e)=>{e||(e="https://nodes.sequence.app");const n=!t,r={};return t&&(r.headers={"X-Access-Key":t}),new cN(e,r,{noop:n,defaultEnabled:!0,privacy:{userIdHash:!0,userAgentSalt:!1},initProps:()=>oi()?{origin:window.location.origin}:{}})};class Ka{constructor(e){this.store=e}connectedSession(){const e=this.getSession();if(e&&e.accountAddress&&e.walletContext&&e.networks)return{accountAddress:e.accountAddress,walletContext:e.walletContext,networks:e.networks};throw new Error("Sequence session not connected")}hasSession(){var e;return((e=this.getSession())==null?void 0:e.accountAddress)!==void 0}setSession(e){return this.store.setItem(Ka.SESSION_LOCALSTORE_KEY,JSON.stringify(e))}getSession(){try{const e=this.store.getItem(Ka.SESSION_LOCALSTORE_KEY);if(e)return JSON.parse(e)}catch(e){console.error("Error parsing session",e)}}async clearSession(){return this.store.removeItem(Ka.SESSION_LOCALSTORE_KEY)}}Ka.SESSION_LOCALSTORE_KEY="@sequence.session";class qa{constructor(e,n=1){this.store=e,this.startingChainId=n,this.callbacks=[],e.onItemChange(qa.SESSION_CHAIN_ID_KEY,r=>{if(r){const s=parseInt(r);this.callbacks.forEach(i=>i(s))}})}onDefaultChainIdChanged(e){return this.callbacks.push(e),()=>{this.callbacks=this.callbacks.filter(n=>n!==e)}}setDefaultChainId(e){e!==this.getDefaultChainId()&&this.store.setItem(qa.SESSION_CHAIN_ID_KEY,e.toString())}getDefaultChainId(){const e=this.store.getItem(qa.SESSION_CHAIN_ID_KEY);return!e||e.length===0?this.startingChainId:parseInt(e)}}qa.SESSION_CHAIN_ID_KEY="@sequence.session.defaultChainId";class a2{constructor(e,n,r){var s,i;if(this.session=void 0,this.defaultChainId=void 0,this.callbacks={},this.transport=void 0,this.defaultEIP6492=void 0,this.projectAccessKey=void 0,this.analytics=void 0,iN(e))this.transport=em.new(e,r==null?void 0:r.projectAccessKey);else if(GC(e))this.transport=e;else throw new Error("Invalid transport");const o=r==null?void 0:r.defaultChainId;if(this.defaultEIP6492=(s=r==null?void 0:r.defaultEIP6492)!=null?s:!1,this.session=new Ka(n),this.defaultChainId=new qa(n,o),this.transport.on("accountsChanged",u=>{var l;u.length>1&&console.warn("SequenceClient: wallet-webapp returned more than one account"),(l=this.callbacks.accountsChanged)==null||l.forEach(f=>f(u))}),this.transport.on("connect",u=>{var l;const f=Qt(this.getChainId());(l=this.callbacks.connect)==null||l.forEach(d=>d(Lt({},u,{chainId:f})))}),this.transport.on("disconnect",(u,l)=>{var f;(f=this.callbacks.disconnect)==null||f.forEach(d=>d(u,l))}),this.transport.on("networks",u=>{var l;(l=this.callbacks.networks)==null||l.forEach(f=>f(u))}),this.transport.on("walletContext",u=>{var l;(l=this.callbacks.walletContext)==null||l.forEach(f=>f(u))}),this.transport.on("open",u=>{var l;(l=this.callbacks.open)==null||l.forEach(f=>f(u))}),this.transport.on("close",()=>{var u;(u=this.callbacks.close)==null||u.forEach(l=>l())}),this.transport.on("chainChanged",(u,l)=>{var f;(f=this.callbacks.chainChanged)==null||f.forEach(d=>d(u,l))}),this.defaultChainId.onDefaultChainIdChanged(u=>{var l;const f=Qt(u);(l=this.callbacks.chainChanged)==null||l.forEach(d=>d(f))}),r!=null&&r.projectAccessKey&&(this.projectAccessKey=r.projectAccessKey),this.projectAccessKey&&r!=null&&r.analytics&&(this.analytics=uN(this.projectAccessKey)),(i=this.session.getSession())!=null&&i.accountAddress){var a,c;(a=this.analytics)==null||a.identify((c=this.session.getSession())==null||(c=c.accountAddress)==null?void 0:c.toLowerCase())}}registerCallback(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),()=>{this.callbacks[e]=this.callbacks[e].filter(r=>r!==n)}}onOpen(e){return this.registerCallback("open",e)}onClose(e){return this.registerCallback("close",e)}onConnect(e){return this.registerCallback("connect",e)}onDisconnect(e){return this.registerCallback("disconnect",e)}onNetworks(e){return this.registerCallback("networks",e)}onAccountsChanged(e){return this.registerCallback("accountsChanged",e)}onWalletContext(e){return this.registerCallback("walletContext",e)}onChainChanged(e){return this.registerCallback("chainChanged",e)}onDefaultChainIdChanged(e){return this.registerCallback("chainChanged",e)}getChainId(){return this.defaultChainId.getDefaultChainId()}setDefaultChainId(e){return this.defaultChainId.setDefaultChainId(e)}async openWallet(e,n){return this.transport.openWallet(e,n,this.getChainId()),await this.transport.waitUntilOpened(),this.isOpened()}closeWallet(){return this.transport.closeWallet()}isOpened(){return this.transport.isOpened()}isConnected(){return this.session.hasSession()}getSession(){return this.session.getSession()}getAddress(){return this.session.connectedSession().accountAddress}async connect(e){if((e==null?void 0:e.authorizeVersion)===void 0&&(e.authorizeVersion=2),(e==null?void 0:e.refresh)===!0&&this.disconnect(),e.projectAccessKey=this.projectAccessKey,e&&e.authorize){if(!e.app)throw new Error("connecting with 'authorize' option also requires 'app' to be set");e.authorizeVersion===void 0&&(e.authorizeVersion=2)}await this.openWallet(void 0,{type:"connect",options:Lt({},e,{networkId:this.getChainId(),clientVersion:yn})});const n=await this.transport.waitUntilConnected().catch(i=>i instanceof Error?{connected:!1,error:i.message}:{connected:!1,error:JSON.stringify(i)});if(n.chainId&&(n.chainId=BigInt(n.chainId).toString()),n.connected){var r;if(!n.session)throw new Error("impossible state, connect response is missing session");if(this.session.setSession(n.session),(r=n.session)!=null&&r.accountAddress){var s;(s=this.analytics)==null||s.identify(n.session.accountAddress.toLowerCase())}}return n}disconnect(){var e;return this.isOpened()&&this.closeWallet(),(e=this.analytics)==null||e.reset(),this.session.clearSession()}async request(e){e.method=this.mapSignMethod(e.method);const n=await this.transport.request(e);return Kj(n)}async getNetworks(e){const n=this.session.connectedSession();return e&&(n.networks=await this.request({method:"sequence_getNetworks"}),this.session.setSession(n)),n.networks}signMethod(e){return(e==null?void 0:e.eip6492)===void 0?"personal_sign":e.eip6492?"sequence_sign":"legacy_sign"}signTypedDataMethod(e){return(e==null?void 0:e.eip6492)===void 0?"eth_signTypedData_v4":e.eip6492?"sequence_signTypedData_v4":"legacy_signTypedData_v4"}mapSignMethod(e){return e==="personal_sign"?this.defaultEIP6492?"sequence_sign":"personal_sign":e==="eth_signTypedData_v4"?this.defaultEIP6492?"sequence_signTypedData_v4":"eth_signTypedData_v4":e==="legacy_sign"?"personal_sign":e==="legacy_signTypedData_v4"?"eth_signTypedData_v4":e}async signMessage(e,n){var r;const s=this.signMethod(n);return(r=this.analytics)==null||r.track({event:"SIGN_MESSAGE_REQUEST",props:{chainId:`${(n==null?void 0:n.chainId)||this.getChainId()}`}}),e=L(s2(e)),this.request({method:s,params:[e,this.getAddress()],chainId:n==null?void 0:n.chainId})}async signTypedData(e,n){var r;const s=this.signTypedDataMethod(n),i=Zr.getPayload(e.domain,e.types,e.message);return(r=this.analytics)==null||r.track({event:"SIGN_TYPED_DATA_REQUEST",props:{chainId:`${(n==null?void 0:n.chainId)||this.getChainId()}`}}),this.request({method:s,params:[this.getAddress(),i],chainId:(n==null?void 0:n.chainId)||e.domain.chainId&&Number(e.domain.chainId)||this.getChainId()})}async sendTransaction(e,n){var r;const s=Array.isArray(e)?e:[e],i=Dj(s);return(r=this.analytics)==null||r.track({event:"SEND_TRANSACTION_REQUEST",props:{chainId:`${(n==null?void 0:n.chainId)||this.getChainId()}`}}),this.request({method:"eth_sendTransaction",params:[i],chainId:n==null?void 0:n.chainId})}async getWalletContext(){return this.request({method:"sequence_getWalletContext"})}async getOnchainWalletConfig(e){const n=await this.request({method:"sequence_getWalletConfig",params:[(e==null?void 0:e.chainId)||this.getChainId()],chainId:e==null?void 0:e.chainId});return Array.isArray(n)?n[0]:n}}const Kj=t=>t&&typeof t=="object"&&"jsonrpc"in t&&"result"in t?t.result:t,Tx={transports:{walletAppURL:"https://sequence.app",windowTransport:{enabled:!0},proxyTransport:{enabled:!1}},defaultNetwork:1,analytics:!0};let Ss;const lN=(t,e)=>{var n,r;if(!t||typeof t!="string")throw new Error("Please pass a projectAccessKey in initWallet.");if(Ss)return Ss;const s=Lt({},Tx,e,{transports:Lt({},Tx.transports,e==null?void 0:e.transports)});let i=[];const o=(d=[])=>{var p;i=qj(ah,d,(p=s.networks)!=null?p:[]),i=i.map(y=>(y.rpcUrl.includes(t)||(y.rpcUrl=y.rpcUrl+`/${t}`),y))};o();const a=s.defaultNetwork?(n=Ar(i,s.defaultNetwork))==null?void 0:n.chainId:void 0;if(!a&&s.defaultNetwork)throw new Error(`defaultNetwork not found for chainId: ${s.defaultNetwork}`);const c=s.localStorage||Rp(),u=new a2(s.transports,c,{defaultChainId:a,defaultEIP6492:s.defaultEIP6492,projectAccessKey:t,analytics:s.analytics});o((r=u.getSession())==null?void 0:r.networks),u.onConnect(d=>{var p;o((p=d.session)==null?void 0:p.networks)});const l={},f=d=>{const p=Ar(i,d);if(!p)throw new Error(`no network config found for chainId: ${d}`);const{rpcUrl:y}=p;return l[y]||(l[y]=new pk(y,{middlewares:[fk,lk,new w1]},{cacheTimeout:-1})),l[y]};return Ss=new Ll(u,f),Ss},fN=()=>{Ss&&(Ss.client.closeWallet(),Ss.client.transport.unregister(),Ss=void 0)},dN=()=>{if(!Ss)throw new Error("Wallet has not been initialized, call sequence.initWallet(config) first.");return Ss},qj=(...t)=>{const e=new Map;for(const n of t.flat())if(n.chainId&&n.rpcUrl){const r=e.get(n.chainId);e.set(n.chainId,Lt({},r,n))}return Array.from(e.values())},Qj=Object.freeze(Object.defineProperty({__proto__:null,Analytics:cN,AnalyticsEventType:zj,BaseInjectedTransport:Mj,BaseProviderTransport:hh,BaseWalletTransport:ph,CHANNEL_ID:i2,DefaultChainIdTracker:qa,DefaultProviderConfig:Tx,ErrSignedInRequired:zC,EventType:Te,ExtensionMessageHandler:Bj,ExtensionMessageProvider:rN,InitState:et,LocalStorage:kd,MemoryItemStore:XC,MuxMessageProvider:em,OpenState:mr,PROVIDER_OPEN_TIMEOUT:r2,ProviderError:VC,ProxyMessageChannel:Pj,ProxyMessageChannelPort:kx,ProxyMessageHandler:Rj,ProxyMessageProvider:eN,SequenceClient:a2,SequenceClientSession:Ka,SequenceProvider:Ll,SequenceSigner:Ml,SingleNetworkSequenceProvider:aN,SingleNetworkSequenceSigner:o2,UnrealMessageHandler:_j,UnrealMessageProvider:nN,WalletRequestHandler:$j,WindowMessageHandler:Lj,WindowMessageProvider:sN,WindowSessionParams:dh,getWallet:dN,initWallet:lN,isBrowserExtension:Pp,isMuxTransportTemplate:iN,isProviderTransport:GC,isUnityPlugin:JC,isValidMessageSignature:qC,isValidSignature:Sl,isValidTypedDataSignature:QC,isWalletUpToDate:YC,messageToBytes:s2,nextMessageIdx:KC,prefixEIP191Message:Zg,resolveArrayProperties:ZC,setupAnalytics:uN,trimEIP191Prefix:Nj,unregisterWallet:fN,useBestStore:Rp,validateTransactionRequest:Sx},Symbol.toStringTag,{value:"Module"}));function In(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var Jj=In({__proto__:null},[aR]),Yj=In({__proto__:null},[yR]),Xj=In({__proto__:null},[bH]),Zj=In({__proto__:null},[LH]),eG=In({__proto__:null},[cW]),tG=In({__proto__:null},[wW]),nG=In({__proto__:null},[dF]),rG=In({__proto__:null},[Qj]),sG=In({__proto__:null},[k$]);const iG=Y.transaction;var oG=Object.freeze({__proto__:null,transactions:iG}),aG=In({__proto__:null,isValidSignature:Sl,isValidMessageSignature:qC,isValidTypedDataSignature:QC,isWalletUpToDate:YC},[ZU]),cG=In({__proto__:null},[n$]),uG=In({__proto__:null},[T$]),lG=In({__proto__:null},[gH]),fG=In({__proto__:null},[c$]),dG=In({__proto__:null},[P$]),hG=Object.freeze({__proto__:null,abi:Jj,api:Yj,auth:Xj,guard:Zj,indexer:eG,metadata:tG,network:nG,provider:rG,relayer:sG,transactions:oG,utils:aG,core:cG,signhub:uG,sessions:lG,migration:fG,account:dG,initWallet:lN,getWallet:dN,unregisterWallet:fN,SequenceProvider:Ll,SequenceClient:a2,SequenceSigner:Ml});const pG=["function balanceOf(address owner) view returns (uint256)","function tokenOfOwnerByIndex(address owner, uint256 index) view returns (uint256)","function tokenURI(uint256 tokenId) view returns (string)","function ownerOf(uint256 tokenId) view returns (address)","function totalSupply() view returns (uint256)","function tokenByIndex(uint256 index) view returns (uint256)"],f6="0x17c396a86950f43aee81bc447f7db707ef30b1d8",gG=421614;function mG(){const[t,e]=_r.useState(null),[n,r]=_r.useState(null),[s,i]=_r.useState(!1),[o,a]=_r.useState(!1),[c,u]=_r.useState(null),[l,f]=_r.useState(null),[d,p]=_r.useState([]);_r.useEffect(()=>{(async()=>{try{const w=await hG.initWallet("AQAAAAAAAKDv534ryf8T3Mz7NWCSnYThKUg");if(console.log("Wallet initialized:",w),e(w),await w.isConnected()){const O=await w.getAddress();r(O),i(!0),A(O)}}catch(w){console.error("Error initializing wallet:",w),f("Error al inicializar la wallet. Por favor, recarga la pgina.")}})()},[]);const y=async()=>{if(!t){console.error("Wallet not initialized");return}try{console.log("Connecting wallet...");const x=await t.connect({app:"BlockBites NFT Verification",authorize:!0,networkId:gG,settings:{theme:"dark"}});if(console.log("Connect details:",x),x.connected){const w=await t.getAddress();console.log("Connected address:",w),r(w),i(!0),await A(w)}}catch(x){console.error("Error connecting wallet:",x),f("Error al conectar la wallet. Por favor, intenta de nuevo.")}},g=async x=>{try{console.log("Obteniendo NFTs para:",x);const C=await new H1("https://arbitrum-sepolia-indexer.sequence.app","AQAAAAAAAKDv534ryf8T3Mz7NWCSnYThKUg").getTokenBalances({accountAddress:x,contractAddress:f6,includeMetadata:!0});console.log("Resultado completo:",C);const O=C.balances.filter(M=>{var R;return BigInt(M.balance)>BigInt(0)&&((R=M.tokenMetadata)==null?void 0:R.image)});console.log("NFTs encontrados:",O);const B=O.map(M=>{var R,K,j;return{image:((R=M.tokenMetadata)==null?void 0:R.image)||"",name:((K=M.tokenMetadata)==null?void 0:K.name)||`NFT #${M.tokenID}`,description:((j=M.tokenMetadata)==null?void 0:j.description)||"",tokenId:M.tokenID}});console.log("Datos de NFTs procesados:",B),p(B)}catch(w){console.error("Error especfico obteniendo NFTs:",w),f("Error al cargar las imgenes de los NFTs")}},A=async x=>{a(!0),f(null);try{console.log("Checking NFT balance for address:",x);const w=new It("https://sepolia-rollup.arbitrum.io/rpc"),O=await new vn(f6,pG,w).balanceOf(x);console.log("NFT balance:",O),u(Number(O)),Number(O)>0&&await g(x)}catch(w){console.error("Error checking NFT balance:",w),f("Error al verificar los NFTs. Por favor, intenta de nuevo."),u(null)}finally{a(!1)}},m=()=>o?Le.jsx("p",{className:"text-black",children:"Verificando NFTs..."}):c!==null?c>0?Le.jsxs("div",{className:"p-4 bg-green-100 rounded-md",children:[Le.jsx("p",{className:"text-green-700 font-medium",children:"Felicitaciones, eres holder de nuestra coleccin!"}),Le.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["Tienes ",c," NFT",c!==1?"s":""," de BlockBites"]}),l&&Le.jsx("p",{className:"text-red-500 mt-2",children:l})]}):Le.jsx("div",{className:"p-4 bg-red-100 rounded-md",children:Le.jsx("p",{className:"text-red-700 font-medium",children:"Lo sentimos, pero no eres holder de ningn NFT de la coleccin de BlockBites"})}):null;return Le.jsxs(Le.Fragment,{children:[Le.jsx("img",{src:"/bb_logo.svg",alt:"Blockbites",className:"logo"}),Le.jsxs("div",{className:"wallet-container",children:[Le.jsxs("div",{className:"wallet-title",children:[Le.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Le.jsx("path",{d:"M21 7V17C21 18.1046 20.1046 19 19 19H5C3.89543 19 3 18.1046 3 17V7C3 5.89543 3.89543 5 5 5H19C20.1046 5 21 5.89543 21 7Z",stroke:"black",strokeWidth:"2"}),Le.jsx("path",{d:"M16 12H16.002V12.002H16V12Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]}),"Connect Wallet"]}),Le.jsx("button",{className:"connect-button",onClick:y,children:"Connect with Sequence"}),m()]}),s&&c&&c>0&&Le.jsxs("div",{className:"nft-container",children:[Le.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Tus NFTs de BlockBites"}),Le.jsx("div",{className:"nft-grid",children:d.length>0?d.map((x,w)=>Le.jsxs("div",{className:"nft-card",children:[Le.jsxs("div",{className:"nft-image-container",children:[Le.jsx("img",{src:x.image,alt:x.name,className:"nft-image",loading:"lazy",onError:C=>{const O=C.target;O.src="/nft-placeholder.png"}}),Le.jsxs("div",{className:"nft-token-id",children:["#",x.tokenId]})]}),Le.jsxs("div",{className:"nft-info",children:[Le.jsx("h3",{className:"nft-name",children:x.name}),x.description&&Le.jsx("p",{className:"nft-description",children:x.description})]})]},w)):Le.jsx("div",{className:"col-span-full flex items-center justify-center p-4",children:Le.jsxs("div",{className:"text-center",children:[Le.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-2"}),Le.jsx("p",{className:"text-sm text-gray-600",children:"Cargando tus NFTs..."})]})})})]})]})}T3(document.getElementById("root")).render(Le.jsx(_r.StrictMode,{children:Le.jsx(mG,{})}));
